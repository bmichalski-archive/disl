!function(n,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e=t();for(var r in e)("object"==typeof exports?exports:n)[r]=e[r]}}(this,function(){return function(n){function t(r){if(e[r])return e[r].exports;var o=e[r]={exports:{},id:r,loaded:!1};return n[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var e={};return t.m=n,t.c=e,t.p="",t(0)}([function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{default:n}}var o=e(1),i=r(o),u=e(7),c=r(u),a=e(8),f=r(a),s=e(5),l=r(s),y=e(6),p=r(y),d=e(3),v=r(d);n.exports={Container:i.default,ClassConstructorDefinition:c.default,FactoryDefinition:f.default,Reference:l.default,Parameter:p.default,MethodCall:v.default}},function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{default:n}}function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function i(n,t){var e=4,r=15;if(void 0===t&&(t=0),t+=1,null===n)return"null";if(void 0===n)return"void";if("string"==typeof n||"number"==typeof n||"boolean"==typeof n)return"undefined"==typeof n?"undefined":u(n);if(!Array.isArray(n)){var o=Object.keys(n);if(!o.length)return n.constructor&&n.constructor.name&&"Object"!==n.constructor.name?n.constructor.name:"Object";if(t>e)return"{...}";var c="  ".repeat(t-1),a=o.slice(0,r).map(function(e){return(/^([A-Z_$][A-Z0-9_$]*)$/i.test(e)?e:JSON.stringify(e))+": "+i(n[e],t)+";"}).join("\n  "+c);return o.length>=r&&(a+="\n  "+c+"..."),n.constructor&&n.constructor.name&&"Object"!==n.constructor.name?n.constructor.name+" {\n  "+c+a+"\n"+c+"}":"{\n  "+c+a+"\n"+c+"}"}if(!(n.length>0))return"Array";var f=function(){if(t>e)return{v:"[...]"};var o=i(n[0],t);return n.every(function(n){return i(n,t)===o})?{v:o.trim()+"[]"}:{v:"["+n.slice(0,r).map(function(n){return i(n,t)}).join(", ")+(n.length>=r?", ...":"")+"]"}}();return"object"===("undefined"==typeof f?"undefined":u(f))?f.v:void 0}Object.defineProperty(t,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},c=function(){function n(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}}(),a=e(2),f=r(a),s=e(7),l=r(s),y=e(8),p=r(y),d=e(5),v=r(d),h=e(6),m=r(h),b=e(3),g=r(b),w=e(4),E=w.InjectableArguments,j=function(){function n(n){return"string"==typeof n||"number"==typeof n||"boolean"==typeof n||null==n}return Object.defineProperty(n,Symbol.hasInstance,{value:function(t){return n(t)}}),n}(),_=function(){function n(n){return null!=n&&n.obj instanceof Object&&Array.isArray(n.arr)&&n.arr.every(function(n){return"string"==typeof n})}return Object.defineProperty(n,Symbol.hasInstance,{value:function(t){return n(t)}}),n}(),O=function(){function n(n){return"function"==typeof n}return Object.defineProperty(n,Symbol.hasInstance,{value:function(t){return n(t)}}),n}(),x=function(){function n(){o(this,n),this._servicesByIdentifier={},this._serviceDefinitionsByIdentifier={},this._parametersByIdentifier={},this._serviceDefinitionsAlreadyUsedToInstantiateByIdentifier={},this._classConstructorLocators=[],this._instanceLocators=[]}return c(n,[{key:"get",value:function(){function n(n){if(!(n instanceof Promise))throw new TypeError("Function return value violates contract.\n\nExpected:\nPromise<Object | Function>\n\nGot:\n"+i(n));return n}for(var t=this,e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];if(!Array.isArray(r)||!r.every(function(n){return"string"==typeof n}))throw new TypeError('Value of argument "identifiers" violates contract.\n\nExpected:\nArray<string>\n\nGot:\n'+i(r));var u=[];return r.forEach(function(n){u.push(t._doGetService(n,{obj:{},arr:[]}))}),n(Promise.all(u))}},{key:"set",value:function(t,e){function r(t){if(!(t instanceof n))throw new TypeError("Function return value violates contract.\n\nExpected:\nContainer\n\nGot:\n"+i(t));return t}if("string"!=typeof t)throw new TypeError('Value of argument "identifier" violates contract.\n\nExpected:\nstring\n\nGot:\n'+i(t));if(!(e instanceof Object||"function"==typeof e))throw new TypeError('Value of argument "instance" violates contract.\n\nExpected:\nObject | Function\n\nGot:\n'+i(e));return this._servicesByIdentifier[t]=e,r(this)}},{key:"has",value:function(n){function t(n){if("boolean"!=typeof n)throw new TypeError("Function return value violates contract.\n\nExpected:\nboolean\n\nGot:\n"+i(n));return n}if("string"!=typeof n)throw new TypeError('Value of argument "identifier" violates contract.\n\nExpected:\nstring\n\nGot:\n'+i(n));return t(this.hasDefinition(n)||this.hasInstance(n))}},{key:"hasDefinition",value:function(n){function t(n){if("boolean"!=typeof n)throw new TypeError("Function return value violates contract.\n\nExpected:\nboolean\n\nGot:\n"+i(n));return n}if("string"!=typeof n)throw new TypeError('Value of argument "identifier" violates contract.\n\nExpected:\nstring\n\nGot:\n'+i(n));return t(void 0!==this._serviceDefinitionsByIdentifier[n])}},{key:"hasInstance",value:function(n){function t(n){if("boolean"!=typeof n)throw new TypeError("Function return value violates contract.\n\nExpected:\nboolean\n\nGot:\n"+i(n));return n}if("string"!=typeof n)throw new TypeError('Value of argument "identifier" violates contract.\n\nExpected:\nstring\n\nGot:\n'+i(n));return t(void 0!==this._servicesByIdentifier[n])}},{key:"getDefinition",value:function(n){function t(n){if(!(n instanceof f.default))throw new TypeError("Function return value violates contract.\n\nExpected:\nDefinition\n\nGot:\n"+i(n));return n}if("string"!=typeof n)throw new TypeError('Value of argument "identifier" violates contract.\n\nExpected:\nstring\n\nGot:\n'+i(n));var e=this._serviceDefinitionsByIdentifier[n];if(void 0===e)throw new Error('Missing service definition for identifier "'+n+'"');return t(e)}},{key:"setDefinition",value:function(t,e){function r(t){if(!(t instanceof n))throw new TypeError("Function return value violates contract.\n\nExpected:\nContainer\n\nGot:\n"+i(t));return t}if("string"!=typeof t)throw new TypeError('Value of argument "identifier" violates contract.\n\nExpected:\nstring\n\nGot:\n'+i(t));if(!(e instanceof f.default))throw new TypeError('Value of argument "definition" violates contract.\n\nExpected:\nDefinition\n\nGot:\n'+i(e));if(this._serviceDefinitionsAlreadyUsedToInstantiateByIdentifier[t])throw new Error('Service definition for "'+t+'" has already been used to instantiate a service, refusing to modify it');return this._serviceDefinitionsAlreadyUsedToInstantiateByIdentifier[t]=!1,this._serviceDefinitionsByIdentifier[t]=e,r(this)}},{key:"getParameter",value:function(n){function t(n){if(!j(n))throw new TypeError("Function return value violates contract.\n\nExpected:\nscalar\n\nGot:\n"+i(n));return n}if("string"!=typeof n)throw new TypeError('Value of argument "identifier" violates contract.\n\nExpected:\nstring\n\nGot:\n'+i(n));if(void 0===this._parametersByIdentifier[n])throw new Error('Undefined parameter "'+n+'"');return t(this._parametersByIdentifier[n])}},{key:"setParameter",value:function(t,e){function r(t){if(!(t instanceof n))throw new TypeError("Function return value violates contract.\n\nExpected:\nContainer\n\nGot:\n"+i(t));return t}if("string"!=typeof t)throw new TypeError('Value of argument "identifier" violates contract.\n\nExpected:\nstring\n\nGot:\n'+i(t));if(!j(e))throw new TypeError('Value of argument "value" violates contract.\n\nExpected:\nscalar\n\nGot:\n'+i(e));return this._parametersByIdentifier[t]=e,r(this)}},{key:"hasParameter",value:function(n){function t(n){if("boolean"!=typeof n)throw new TypeError("Function return value violates contract.\n\nExpected:\nboolean\n\nGot:\n"+i(n));return n}if("string"!=typeof n)throw new TypeError('Value of argument "identifier" violates contract.\n\nExpected:\nstring\n\nGot:\n'+i(n));return t(void 0!==this._parametersByIdentifier[n])}},{key:"registerClassConstructorLocator",value:function(t){function e(t){if(!(t instanceof n))throw new TypeError("Function return value violates contract.\n\nExpected:\nContainer\n\nGot:\n"+i(t));return t}if(!O(t))throw new TypeError('Value of argument "locator" violates contract.\n\nExpected:\nLocatorCallback\n\nGot:\n'+i(t));return this._classConstructorLocators.push(t),e(this)}},{key:"registerInstanceLocator",value:function(t){function e(t){if(!(t instanceof n))throw new TypeError("Function return value violates contract.\n\nExpected:\nContainer\n\nGot:\n"+i(t));return t}if(!O(t))throw new TypeError('Value of argument "locator" violates contract.\n\nExpected:\nLocatorCallback\n\nGot:\n'+i(t));return this._instanceLocators.push(t),e(this)}},{key:"_instantiate",value:function(n,t){function e(n){if(!(n instanceof Promise))throw new TypeError("Function return value violates contract.\n\nExpected:\nPromise<Object>\n\nGot:\n"+i(n));return n}var r=this;if(!(n instanceof f.default))throw new TypeError('Value of argument "definition" violates contract.\n\nExpected:\nDefinition\n\nGot:\n'+i(n));if(!_(t))throw new TypeError('Value of argument "loading" violates contract.\n\nExpected:\nLoadingObject\n\nGot:\n'+i(t));return e(this._resolveArgs(n.args,t).then(function(e){function o(n){if(!(n instanceof Promise))throw new TypeError("Function return value violates contract.\n\nExpected:\nPromise\n\nGot:\n"+i(n));return n}if(!Array.isArray(e))throw new TypeError('Value of argument "args" violates contract.\n\nExpected:\nArray\n\nGot:\n'+i(e));var u=void 0;if(n instanceof l.default){var c=r._locateServiceClassConstructor(n.classConstructorIdentifier);u=new(Function.prototype.bind.apply(c,[void 0].concat(e)))}else{if(!(n instanceof p.default))throw new Error("Unsupported");if(u=n.factory.apply(void 0,e),void 0===u)throw new Error("Expecting factory method to return a service")}var a=[];return n.methodCalls.forEach(function(n){if(!(n instanceof g.default))throw new TypeError('Value of argument "methodCall" violates contract.\n\nExpected:\nMethodCall\n\nGot:\n'+i(n));var e=n.name,o=u[e];if(void 0===o)throw new Error('Method "'+e+'" does not exist');a.push(r._resolveArgs(n.args,t).then(function(n){function t(n){if(!(null==n||n instanceof Promise))throw new TypeError("Function return value violates contract.\n\nExpected:\n?Promise | mixed\n\nGot:\n"+i(n));return n}if(!Array.isArray(n))throw new TypeError('Value of argument "args" violates contract.\n\nExpected:\nArray\n\nGot:\n'+i(n));return t(o.apply(u,n))}))}),o(Promise.all(a).then(function(){function n(n){if(!(n instanceof Object))throw new TypeError("Function return value violates contract.\n\nExpected:\nObject\n\nGot:\n"+i(n));return n}return n(u)}))}))}},{key:"_locateServiceClassConstructor",value:function(n){function t(n){if("function"!=typeof n)throw new TypeError("Function return value violates contract.\n\nExpected:\nFunction\n\nGot:\n"+i(n));return n}if("string"!=typeof n)throw new TypeError('Value of argument "identifier" violates contract.\n\nExpected:\nstring\n\nGot:\n'+i(n));var e=void 0,r=void 0;for(e in this._classConstructorLocators)if(this._classConstructorLocators.hasOwnProperty(e)&&(r=this._classConstructorLocators[e](n),void 0!==r))break;if(void 0===r)throw new Error('Could not locate service class constructor for identifier "'+n+'"');return t(r)}},{key:"_locateInstance",value:function(n){function t(n){if(!(n instanceof Object||null==n))throw new TypeError("Function return value violates contract.\n\nExpected:\nObject | void\n\nGot:\n"+i(n));return n}if("string"!=typeof n)throw new TypeError('Value of argument "identifier" violates contract.\n\nExpected:\nstring\n\nGot:\n'+i(n));var e=void 0,r=void 0;for(e in this._instanceLocators)if(this._instanceLocators.hasOwnProperty(e)&&(r=this._instanceLocators[e](n),void 0!==r))break;return t(r)}},{key:"_resolveArgs",value:function(t,e){function r(n){if(!(n instanceof Promise))throw new TypeError("Function return value violates contract.\n\nExpected:\nPromise\n\nGot:\n"+i(n));return n}var o=this;if(!E(t))throw new TypeError('Value of argument "args" violates contract.\n\nExpected:\nInjectableArguments\n\nGot:\n'+i(t));if(!_(e))throw new TypeError('Value of argument "loading" violates contract.\n\nExpected:\nLoadingObject\n\nGot:\n'+i(e));var c=[];return t.forEach(function(t){if(t instanceof v.default){var r=t.id;c.push(o._doGetService(r,n._deepCopyLoading(e)))}else{if(!(t instanceof m.default))throw new Error('Unsupported arg of type "'+("undefined"==typeof t?"undefined":u(t))+'"');c.push(o.getParameter(t.id))}}),r(Promise.all(c))}},{key:"_doGetService",value:function(t,e){function r(n){if(!(n instanceof Promise))throw new TypeError("Function return value violates contract.\n\nExpected:\nPromise\n\nGot:\n"+i(n));return n}if("string"!=typeof t)throw new TypeError('Value of argument "identifier" violates contract.\n\nExpected:\nstring\n\nGot:\n'+i(t));if(!_(e))throw new TypeError('Value of argument "loading" violates contract.\n\nExpected:\nLoadingObject\n\nGot:\n'+i(e));if(void 0!==e.obj[t]){var o=e.arr.concat([t]).join(" => ");return r(Promise.reject(new Error("Circular dependency detected "+o)))}if(!this.hasInstance(t)){if(!this.hasDefinition(t)){var u=this._locateInstance(t);return r(void 0!==u?Promise.resolve(u).then(function(e){return new Promise(function(r,o){void 0===e?o(n._createMissingServiceDefinitionAndInstanceForIdentifierError(t)):r(e)})}):Promise.reject(n._createMissingServiceDefinitionAndInstanceForIdentifierError(t)))}e.obj[t]=!0,e.arr.push(t);var c=this._instantiate(this.getDefinition(t),e);this._serviceDefinitionsAlreadyUsedToInstantiateByIdentifier[t]=!0,this._servicesByIdentifier[t]=c}return r(Promise.resolve(this._servicesByIdentifier[t]))}}],[{key:"_createMissingServiceDefinitionAndInstanceForIdentifierError",value:function(n){if("string"!=typeof n)throw new TypeError('Value of argument "identifier" violates contract.\n\nExpected:\nstring\n\nGot:\n'+i(n));return new Error('Missing service definition and instance for identifier "'+n+'"')}},{key:"_deepCopyLoading",value:function(n){if(!(n instanceof Object))throw new TypeError('Value of argument "loading" violates contract.\n\nExpected:\nObject\n\nGot:\n'+i(n));var t={obj:{},arr:[].concat(n.arr)};for(var e in n.obj)n.obj.hasOwnProperty(e)&&(t.obj[e]=n.obj[e]);return t}}]),n}();t.default=x},function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{default:n}}function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function i(n,t){var e=4,r=15;if(void 0===t&&(t=0),t+=1,null===n)return"null";if(void 0===n)return"void";if("string"==typeof n||"number"==typeof n||"boolean"==typeof n)return"undefined"==typeof n?"undefined":u(n);if(!Array.isArray(n)){var o=Object.keys(n);if(!o.length)return n.constructor&&n.constructor.name&&"Object"!==n.constructor.name?n.constructor.name:"Object";if(t>e)return"{...}";var c="  ".repeat(t-1),a=o.slice(0,r).map(function(e){return(/^([A-Z_$][A-Z0-9_$]*)$/i.test(e)?e:JSON.stringify(e))+": "+i(n[e],t)+";"}).join("\n  "+c);return o.length>=r&&(a+="\n  "+c+"..."),n.constructor&&n.constructor.name&&"Object"!==n.constructor.name?n.constructor.name+" {\n  "+c+a+"\n"+c+"}":"{\n  "+c+a+"\n"+c+"}"}if(!(n.length>0))return"Array";var f=function(){if(t>e)return{v:"[...]"};var o=i(n[0],t);return n.every(function(n){return i(n,t)===o})?{v:o.trim()+"[]"}:{v:"["+n.slice(0,r).map(function(n){return i(n,t)}).join(", ")+(n.length>=r?", ...":"")+"]"}}();return"object"===("undefined"==typeof f?"undefined":u(f))?f.v:void 0}Object.defineProperty(t,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},c=function(){function n(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}}(),a=e(3),f=r(a),s=e(4),l=s.InjectableArguments,y=function(){function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(o(this,n),null!=t&&!l(t))throw new TypeError('Value of argument "args" violates contract.\n\nExpected:\n?InjectableArguments\n\nGot:\n'+i(t));this._methodCalls=[],this._args=t}return c(n,[{key:"methodCalls",set:function(n){if(!Array.isArray(n)||!n.every(function(n){return n instanceof f.default}))throw new TypeError('Value of argument "methodCalls" violates contract.\n\nExpected:\nArray<MethodCall>\n\nGot:\n'+i(n));this._methodCalls=n},get:function(){function n(n){if(!Array.isArray(n)||!n.every(function(n){return n instanceof f.default}))throw new TypeError("Function return value violates contract.\n\nExpected:\nArray<MethodCall>\n\nGot:\n"+i(n));return n}return n(this._methodCalls)}},{key:"args",get:function(){function n(n){if(!l(n))throw new TypeError("Function return value violates contract.\n\nExpected:\nInjectableArguments\n\nGot:\n"+i(n));return n}return n(this._args)}}]),n}();t.default=y},function(n,t,e){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function o(n,t){var e=4,r=15;if(void 0===t&&(t=0),t+=1,null===n)return"null";if(void 0===n)return"void";if("string"==typeof n||"number"==typeof n||"boolean"==typeof n)return"undefined"==typeof n?"undefined":i(n);if(!Array.isArray(n)){var u=Object.keys(n);if(!u.length)return n.constructor&&n.constructor.name&&"Object"!==n.constructor.name?n.constructor.name:"Object";if(t>e)return"{...}";var c="  ".repeat(t-1),a=u.slice(0,r).map(function(e){return(/^([A-Z_$][A-Z0-9_$]*)$/i.test(e)?e:JSON.stringify(e))+": "+o(n[e],t)+";"}).join("\n  "+c);return u.length>=r&&(a+="\n  "+c+"..."),n.constructor&&n.constructor.name&&"Object"!==n.constructor.name?n.constructor.name+" {\n  "+c+a+"\n"+c+"}":"{\n  "+c+a+"\n"+c+"}"}if(!(n.length>0))return"Array";var f=function(){if(t>e)return{v:"[...]"};var i=o(n[0],t);return n.every(function(n){return o(n,t)===i})?{v:i.trim()+"[]"}:{v:"["+n.slice(0,r).map(function(n){return o(n,t)}).join(", ")+(n.length>=r?", ...":"")+"]"}}();return"object"===("undefined"==typeof f?"undefined":i(f))?f.v:void 0}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},u=function(){function n(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}}(),c=e(4),a=c.InjectableArguments,f=function(){function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(r(this,n),"string"!=typeof t)throw new TypeError('Value of argument "name" violates contract.\n\nExpected:\nstring\n\nGot:\n'+o(t));if(null!=e&&!a(e))throw new TypeError('Value of argument "args" violates contract.\n\nExpected:\n?InjectableArguments\n\nGot:\n'+o(e));this._name=t,this._args=e}return u(n,[{key:"name",get:function(){function n(n){if("string"!=typeof n)throw new TypeError("Function return value violates contract.\n\nExpected:\nstring\n\nGot:\n"+o(n));return n}return n(this._name)}},{key:"args",get:function(){function n(n){if(!a(n))throw new TypeError("Function return value violates contract.\n\nExpected:\nInjectableArguments\n\nGot:\n"+o(n));return n}return n(this._args)}}]),n}();t.default=f},function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{default:n}}Object.defineProperty(t,"__esModule",{value:!0}),t.InjectableArguments=void 0;var o=e(5),i=r(o),u=e(6),c=r(u);t.InjectableArguments=function(){function n(n){return Array.isArray(n)&&n.every(function(n){return n instanceof i.default||n instanceof c.default})}return Object.defineProperty(n,Symbol.hasInstance,{value:function(t){return n(t)}}),n}()},function(n,t){"use strict";function e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function r(n,t){var e=4,i=15;if(void 0===t&&(t=0),t+=1,null===n)return"null";if(void 0===n)return"void";if("string"==typeof n||"number"==typeof n||"boolean"==typeof n)return"undefined"==typeof n?"undefined":o(n);if(!Array.isArray(n)){var u=Object.keys(n);if(!u.length)return n.constructor&&n.constructor.name&&"Object"!==n.constructor.name?n.constructor.name:"Object";if(t>e)return"{...}";var c="  ".repeat(t-1),a=u.slice(0,i).map(function(e){return(/^([A-Z_$][A-Z0-9_$]*)$/i.test(e)?e:JSON.stringify(e))+": "+r(n[e],t)+";"}).join("\n  "+c);return u.length>=i&&(a+="\n  "+c+"..."),n.constructor&&n.constructor.name&&"Object"!==n.constructor.name?n.constructor.name+" {\n  "+c+a+"\n"+c+"}":"{\n  "+c+a+"\n"+c+"}"}if(!(n.length>0))return"Array";var f=function(){if(t>e)return{v:"[...]"};var o=r(n[0],t);return n.every(function(n){return r(n,t)===o})?{v:o.trim()+"[]"}:{v:"["+n.slice(0,i).map(function(n){return r(n,t)}).join(", ")+(n.length>=i?", ...":"")+"]"}}();return"object"===("undefined"==typeof f?"undefined":o(f))?f.v:void 0}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},i=function(){function n(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}}(),u=function(){function n(t){if(e(this,n),"string"!=typeof t)throw new TypeError('Value of argument "id" violates contract.\n\nExpected:\nstring\n\nGot:\n'+r(t));this._id=t}return i(n,[{key:"id",get:function(){function n(n){if("string"!=typeof n)throw new TypeError("Function return value violates contract.\n\nExpected:\nstring\n\nGot:\n"+r(n));return n}return n(this._id)}}]),n}();t.default=u},function(n,t){"use strict";function e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function r(n,t){var e=4,i=15;if(void 0===t&&(t=0),t+=1,null===n)return"null";if(void 0===n)return"void";if("string"==typeof n||"number"==typeof n||"boolean"==typeof n)return"undefined"==typeof n?"undefined":o(n);if(!Array.isArray(n)){var u=Object.keys(n);if(!u.length)return n.constructor&&n.constructor.name&&"Object"!==n.constructor.name?n.constructor.name:"Object";if(t>e)return"{...}";var c="  ".repeat(t-1),a=u.slice(0,i).map(function(e){return(/^([A-Z_$][A-Z0-9_$]*)$/i.test(e)?e:JSON.stringify(e))+": "+r(n[e],t)+";"}).join("\n  "+c);return u.length>=i&&(a+="\n  "+c+"..."),n.constructor&&n.constructor.name&&"Object"!==n.constructor.name?n.constructor.name+" {\n  "+c+a+"\n"+c+"}":"{\n  "+c+a+"\n"+c+"}"}if(!(n.length>0))return"Array";var f=function(){if(t>e)return{v:"[...]"};var o=r(n[0],t);return n.every(function(n){return r(n,t)===o})?{v:o.trim()+"[]"}:{v:"["+n.slice(0,i).map(function(n){return r(n,t)}).join(", ")+(n.length>=i?", ...":"")+"]"}}();return"object"===("undefined"==typeof f?"undefined":o(f))?f.v:void 0}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},i=function(){function n(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}}(),u=function(){function n(t){if(e(this,n),"string"!=typeof t)throw new TypeError('Value of argument "id" violates contract.\n\nExpected:\nstring\n\nGot:\n'+r(t));this._id=t}return i(n,[{key:"id",get:function(){function n(n){if("string"!=typeof n)throw new TypeError("Function return value violates contract.\n\nExpected:\nstring\n\nGot:\n"+r(n));return n}return n(this._id)}}]),n}();t.default=u},function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{default:n}}function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function i(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function u(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}function c(n,t){var e=4,r=15;if(void 0===t&&(t=0),t+=1,null===n)return"null";if(void 0===n)return"void";if("string"==typeof n||"number"==typeof n||"boolean"==typeof n)return"undefined"==typeof n?"undefined":a(n);if(!Array.isArray(n)){var o=Object.keys(n);if(!o.length)return n.constructor&&n.constructor.name&&"Object"!==n.constructor.name?n.constructor.name:"Object";if(t>e)return"{...}";var i="  ".repeat(t-1),u=o.slice(0,r).map(function(e){return(/^([A-Z_$][A-Z0-9_$]*)$/i.test(e)?e:JSON.stringify(e))+": "+c(n[e],t)+";"}).join("\n  "+i);return o.length>=r&&(u+="\n  "+i+"..."),n.constructor&&n.constructor.name&&"Object"!==n.constructor.name?n.constructor.name+" {\n  "+i+u+"\n"+i+"}":"{\n  "+i+u+"\n"+i+"}"}if(!(n.length>0))return"Array";var f=function(){if(t>e)return{v:"[...]"};var o=c(n[0],t);return n.every(function(n){return c(n,t)===o})?{v:o.trim()+"[]"}:{v:"["+n.slice(0,r).map(function(n){return c(n,t)}).join(", ")+(n.length>=r?", ...":"")+"]"}}();return"object"===("undefined"==typeof f?"undefined":a(f))?f.v:void 0}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},f=function(){function n(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}}(),s=e(2),l=r(s),y=e(4),p=y.InjectableArguments,d=function(n){function t(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(o(this,t),"string"!=typeof n)throw new TypeError('Value of argument "classConstructorIdentifier" violates contract.\n\nExpected:\nstring\n\nGot:\n'+c(n));if(null!=e&&!p(e))throw new TypeError('Value of argument "args" violates contract.\n\nExpected:\n?InjectableArguments\n\nGot:\n'+c(e));var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r._classConstructorIdentifier=n,r}return u(t,n),f(t,[{key:"classConstructorIdentifier",get:function(){function n(n){if("string"!=typeof n)throw new TypeError("Function return value violates contract.\n\nExpected:\nstring\n\nGot:\n"+c(n));return n}return n(this._classConstructorIdentifier)}}]),t}(l.default);t.default=d},function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{default:n}}function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function i(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function u(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}function c(n,t){var e=4,r=15;if(void 0===t&&(t=0),t+=1,null===n)return"null";if(void 0===n)return"void";if("string"==typeof n||"number"==typeof n||"boolean"==typeof n)return"undefined"==typeof n?"undefined":a(n);if(!Array.isArray(n)){var o=Object.keys(n);if(!o.length)return n.constructor&&n.constructor.name&&"Object"!==n.constructor.name?n.constructor.name:"Object";if(t>e)return"{...}";var i="  ".repeat(t-1),u=o.slice(0,r).map(function(e){return(/^([A-Z_$][A-Z0-9_$]*)$/i.test(e)?e:JSON.stringify(e))+": "+c(n[e],t)+";"}).join("\n  "+i);return o.length>=r&&(u+="\n  "+i+"..."),n.constructor&&n.constructor.name&&"Object"!==n.constructor.name?n.constructor.name+" {\n  "+i+u+"\n"+i+"}":"{\n  "+i+u+"\n"+i+"}"}if(!(n.length>0))return"Array";var f=function(){if(t>e)return{v:"[...]"};var o=c(n[0],t);return n.every(function(n){return c(n,t)===o})?{v:o.trim()+"[]"}:{v:"["+n.slice(0,r).map(function(n){return c(n,t)}).join(", ")+(n.length>=r?", ...":"")+"]"}}();return"object"===("undefined"==typeof f?"undefined":a(f))?f.v:void 0}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},f=function(){function n(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}}(),s=e(2),l=r(s),y=e(4),p=y.InjectableArguments,d=function(n){function t(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(o(this,t),"function"!=typeof n)throw new TypeError('Value of argument "factory" violates contract.\n\nExpected:\nFunction\n\nGot:\n'+c(n));if(null!=e&&!p(e))throw new TypeError('Value of argument "args" violates contract.\n\nExpected:\n?InjectableArguments\n\nGot:\n'+c(e));var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r._factory=n,r}return u(t,n),f(t,[{key:"factory",get:function(){function n(n){if("function"!=typeof n)throw new TypeError("Function return value violates contract.\n\nExpected:\nFunction\n\nGot:\n"+c(n));return n}return n(this._factory)}}]),t}(l.default);t.default=d}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy9kaS1kZXYuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svYm9vdHN0cmFwIGU2MzhiM2E3MTYxYTIyZDhmZmIxIiwid2VicGFjazovLy8uL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9jb250YWluZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RlZmluaXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21ldGhvZC1jYWxsLmpzIiwid2VicGFjazovLy8uL3NyYy90eXBlcy9pbmplY3RhYmxlLWFyZ3VtZW50cy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcmVmZXJlbmNlLmpzIiwid2VicGFjazovLy8uL3NyYy9wYXJhbWV0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NsYXNzLWNvbnN0cnVjdG9yLWRlZmluaXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZhY3RvcnktZGVmaW5pdGlvbi5qcyJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJhIiwiaSIsInRoaXMiLCJtb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaW5zdGFsbGVkTW9kdWxlcyIsImlkIiwibG9hZGVkIiwiY2FsbCIsIm0iLCJjIiwicCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9jb250YWluZXIiLCJfY29udGFpbmVyMiIsIl9jbGFzc0NvbnN0cnVjdG9yRGVmaW5pdGlvbiIsIl9jbGFzc0NvbnN0cnVjdG9yRGVmaW5pdGlvbjIiLCJfZmFjdG9yeURlZmluaXRpb24iLCJfZmFjdG9yeURlZmluaXRpb24yIiwiX3JlZmVyZW5jZSIsIl9yZWZlcmVuY2UyIiwiX3BhcmFtZXRlciIsIl9wYXJhbWV0ZXIyIiwiX21ldGhvZENhbGwiLCJfbWV0aG9kQ2FsbDIiLCJDb250YWluZXIiLCJDbGFzc0NvbnN0cnVjdG9yRGVmaW5pdGlvbiIsIkZhY3RvcnlEZWZpbml0aW9uIiwiUmVmZXJlbmNlIiwiUGFyYW1ldGVyIiwiTWV0aG9kQ2FsbCIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJfaW5zcGVjdCIsImlucHV0IiwiZGVwdGgiLCJtYXhEZXB0aCIsIm1heEtleXMiLCJ1bmRlZmluZWQiLCJfdHlwZW9mIiwiQXJyYXkiLCJpc0FycmF5Iiwia2V5cyIsIk9iamVjdCIsImxlbmd0aCIsImNvbnN0cnVjdG9yIiwibmFtZSIsImluZGVudCIsInJlcGVhdCIsImVudHJpZXMiLCJzbGljZSIsIm1hcCIsImtleSIsInRlc3QiLCJKU09OIiwic3RyaW5naWZ5Iiwiam9pbiIsIl9yZXQiLCJ2IiwiZmlyc3QiLCJldmVyeSIsIml0ZW0iLCJ0cmltIiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsIlN5bWJvbCIsIml0ZXJhdG9yIiwicHJvdG90eXBlIiwiX2NyZWF0ZUNsYXNzIiwiZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIl9kZWZpbml0aW9uIiwiX2RlZmluaXRpb24yIiwiX2luamVjdGFibGVBcmd1bWVudHMiLCJJbmplY3RhYmxlQXJndW1lbnRzIiwic2NhbGFyIiwiaGFzSW5zdGFuY2UiLCJMb2FkaW5nT2JqZWN0IiwiYXJyIiwiTG9jYXRvckNhbGxiYWNrIiwiX3NlcnZpY2VzQnlJZGVudGlmaWVyIiwiX3NlcnZpY2VEZWZpbml0aW9uc0J5SWRlbnRpZmllciIsIl9wYXJhbWV0ZXJzQnlJZGVudGlmaWVyIiwiX3NlcnZpY2VEZWZpbml0aW9uc0FscmVhZHlVc2VkVG9JbnN0YW50aWF0ZUJ5SWRlbnRpZmllciIsIl9jbGFzc0NvbnN0cnVjdG9yTG9jYXRvcnMiLCJfaW5zdGFuY2VMb2NhdG9ycyIsIl9yZWYiLCJfaWQiLCJQcm9taXNlIiwiX3RoaXMiLCJfbGVuIiwiYXJndW1lbnRzIiwiaWRlbnRpZmllcnMiLCJfa2V5IiwicHJvbWlzZXMiLCJmb3JFYWNoIiwiaWRlbnRpZmllciIsInB1c2giLCJfZG9HZXRTZXJ2aWNlIiwiYWxsIiwiX3JlZjIiLCJfaWQyIiwiX3JlZjMiLCJfaWQzIiwiaGFzRGVmaW5pdGlvbiIsIl9yZWY0IiwiX2lkNCIsIl9yZWY1IiwiX2lkNSIsIl9yZWY2IiwiX2lkNiIsImRlZmluaXRpb24iLCJFcnJvciIsIl9yZWY3IiwiX2lkNyIsIl9yZWY4IiwiX2lkOCIsIl9yZWY5IiwiX2lkOSIsIl9yZWYxMCIsIl9pZDEwIiwibG9jYXRvciIsIl9yZWYxMSIsIl9pZDExIiwiX3JlZjEyIiwiX2lkMTIiLCJsb2FkaW5nIiwiX3JlZjEzIiwiX2lkMTMiLCJfdGhpczIiLCJfcmVzb2x2ZUFyZ3MiLCJhcmdzIiwidGhlbiIsIl9yZWYxNCIsIl9pZDE0IiwiY2xhc3NDb25zdHJ1Y3RvciIsIl9sb2NhdGVTZXJ2aWNlQ2xhc3NDb25zdHJ1Y3RvciIsImNsYXNzQ29uc3RydWN0b3JJZGVudGlmaWVyIiwiRnVuY3Rpb24iLCJiaW5kIiwiYXBwbHkiLCJjb25jYXQiLCJtZXRob2RDYWxsc1Byb21pc2VzIiwibWV0aG9kQ2FsbHMiLCJtZXRob2RDYWxsIiwibWV0aG9kTmFtZSIsIm1ldGhvZCIsIl9yZWYxNiIsIl9pZDE2IiwiX3JlZjE3IiwiX2lkMTciLCJfcmVmMTgiLCJfaWQxOCIsImhhc093blByb3BlcnR5IiwiX3JlZjE5IiwiX2lkMTkiLCJfcmVmMjAiLCJfaWQyMCIsIl90aGlzMyIsImFyZyIsIl9kZWVwQ29weUxvYWRpbmciLCJnZXRQYXJhbWV0ZXIiLCJfcmVmMjIiLCJfaWQyMiIsInBhdGgiLCJyZWplY3QiLCJyZXN1bHQiLCJfbG9jYXRlSW5zdGFuY2UiLCJyZXNvbHZlIiwiX2NyZWF0ZU1pc3NpbmdTZXJ2aWNlRGVmaW5pdGlvbkFuZEluc3RhbmNlRm9ySWRlbnRpZmllckVycm9yIiwicHJvbWlzZSIsIl9pbnN0YW50aWF0ZSIsImdldERlZmluaXRpb24iLCJuZXdMb2FkaW5nIiwiRGVmaW5pdGlvbiIsIl9tZXRob2RDYWxscyIsIl9hcmdzIiwic2V0IiwiZ2V0IiwiX25hbWUiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsInNlbGYiLCJSZWZlcmVuY2VFcnJvciIsIl9pbmhlcml0cyIsInN1YkNsYXNzIiwic3VwZXJDbGFzcyIsImNyZWF0ZSIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiX0RlZmluaXRpb24iLCJnZXRQcm90b3R5cGVPZiIsIl9jbGFzc0NvbnN0cnVjdG9ySWRlbnRpZmllciIsIl9mYWN0b3J5Il0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFBQSxFQUFBQyxHQUNBLG1CQUFBQyxVQUFBLGdCQUFBQyxRQUNBQSxPQUFBRCxRQUFBRCxRQUNBLHNCQUFBRyxnQkFBQUMsSUFDQUQsVUFBQUgsT0FDQSxDQUNBLEdBQUFLLEdBQUFMLEdBQ0EsUUFBQU0sS0FBQUQsSUFBQSxnQkFBQUosaUJBQUFGLEdBQUFPLEdBQUFELEVBQUFDLEtBRUNDLEtBQUEsV0FDRCxNQ0FnQixVQUFVQyxHQ04xQixRQUFBQyxHQUFBQyxHQUdBLEdBQUFDLEVBQUFELEdBQ0EsTUFBQUMsR0FBQUQsR0FBQVQsT0FHQSxJQUFBQyxHQUFBUyxFQUFBRCxJQUNBVCxXQUNBVyxHQUFBRixFQUNBRyxRQUFBLEVBVUEsT0FOQUwsR0FBQUUsR0FBQUksS0FBQVosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQVEsR0FHQVAsRUFBQVcsUUFBQSxFQUdBWCxFQUFBRCxRQXZCQSxHQUFBVSxLQXFDQSxPQVRBRixHQUFBTSxFQUFBUCxFQUdBQyxFQUFBTyxFQUFBTCxFQUdBRixFQUFBUSxFQUFBLEdBR0FSLEVBQUEsS0RnQk0sU0FBU1AsRUFBUUQsRUFBU1EsR0FFL0IsWUEwQkEsU0FBU1MsR0FBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFB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RUFBYTZDLEVBQVlDLEdBQWlKLE1BQTlIRCxJQUFZUCxFQUFpQnRDLEVBQVlvQyxVQUFXUyxHQUFpQkMsR0FBYVIsRUFBaUJ0QyxFQUFhOEMsR0FBcUI5QyxNVTczRGppQitDLEVBQUFoRixFQUFBLEdWaTRES2lGLEVBQWV4RSxFQUF1QnVFLEdBRXRDRSxFQUF1QmxGLEVBQW9CLEdBVTNDbUYsRUFBc0JELEVBQXFCQyxvQlVwNEQxQ3hELEVWNDREbUIsU0FBVTJLLEdVcDREakMsUUFBQTNLLEdBQVlwQyxHQUFvRCxHQUFqQ3FKLEdBQWlDeEMsVUFBQXRELE9BQUEsR0FBQU4sU0FBQTRELFVBQUEsR0FBQUEsVUFBQSxTQUFBckUsRUFBQWpDLEtBQUE2QixHQUFBLGtCQUFwRHBDLEdBQW9ELFNBQUEyQyxXQUFBLGtGQUFBQyxFQUFwRDVDLEdBQW9ELFVBQWpDcUosSUFBT3pELEVBQVB5RCxHQUFpQyxTQUFBMUcsV0FBQSwyRkFBQUMsRUFBakN5RyxHQUFpQyxJQUFBMUMsR0FBQTJGLEVBQUEvTCxNQUFBNkIsRUFBQTBLLFdBQUF4SixPQUFBMEosZUFBQTVLLElBQUF0QixLQUFBUCxLQUN4RDhJLEdBRHdELE9BRzlEMUMsR0FBS3VHLFNBQVdsTixFQUg4QzJHLEVWczdEL0QsTUFqREE4RixHQUFVckssRUFBbUIySyxHQWtDN0JoSSxFQUFhM0MsSUFDWDJCLElBQUssVUFDTHFJLElBQUssV1U5NURnQixRQUFBNUYsR0FBQUMsR0FBQSxxQkFBQUEsR0FBQSxTQUFBOUQsV0FBQSw0RUFBQUMsRUFBQTZELEdBQUEsT0FBQUEsR0FBQSxNQUFBRCxHQUNmakcsS0FBSzJNLGNWMDZETjlLLEdBQ1BzRCxFQUFhckUsUUFFZnBCLEdBQVFvQixRVXo2RE1lIiwiZmlsZSI6ImRpLWRldi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSB7XG5cdFx0dmFyIGEgPSBmYWN0b3J5KCk7XG5cdFx0Zm9yKHZhciBpIGluIGEpICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgPyBleHBvcnRzIDogcm9vdClbaV0gPSBhW2ldO1xuXHR9XG59KSh0aGlzLCBmdW5jdGlvbigpIHtcbnJldHVybiBcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRlbHNlIHtcblx0XHR2YXIgYSA9IGZhY3RvcnkoKTtcblx0XHRmb3IodmFyIGkgaW4gYSkgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyA/IGV4cG9ydHMgOiByb290KVtpXSA9IGFbaV07XG5cdH1cbn0pKHRoaXMsIGZ1bmN0aW9uKCkge1xucmV0dXJuIC8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9LFxuLyoqKioqKi8gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bG9hZGVkOiBmYWxzZVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIF9jb250YWluZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9jb250YWluZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29udGFpbmVyKTtcblx0XG5cdHZhciBfY2xhc3NDb25zdHJ1Y3RvckRlZmluaXRpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHRcblx0dmFyIF9jbGFzc0NvbnN0cnVjdG9yRGVmaW5pdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NvbnN0cnVjdG9yRGVmaW5pdGlvbik7XG5cdFxuXHR2YXIgX2ZhY3RvcnlEZWZpbml0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblx0XG5cdHZhciBfZmFjdG9yeURlZmluaXRpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZmFjdG9yeURlZmluaXRpb24pO1xuXHRcblx0dmFyIF9yZWZlcmVuY2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF9yZWZlcmVuY2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVmZXJlbmNlKTtcblx0XG5cdHZhciBfcGFyYW1ldGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0XG5cdHZhciBfcGFyYW1ldGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BhcmFtZXRlcik7XG5cdFxuXHR2YXIgX21ldGhvZENhbGwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9tZXRob2RDYWxsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21ldGhvZENhbGwpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHQgIENvbnRhaW5lcjogX2NvbnRhaW5lcjIuZGVmYXVsdCxcblx0ICBDbGFzc0NvbnN0cnVjdG9yRGVmaW5pdGlvbjogX2NsYXNzQ29uc3RydWN0b3JEZWZpbml0aW9uMi5kZWZhdWx0LFxuXHQgIEZhY3RvcnlEZWZpbml0aW9uOiBfZmFjdG9yeURlZmluaXRpb24yLmRlZmF1bHQsXG5cdCAgUmVmZXJlbmNlOiBfcmVmZXJlbmNlMi5kZWZhdWx0LFxuXHQgIFBhcmFtZXRlcjogX3BhcmFtZXRlcjIuZGVmYXVsdCxcblx0ICBNZXRob2RDYWxsOiBfbWV0aG9kQ2FsbDIuZGVmYXVsdFxuXHR9O1xuXG4vKioqLyB9LFxuLyogMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0dmFyIF9kZWZpbml0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfZGVmaW5pdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbml0aW9uKTtcblx0XG5cdHZhciBfY2xhc3NDb25zdHJ1Y3RvckRlZmluaXRpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHRcblx0dmFyIF9jbGFzc0NvbnN0cnVjdG9yRGVmaW5pdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NvbnN0cnVjdG9yRGVmaW5pdGlvbik7XG5cdFxuXHR2YXIgX2ZhY3RvcnlEZWZpbml0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblx0XG5cdHZhciBfZmFjdG9yeURlZmluaXRpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZmFjdG9yeURlZmluaXRpb24pO1xuXHRcblx0dmFyIF9yZWZlcmVuY2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF9yZWZlcmVuY2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVmZXJlbmNlKTtcblx0XG5cdHZhciBfcGFyYW1ldGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0XG5cdHZhciBfcGFyYW1ldGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BhcmFtZXRlcik7XG5cdFxuXHR2YXIgX21ldGhvZENhbGwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9tZXRob2RDYWxsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21ldGhvZENhbGwpO1xuXHRcblx0dmFyIF9pbmplY3RhYmxlQXJndW1lbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0dmFyIEluamVjdGFibGVBcmd1bWVudHMgPSBfaW5qZWN0YWJsZUFyZ3VtZW50cy5JbmplY3RhYmxlQXJndW1lbnRzO1xuXHRcblx0dmFyIHNjYWxhciA9IGZ1bmN0aW9uICgpIHtcblx0ICBmdW5jdGlvbiBzY2FsYXIoaW5wdXQpIHtcblx0ICAgIHJldHVybiB0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBpbnB1dCA9PT0gJ251bWJlcicgfHwgdHlwZW9mIGlucHV0ID09PSAnYm9vbGVhbicgfHwgaW5wdXQgPT0gbnVsbDtcblx0ICB9XG5cdFxuXHQgIDtcblx0ICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc2NhbGFyLCBTeW1ib2wuaGFzSW5zdGFuY2UsIHtcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZShpbnB1dCkge1xuXHQgICAgICByZXR1cm4gc2NhbGFyKGlucHV0KTtcblx0ICAgIH1cblx0ICB9KTtcblx0ICByZXR1cm4gc2NhbGFyO1xuXHR9KCk7XG5cdFxuXHR2YXIgTG9hZGluZ09iamVjdCA9IGZ1bmN0aW9uICgpIHtcblx0ICBmdW5jdGlvbiBMb2FkaW5nT2JqZWN0KGlucHV0KSB7XG5cdCAgICByZXR1cm4gaW5wdXQgIT0gbnVsbCAmJiBpbnB1dC5vYmogaW5zdGFuY2VvZiBPYmplY3QgJiYgQXJyYXkuaXNBcnJheShpbnB1dC5hcnIpICYmIGlucHV0LmFyci5ldmVyeShmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgICByZXR1cm4gdHlwZW9mIGl0ZW0gPT09ICdzdHJpbmcnO1xuXHQgICAgfSk7XG5cdCAgfVxuXHRcblx0ICA7XG5cdCAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExvYWRpbmdPYmplY3QsIFN5bWJvbC5oYXNJbnN0YW5jZSwge1xuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKGlucHV0KSB7XG5cdCAgICAgIHJldHVybiBMb2FkaW5nT2JqZWN0KGlucHV0KTtcblx0ICAgIH1cblx0ICB9KTtcblx0ICByZXR1cm4gTG9hZGluZ09iamVjdDtcblx0fSgpO1xuXHRcblx0dmFyIExvY2F0b3JDYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcblx0ICBmdW5jdGlvbiBMb2NhdG9yQ2FsbGJhY2soaW5wdXQpIHtcblx0ICAgIHJldHVybiB0eXBlb2YgaW5wdXQgPT09ICdmdW5jdGlvbic7XG5cdCAgfVxuXHRcblx0ICA7XG5cdCAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExvY2F0b3JDYWxsYmFjaywgU3ltYm9sLmhhc0luc3RhbmNlLCB7XG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUoaW5wdXQpIHtcblx0ICAgICAgcmV0dXJuIExvY2F0b3JDYWxsYmFjayhpbnB1dCk7XG5cdCAgICB9XG5cdCAgfSk7XG5cdCAgcmV0dXJuIExvY2F0b3JDYWxsYmFjaztcblx0fSgpO1xuXHRcblx0LyoqXG5cdCAqIEBhdXRob3IgQmVuamFtaW4gTWljaGFsc2tpIDxiZW5qYW1pbi5taWNoYWxza2lAZ21haWwuY29tPlxuXHQgKlxuXHQgKiBAcHVibGljXG5cdCAqL1xuXHRcblx0XG5cdHZhciBDb250YWluZXIgPSBmdW5jdGlvbiAoKSB7XG5cdFxuXHQgIC8qKlxuXHQgICAqIENvbnN0cnVjdG9yXG5cdCAgICovXG5cdCAgZnVuY3Rpb24gQ29udGFpbmVyKCkge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbnRhaW5lcik7XG5cdFxuXHQgICAgdGhpcy5fc2VydmljZXNCeUlkZW50aWZpZXIgPSB7fTtcblx0ICAgIHRoaXMuX3NlcnZpY2VEZWZpbml0aW9uc0J5SWRlbnRpZmllciA9IHt9O1xuXHQgICAgdGhpcy5fcGFyYW1ldGVyc0J5SWRlbnRpZmllciA9IHt9O1xuXHQgICAgdGhpcy5fc2VydmljZURlZmluaXRpb25zQWxyZWFkeVVzZWRUb0luc3RhbnRpYXRlQnlJZGVudGlmaWVyID0ge307XG5cdCAgICB0aGlzLl9jbGFzc0NvbnN0cnVjdG9yTG9jYXRvcnMgPSBbXTtcblx0ICAgIHRoaXMuX2luc3RhbmNlTG9jYXRvcnMgPSBbXTtcblx0ICB9XG5cdFxuXHQgIC8qKlxuXHQgICAqIEdldHMgc2VydmljZSBhc3NvY2lhdGVkIHdpdGggaWRlbnRpZmllclxuXHQgICAqXG5cdCAgICogQHBhcmFtIHsuLi5zdHJpbmd9IGlkZW50aWZpZXJzXG5cdCAgICpcblx0ICAgKiBAcHJvbWlzZVxuXHQgICAqIEByZXNvbHZlIHtPYmplY3R8RnVuY3Rpb259IHNlcnZpY2UgaWRlbnRpZmllZCBieSBpZGVudGlmaWVyXG5cdCAgICogQHJlamVjdCB7RXJyb3J9IGluIGNhc2UgdGhlIHNlcnZpY2UgaXMgdW5kZWZpbmVkXG5cdCAgICogQHJlamVjdCB7RXJyb3J9IGluIGNhc2Ugb2YgYSBjaXJjdWxhciBkZXBlbmRlbmN5XG5cdCAgICpcblx0ICAgKiBAcHVibGljXG5cdCAgICovXG5cdFxuXHRcblx0ICBfY3JlYXRlQ2xhc3MoQ29udGFpbmVyLCBbe1xuXHQgICAga2V5OiAnZ2V0Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdFxuXHQgICAgICBmdW5jdGlvbiBfcmVmKF9pZCkge1xuXHQgICAgICAgIGlmICghKF9pZCBpbnN0YW5jZW9mIFByb21pc2UpKSB7XG5cdCAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGdW5jdGlvbiByZXR1cm4gdmFsdWUgdmlvbGF0ZXMgY29udHJhY3QuXFxuXFxuRXhwZWN0ZWQ6XFxuUHJvbWlzZTxPYmplY3QgfCBGdW5jdGlvbj5cXG5cXG5Hb3Q6XFxuJyArIF9pbnNwZWN0KF9pZCkpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmV0dXJuIF9pZDtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGlkZW50aWZpZXJzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG5cdCAgICAgICAgaWRlbnRpZmllcnNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGlmICghKEFycmF5LmlzQXJyYXkoaWRlbnRpZmllcnMpICYmIGlkZW50aWZpZXJzLmV2ZXJ5KGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICAgICAgcmV0dXJuIHR5cGVvZiBpdGVtID09PSAnc3RyaW5nJztcblx0ICAgICAgfSkpKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVmFsdWUgb2YgYXJndW1lbnQgXCJpZGVudGlmaWVyc1wiIHZpb2xhdGVzIGNvbnRyYWN0LlxcblxcbkV4cGVjdGVkOlxcbkFycmF5PHN0cmluZz5cXG5cXG5Hb3Q6XFxuJyArIF9pbnNwZWN0KGlkZW50aWZpZXJzKSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHZhciBwcm9taXNlcyA9IFtdO1xuXHRcblx0ICAgICAgaWRlbnRpZmllcnMuZm9yRWFjaChmdW5jdGlvbiAoaWRlbnRpZmllcikge1xuXHQgICAgICAgIHByb21pc2VzLnB1c2goX3RoaXMuX2RvR2V0U2VydmljZShpZGVudGlmaWVyLCB7IG9iajoge30sIGFycjogW10gfSkpO1xuXHQgICAgICB9KTtcblx0XG5cdCAgICAgIHJldHVybiBfcmVmKFByb21pc2UuYWxsKHByb21pc2VzKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBBc3NvY2lhdGVzIHNlcnZpY2Ugd2l0aCBpZGVudGlmaWVyXG5cdCAgICAgKlxuXHQgICAgICogQHBhcmFtIHtzdHJpbmd9IGlkZW50aWZpZXJcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fEZ1bmN0aW9ufSBpbnN0YW5jZSBzZXJ2aWNlIGluc3RhbmNlXG5cdCAgICAgKlxuXHQgICAgICogQHJldHVybnMge0NvbnRhaW5lcn0gY3VycmVudCBDb250YWluZXIgaW5zdGFuY2Vcblx0ICAgICAqXG5cdCAgICAgKiBAcHVibGljXG5cdCAgICAgKi9cblx0XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2V0Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZXQoaWRlbnRpZmllciwgaW5zdGFuY2UpIHtcblx0ICAgICAgZnVuY3Rpb24gX3JlZjIoX2lkMikge1xuXHQgICAgICAgIGlmICghKF9pZDIgaW5zdGFuY2VvZiBDb250YWluZXIpKSB7XG5cdCAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGdW5jdGlvbiByZXR1cm4gdmFsdWUgdmlvbGF0ZXMgY29udHJhY3QuXFxuXFxuRXhwZWN0ZWQ6XFxuQ29udGFpbmVyXFxuXFxuR290OlxcbicgKyBfaW5zcGVjdChfaWQyKSk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXR1cm4gX2lkMjtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgaWYgKCEodHlwZW9mIGlkZW50aWZpZXIgPT09ICdzdHJpbmcnKSkge1xuXHQgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1ZhbHVlIG9mIGFyZ3VtZW50IFwiaWRlbnRpZmllclwiIHZpb2xhdGVzIGNvbnRyYWN0LlxcblxcbkV4cGVjdGVkOlxcbnN0cmluZ1xcblxcbkdvdDpcXG4nICsgX2luc3BlY3QoaWRlbnRpZmllcikpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIE9iamVjdCB8fCB0eXBlb2YgaW5zdGFuY2UgPT09ICdmdW5jdGlvbicpKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVmFsdWUgb2YgYXJndW1lbnQgXCJpbnN0YW5jZVwiIHZpb2xhdGVzIGNvbnRyYWN0LlxcblxcbkV4cGVjdGVkOlxcbk9iamVjdCB8IEZ1bmN0aW9uXFxuXFxuR290OlxcbicgKyBfaW5zcGVjdChpbnN0YW5jZSkpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICB0aGlzLl9zZXJ2aWNlc0J5SWRlbnRpZmllcltpZGVudGlmaWVyXSA9IGluc3RhbmNlO1xuXHRcblx0ICAgICAgcmV0dXJuIF9yZWYyKHRoaXMpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogUmV0dXJucyB0cnVlIGlmIGNvbnRhaW5lciBoYXMgc2VydmljZSwgdGhhdCBpcyBlaXRoZXIgaWY6XG5cdCAgICAgKiAqIGl0IGhhcyBhIHtAbGluayBEZWZpbml0aW9ufVxuXHQgICAgICogKiBpdCBoYXMgYmVlbiBpbnN0YW50aWF0ZWRcblx0ICAgICAqXG5cdCAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWRlbnRpZmllclxuXHQgICAgICpcblx0ICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuXHQgICAgICovXG5cdFxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2hhcycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gaGFzKGlkZW50aWZpZXIpIHtcblx0ICAgICAgZnVuY3Rpb24gX3JlZjMoX2lkMykge1xuXHQgICAgICAgIGlmICghKHR5cGVvZiBfaWQzID09PSAnYm9vbGVhbicpKSB7XG5cdCAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGdW5jdGlvbiByZXR1cm4gdmFsdWUgdmlvbGF0ZXMgY29udHJhY3QuXFxuXFxuRXhwZWN0ZWQ6XFxuYm9vbGVhblxcblxcbkdvdDpcXG4nICsgX2luc3BlY3QoX2lkMykpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmV0dXJuIF9pZDM7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGlmICghKHR5cGVvZiBpZGVudGlmaWVyID09PSAnc3RyaW5nJykpIHtcblx0ICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdWYWx1ZSBvZiBhcmd1bWVudCBcImlkZW50aWZpZXJcIiB2aW9sYXRlcyBjb250cmFjdC5cXG5cXG5FeHBlY3RlZDpcXG5zdHJpbmdcXG5cXG5Hb3Q6XFxuJyArIF9pbnNwZWN0KGlkZW50aWZpZXIpKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmV0dXJuIF9yZWYzKHRoaXMuaGFzRGVmaW5pdGlvbihpZGVudGlmaWVyKSB8fCB0aGlzLmhhc0luc3RhbmNlKGlkZW50aWZpZXIpKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgc2VydmljZSBoYXMgYSBkZWZpbml0aW9uXG5cdCAgICAgKlxuXHQgICAgICogQHBhcmFtIHtzdHJpbmd9IGlkZW50aWZpZXJcblx0ICAgICAqXG5cdCAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cblx0ICAgICAqXG5cdCAgICAgKiBAcHVibGljXG5cdCAgICAgKi9cblx0XG5cdCAgfSwge1xuXHQgICAga2V5OiAnaGFzRGVmaW5pdGlvbicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gaGFzRGVmaW5pdGlvbihpZGVudGlmaWVyKSB7XG5cdCAgICAgIGZ1bmN0aW9uIF9yZWY0KF9pZDQpIHtcblx0ICAgICAgICBpZiAoISh0eXBlb2YgX2lkNCA9PT0gJ2Jvb2xlYW4nKSkge1xuXHQgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRnVuY3Rpb24gcmV0dXJuIHZhbHVlIHZpb2xhdGVzIGNvbnRyYWN0LlxcblxcbkV4cGVjdGVkOlxcbmJvb2xlYW5cXG5cXG5Hb3Q6XFxuJyArIF9pbnNwZWN0KF9pZDQpKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHJldHVybiBfaWQ0O1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAoISh0eXBlb2YgaWRlbnRpZmllciA9PT0gJ3N0cmluZycpKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVmFsdWUgb2YgYXJndW1lbnQgXCJpZGVudGlmaWVyXCIgdmlvbGF0ZXMgY29udHJhY3QuXFxuXFxuRXhwZWN0ZWQ6XFxuc3RyaW5nXFxuXFxuR290OlxcbicgKyBfaW5zcGVjdChpZGVudGlmaWVyKSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHJldHVybiBfcmVmNCh1bmRlZmluZWQgIT09IHRoaXMuX3NlcnZpY2VEZWZpbml0aW9uc0J5SWRlbnRpZmllcltpZGVudGlmaWVyXSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHNlcnZpY2UgaGFzIGFuIGluc3RhbmNlLCBlaXRoZXIgYmVjYXVzZTpcblx0ICAgICAqICogaXQgaGFzIGJlZW4gaW5zdGFudGlhdGVkIHZpYSBpdHMge0BsaW5rIERlZmluaXRpb259XG5cdCAgICAgKiAqIGl0IGhhcyBiZWVuIHNldCBkaXJlY3RseSB2aWEge0BsaW5rIHNldH0gbWV0aG9kXG5cdCAgICAgKlxuXHQgICAgICogQHBhcmFtIHtzdHJpbmd9IGlkZW50aWZpZXJcblx0ICAgICAqXG5cdCAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cblx0ICAgICAqXG5cdCAgICAgKiBAcHVibGljXG5cdCAgICAgKi9cblx0XG5cdCAgfSwge1xuXHQgICAga2V5OiAnaGFzSW5zdGFuY2UnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGhhc0luc3RhbmNlKGlkZW50aWZpZXIpIHtcblx0ICAgICAgZnVuY3Rpb24gX3JlZjUoX2lkNSkge1xuXHQgICAgICAgIGlmICghKHR5cGVvZiBfaWQ1ID09PSAnYm9vbGVhbicpKSB7XG5cdCAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGdW5jdGlvbiByZXR1cm4gdmFsdWUgdmlvbGF0ZXMgY29udHJhY3QuXFxuXFxuRXhwZWN0ZWQ6XFxuYm9vbGVhblxcblxcbkdvdDpcXG4nICsgX2luc3BlY3QoX2lkNSkpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmV0dXJuIF9pZDU7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGlmICghKHR5cGVvZiBpZGVudGlmaWVyID09PSAnc3RyaW5nJykpIHtcblx0ICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdWYWx1ZSBvZiBhcmd1bWVudCBcImlkZW50aWZpZXJcIiB2aW9sYXRlcyBjb250cmFjdC5cXG5cXG5FeHBlY3RlZDpcXG5zdHJpbmdcXG5cXG5Hb3Q6XFxuJyArIF9pbnNwZWN0KGlkZW50aWZpZXIpKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmV0dXJuIF9yZWY1KHVuZGVmaW5lZCAhPT0gdGhpcy5fc2VydmljZXNCeUlkZW50aWZpZXJbaWRlbnRpZmllcl0pO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogR2V0cyBzZXJ2aWNlIHtAbGluayBEZWZpbml0aW9ufSBhc3NvY2lhdGVkIHdpdGggaWRlbnRpZmllclxuXHQgICAgICpcblx0ICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZGVudGlmaWVyXG5cdCAgICAgKlxuXHQgICAgICogQHJldHVybnMge0RlZmluaXRpb259XG5cdCAgICAgKlxuXHQgICAgICogQHRocm93cyB7RXJyb3J9IGlmIHRoZXJlIGlzIG5vIHNlcnZpY2UgZGVmaW5pdGlvbiBmb3IgZ2l2ZW4gaWRlbnRpZmllclxuXHQgICAgICpcblx0ICAgICAqIEBwdWJsaWNcblx0ICAgICAqL1xuXHRcblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXREZWZpbml0aW9uJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREZWZpbml0aW9uKGlkZW50aWZpZXIpIHtcblx0ICAgICAgZnVuY3Rpb24gX3JlZjYoX2lkNikge1xuXHQgICAgICAgIGlmICghKF9pZDYgaW5zdGFuY2VvZiBfZGVmaW5pdGlvbjIuZGVmYXVsdCkpIHtcblx0ICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Z1bmN0aW9uIHJldHVybiB2YWx1ZSB2aW9sYXRlcyBjb250cmFjdC5cXG5cXG5FeHBlY3RlZDpcXG5EZWZpbml0aW9uXFxuXFxuR290OlxcbicgKyBfaW5zcGVjdChfaWQ2KSk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXR1cm4gX2lkNjtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgaWYgKCEodHlwZW9mIGlkZW50aWZpZXIgPT09ICdzdHJpbmcnKSkge1xuXHQgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1ZhbHVlIG9mIGFyZ3VtZW50IFwiaWRlbnRpZmllclwiIHZpb2xhdGVzIGNvbnRyYWN0LlxcblxcbkV4cGVjdGVkOlxcbnN0cmluZ1xcblxcbkdvdDpcXG4nICsgX2luc3BlY3QoaWRlbnRpZmllcikpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICB2YXIgZGVmaW5pdGlvbiA9IHRoaXMuX3NlcnZpY2VEZWZpbml0aW9uc0J5SWRlbnRpZmllcltpZGVudGlmaWVyXTtcblx0XG5cdCAgICAgIGlmICh1bmRlZmluZWQgPT09IGRlZmluaXRpb24pIHtcblx0ICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3Npbmcgc2VydmljZSBkZWZpbml0aW9uIGZvciBpZGVudGlmaWVyIFwiJyArIGlkZW50aWZpZXIgKyAnXCInKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmV0dXJuIF9yZWY2KGRlZmluaXRpb24pO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQXNzb2NpYXRlcyBzZXJ2aWNlIHtAbGluayBEZWZpbml0aW9ufSB3aXRoIGlkZW50aWZpZXJcblx0ICAgICAqXG5cdCAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWRlbnRpZmllciBzZXJ2aWNlIGlkZW50aWZpZXJcblx0ICAgICAqIEBwYXJhbSB7RGVmaW5pdGlvbn0gZGVmaW5pdGlvbiBzZXJ2aWNlIGRlZmluaXRpb25cblx0ICAgICAqXG5cdCAgICAgKiBAcmV0dXJucyB7Q29udGFpbmVyfSBjdXJyZW50IENvbnRhaW5lciBpbnN0YW5jZVxuXHQgICAgICpcblx0ICAgICAqIEBwdWJsaWNcblx0ICAgICAqL1xuXHRcblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzZXREZWZpbml0aW9uJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZXREZWZpbml0aW9uKGlkZW50aWZpZXIsIGRlZmluaXRpb24pIHtcblx0ICAgICAgZnVuY3Rpb24gX3JlZjcoX2lkNykge1xuXHQgICAgICAgIGlmICghKF9pZDcgaW5zdGFuY2VvZiBDb250YWluZXIpKSB7XG5cdCAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGdW5jdGlvbiByZXR1cm4gdmFsdWUgdmlvbGF0ZXMgY29udHJhY3QuXFxuXFxuRXhwZWN0ZWQ6XFxuQ29udGFpbmVyXFxuXFxuR290OlxcbicgKyBfaW5zcGVjdChfaWQ3KSk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXR1cm4gX2lkNztcblx0ICAgICAgfVxuXHRcblx0ICAgICAgaWYgKCEodHlwZW9mIGlkZW50aWZpZXIgPT09ICdzdHJpbmcnKSkge1xuXHQgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1ZhbHVlIG9mIGFyZ3VtZW50IFwiaWRlbnRpZmllclwiIHZpb2xhdGVzIGNvbnRyYWN0LlxcblxcbkV4cGVjdGVkOlxcbnN0cmluZ1xcblxcbkdvdDpcXG4nICsgX2luc3BlY3QoaWRlbnRpZmllcikpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAoIShkZWZpbml0aW9uIGluc3RhbmNlb2YgX2RlZmluaXRpb24yLmRlZmF1bHQpKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVmFsdWUgb2YgYXJndW1lbnQgXCJkZWZpbml0aW9uXCIgdmlvbGF0ZXMgY29udHJhY3QuXFxuXFxuRXhwZWN0ZWQ6XFxuRGVmaW5pdGlvblxcblxcbkdvdDpcXG4nICsgX2luc3BlY3QoZGVmaW5pdGlvbikpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAodGhpcy5fc2VydmljZURlZmluaXRpb25zQWxyZWFkeVVzZWRUb0luc3RhbnRpYXRlQnlJZGVudGlmaWVyW2lkZW50aWZpZXJdKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTZXJ2aWNlIGRlZmluaXRpb24gZm9yIFwiJyArIGlkZW50aWZpZXIgKyAnXCIgaGFzIGFscmVhZHkgYmVlbiB1c2VkIHRvIGluc3RhbnRpYXRlIGEgc2VydmljZSwgcmVmdXNpbmcgdG8gbW9kaWZ5IGl0Jyk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHRoaXMuX3NlcnZpY2VEZWZpbml0aW9uc0FscmVhZHlVc2VkVG9JbnN0YW50aWF0ZUJ5SWRlbnRpZmllcltpZGVudGlmaWVyXSA9IGZhbHNlO1xuXHQgICAgICB0aGlzLl9zZXJ2aWNlRGVmaW5pdGlvbnNCeUlkZW50aWZpZXJbaWRlbnRpZmllcl0gPSBkZWZpbml0aW9uO1xuXHRcblx0ICAgICAgcmV0dXJuIF9yZWY3KHRoaXMpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogR2V0cyBwYXJhbWV0ZXIgYXNzb2NpYXRlZCB3aXRoIGlkZW50aWZpZXJcblx0ICAgICAqXG5cdCAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWRlbnRpZmllciBwYXJhbWV0ZXIgaWRlbnRpZmllclxuXHQgICAgICpcblx0ICAgICAqIEByZXR1cm5zIHtzY2FsYXJ9IHBhcmFtZXRlciB2YWx1ZVxuXHQgICAgICpcblx0ICAgICAqIEBwdWJsaWNcblx0ICAgICAqL1xuXHRcblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRQYXJhbWV0ZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFBhcmFtZXRlcihpZGVudGlmaWVyKSB7XG5cdCAgICAgIGZ1bmN0aW9uIF9yZWY4KF9pZDgpIHtcblx0ICAgICAgICBpZiAoIXNjYWxhcihfaWQ4KSkge1xuXHQgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRnVuY3Rpb24gcmV0dXJuIHZhbHVlIHZpb2xhdGVzIGNvbnRyYWN0LlxcblxcbkV4cGVjdGVkOlxcbnNjYWxhclxcblxcbkdvdDpcXG4nICsgX2luc3BlY3QoX2lkOCkpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmV0dXJuIF9pZDg7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGlmICghKHR5cGVvZiBpZGVudGlmaWVyID09PSAnc3RyaW5nJykpIHtcblx0ICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdWYWx1ZSBvZiBhcmd1bWVudCBcImlkZW50aWZpZXJcIiB2aW9sYXRlcyBjb250cmFjdC5cXG5cXG5FeHBlY3RlZDpcXG5zdHJpbmdcXG5cXG5Hb3Q6XFxuJyArIF9pbnNwZWN0KGlkZW50aWZpZXIpKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gdGhpcy5fcGFyYW1ldGVyc0J5SWRlbnRpZmllcltpZGVudGlmaWVyXSkge1xuXHQgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5kZWZpbmVkIHBhcmFtZXRlciBcIicgKyBpZGVudGlmaWVyICsgJ1wiJyk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHJldHVybiBfcmVmOCh0aGlzLl9wYXJhbWV0ZXJzQnlJZGVudGlmaWVyW2lkZW50aWZpZXJdKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIEFzc29jaWF0ZXMgcGFyYW1ldGVyIHdpdGggaWRlbnRpZmllclxuXHQgICAgICpcblx0ICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZGVudGlmaWVyXG5cdCAgICAgKiBAcGFyYW0ge3NjYWxhcn0gdmFsdWVcblx0ICAgICAqXG5cdCAgICAgKiBAcmV0dXJucyB7Q29udGFpbmVyfSBjdXJyZW50IENvbnRhaW5lciBpbnN0YW5jZVxuXHQgICAgICpcblx0ICAgICAqIEBwdWJsaWNcblx0ICAgICAqL1xuXHRcblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzZXRQYXJhbWV0ZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNldFBhcmFtZXRlcihpZGVudGlmaWVyLCB2YWx1ZSkge1xuXHQgICAgICBmdW5jdGlvbiBfcmVmOShfaWQ5KSB7XG5cdCAgICAgICAgaWYgKCEoX2lkOSBpbnN0YW5jZW9mIENvbnRhaW5lcikpIHtcblx0ICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Z1bmN0aW9uIHJldHVybiB2YWx1ZSB2aW9sYXRlcyBjb250cmFjdC5cXG5cXG5FeHBlY3RlZDpcXG5Db250YWluZXJcXG5cXG5Hb3Q6XFxuJyArIF9pbnNwZWN0KF9pZDkpKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHJldHVybiBfaWQ5O1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAoISh0eXBlb2YgaWRlbnRpZmllciA9PT0gJ3N0cmluZycpKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVmFsdWUgb2YgYXJndW1lbnQgXCJpZGVudGlmaWVyXCIgdmlvbGF0ZXMgY29udHJhY3QuXFxuXFxuRXhwZWN0ZWQ6XFxuc3RyaW5nXFxuXFxuR290OlxcbicgKyBfaW5zcGVjdChpZGVudGlmaWVyKSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGlmICghc2NhbGFyKHZhbHVlKSkge1xuXHQgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1ZhbHVlIG9mIGFyZ3VtZW50IFwidmFsdWVcIiB2aW9sYXRlcyBjb250cmFjdC5cXG5cXG5FeHBlY3RlZDpcXG5zY2FsYXJcXG5cXG5Hb3Q6XFxuJyArIF9pbnNwZWN0KHZhbHVlKSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHRoaXMuX3BhcmFtZXRlcnNCeUlkZW50aWZpZXJbaWRlbnRpZmllcl0gPSB2YWx1ZTtcblx0XG5cdCAgICAgIHJldHVybiBfcmVmOSh0aGlzKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFJldHVybnMgdHJ1ZSBpZiBjb250YWluZXIgaGFzIHBhcmFtZXRlciwgZmFsc2Ugb3RoZXJ3aXNlXG5cdCAgICAgKlxuXHQgICAgICogQHBhcmFtIHtzdHJpbmd9IGlkZW50aWZpZXJcblx0ICAgICAqXG5cdCAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cblx0ICAgICAqL1xuXHRcblx0ICB9LCB7XG5cdCAgICBrZXk6ICdoYXNQYXJhbWV0ZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGhhc1BhcmFtZXRlcihpZGVudGlmaWVyKSB7XG5cdCAgICAgIGZ1bmN0aW9uIF9yZWYxMChfaWQxMCkge1xuXHQgICAgICAgIGlmICghKHR5cGVvZiBfaWQxMCA9PT0gJ2Jvb2xlYW4nKSkge1xuXHQgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRnVuY3Rpb24gcmV0dXJuIHZhbHVlIHZpb2xhdGVzIGNvbnRyYWN0LlxcblxcbkV4cGVjdGVkOlxcbmJvb2xlYW5cXG5cXG5Hb3Q6XFxuJyArIF9pbnNwZWN0KF9pZDEwKSk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXR1cm4gX2lkMTA7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGlmICghKHR5cGVvZiBpZGVudGlmaWVyID09PSAnc3RyaW5nJykpIHtcblx0ICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdWYWx1ZSBvZiBhcmd1bWVudCBcImlkZW50aWZpZXJcIiB2aW9sYXRlcyBjb250cmFjdC5cXG5cXG5FeHBlY3RlZDpcXG5zdHJpbmdcXG5cXG5Hb3Q6XFxuJyArIF9pbnNwZWN0KGlkZW50aWZpZXIpKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmV0dXJuIF9yZWYxMCh1bmRlZmluZWQgIT09IHRoaXMuX3BhcmFtZXRlcnNCeUlkZW50aWZpZXJbaWRlbnRpZmllcl0pO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogUmVnaXN0ZXJzIFxuXHQgICAgICogXG5cdCAgICAgKiBAcGFyYW0ge0xvY2F0b3JDYWxsYmFja30gbG9jYXRvclxuXHQgICAgICpcblx0ICAgICAqIEByZXR1cm5zIHtDb250YWluZXJ9IGN1cnJlbnQgQ29udGFpbmVyIGluc3RhbmNlXG5cdCAgICAgKlxuXHQgICAgICogQHB1YmxpY1xuXHQgICAgICovXG5cdFxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3JlZ2lzdGVyQ2xhc3NDb25zdHJ1Y3RvckxvY2F0b3InLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlZ2lzdGVyQ2xhc3NDb25zdHJ1Y3RvckxvY2F0b3IobG9jYXRvcikge1xuXHQgICAgICBmdW5jdGlvbiBfcmVmMTEoX2lkMTEpIHtcblx0ICAgICAgICBpZiAoIShfaWQxMSBpbnN0YW5jZW9mIENvbnRhaW5lcikpIHtcblx0ICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Z1bmN0aW9uIHJldHVybiB2YWx1ZSB2aW9sYXRlcyBjb250cmFjdC5cXG5cXG5FeHBlY3RlZDpcXG5Db250YWluZXJcXG5cXG5Hb3Q6XFxuJyArIF9pbnNwZWN0KF9pZDExKSk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXR1cm4gX2lkMTE7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGlmICghTG9jYXRvckNhbGxiYWNrKGxvY2F0b3IpKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVmFsdWUgb2YgYXJndW1lbnQgXCJsb2NhdG9yXCIgdmlvbGF0ZXMgY29udHJhY3QuXFxuXFxuRXhwZWN0ZWQ6XFxuTG9jYXRvckNhbGxiYWNrXFxuXFxuR290OlxcbicgKyBfaW5zcGVjdChsb2NhdG9yKSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHRoaXMuX2NsYXNzQ29uc3RydWN0b3JMb2NhdG9ycy5wdXNoKGxvY2F0b3IpO1xuXHRcblx0ICAgICAgcmV0dXJuIF9yZWYxMSh0aGlzKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIEBwYXJhbSB7TG9jYXRvckNhbGxiYWNrfSBsb2NhdG9yXG5cdCAgICAgKlxuXHQgICAgICogQHJldHVybnMge0NvbnRhaW5lcn0gY3VycmVudCBDb250YWluZXIgaW5zdGFuY2Vcblx0ICAgICAqXG5cdCAgICAgKiBAcHVibGljXG5cdCAgICAgKi9cblx0XG5cdCAgfSwge1xuXHQgICAga2V5OiAncmVnaXN0ZXJJbnN0YW5jZUxvY2F0b3InLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlZ2lzdGVySW5zdGFuY2VMb2NhdG9yKGxvY2F0b3IpIHtcblx0ICAgICAgZnVuY3Rpb24gX3JlZjEyKF9pZDEyKSB7XG5cdCAgICAgICAgaWYgKCEoX2lkMTIgaW5zdGFuY2VvZiBDb250YWluZXIpKSB7XG5cdCAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGdW5jdGlvbiByZXR1cm4gdmFsdWUgdmlvbGF0ZXMgY29udHJhY3QuXFxuXFxuRXhwZWN0ZWQ6XFxuQ29udGFpbmVyXFxuXFxuR290OlxcbicgKyBfaW5zcGVjdChfaWQxMikpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmV0dXJuIF9pZDEyO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAoIUxvY2F0b3JDYWxsYmFjayhsb2NhdG9yKSkge1xuXHQgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1ZhbHVlIG9mIGFyZ3VtZW50IFwibG9jYXRvclwiIHZpb2xhdGVzIGNvbnRyYWN0LlxcblxcbkV4cGVjdGVkOlxcbkxvY2F0b3JDYWxsYmFja1xcblxcbkdvdDpcXG4nICsgX2luc3BlY3QobG9jYXRvcikpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICB0aGlzLl9pbnN0YW5jZUxvY2F0b3JzLnB1c2gobG9jYXRvcik7XG5cdFxuXHQgICAgICByZXR1cm4gX3JlZjEyKHRoaXMpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogUmVzb2x2ZXMgc2VydmljZSBkZWZpbml0aW9uIGFyZ3VtZW50cywgdGhlbiB1c2VzIHRoZW0gdG8gaW5zdGFudGlhdGUgdGhlIHNlcnZpY2UuXG5cdCAgICAgKlxuXHQgICAgICogQHBhcmFtIHtEZWZpbml0aW9ufSBkZWZpbml0aW9uXG5cdCAgICAgKiBAcGFyYW0ge0xvYWRpbmdPYmplY3R9IGxvYWRpbmcgYW4gb2JqZWN0IHRoYXQga2VlcHMgdHJhY2sgb2Ygc2VydmljZSBpbnN0YW50aWF0aW9ucyxcblx0ICAgICAqIHVzZWQgdG8gcHJldmVudCBjaXJjdWxhciBkZXBlbmRlbmN5IHJlbGF0ZWQgaW5maW5pdGUgbG9vcHNcblx0ICAgICAqXG5cdCAgICAgKiBAcHJvbWlzZVxuXHQgICAgICogQHJlc29sdmUge09iamVjdH1cblx0ICAgICAqIEByZWplY3Qge0Vycm9yfSBpbiBjYXNlIGEgZmFjdG9yeSBtZXRob2QgcmV0dXJucyBub3RoaW5nXG5cdCAgICAgKiBAcmVqZWN0IHtFcnJvcn0gaW4gY2FzZSBhIG1ldGhvZCBjYWxsIGNhbGxzIGEgbWV0aG9kIHRoYXQgZG9lcyBub3QgZXhpc3Rcblx0ICAgICAqIEByZWplY3Qge0Vycm9yfSBpbiBjYXNlIHRoZSBzZXJ2aWNlIGRlZmluaXRpb25cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICovXG5cdFxuXHQgIH0sIHtcblx0ICAgIGtleTogJ19pbnN0YW50aWF0ZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2luc3RhbnRpYXRlKGRlZmluaXRpb24sIGxvYWRpbmcpIHtcblx0ICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgICBmdW5jdGlvbiBfcmVmMTMoX2lkMTMpIHtcblx0ICAgICAgICBpZiAoIShfaWQxMyBpbnN0YW5jZW9mIFByb21pc2UpKSB7XG5cdCAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGdW5jdGlvbiByZXR1cm4gdmFsdWUgdmlvbGF0ZXMgY29udHJhY3QuXFxuXFxuRXhwZWN0ZWQ6XFxuUHJvbWlzZTxPYmplY3Q+XFxuXFxuR290OlxcbicgKyBfaW5zcGVjdChfaWQxMykpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmV0dXJuIF9pZDEzO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAoIShkZWZpbml0aW9uIGluc3RhbmNlb2YgX2RlZmluaXRpb24yLmRlZmF1bHQpKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVmFsdWUgb2YgYXJndW1lbnQgXCJkZWZpbml0aW9uXCIgdmlvbGF0ZXMgY29udHJhY3QuXFxuXFxuRXhwZWN0ZWQ6XFxuRGVmaW5pdGlvblxcblxcbkdvdDpcXG4nICsgX2luc3BlY3QoZGVmaW5pdGlvbikpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAoIUxvYWRpbmdPYmplY3QobG9hZGluZykpIHtcblx0ICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdWYWx1ZSBvZiBhcmd1bWVudCBcImxvYWRpbmdcIiB2aW9sYXRlcyBjb250cmFjdC5cXG5cXG5FeHBlY3RlZDpcXG5Mb2FkaW5nT2JqZWN0XFxuXFxuR290OlxcbicgKyBfaW5zcGVjdChsb2FkaW5nKSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHJldHVybiBfcmVmMTModGhpcy5fcmVzb2x2ZUFyZ3MoZGVmaW5pdGlvbi5hcmdzLCBsb2FkaW5nKS50aGVuKGZ1bmN0aW9uIChhcmdzKSB7XG5cdCAgICAgICAgZnVuY3Rpb24gX3JlZjE0KF9pZDE0KSB7XG5cdCAgICAgICAgICBpZiAoIShfaWQxNCBpbnN0YW5jZW9mIFByb21pc2UpKSB7XG5cdCAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Z1bmN0aW9uIHJldHVybiB2YWx1ZSB2aW9sYXRlcyBjb250cmFjdC5cXG5cXG5FeHBlY3RlZDpcXG5Qcm9taXNlXFxuXFxuR290OlxcbicgKyBfaW5zcGVjdChfaWQxNCkpO1xuXHQgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgIHJldHVybiBfaWQxNDtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShhcmdzKSkge1xuXHQgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVmFsdWUgb2YgYXJndW1lbnQgXCJhcmdzXCIgdmlvbGF0ZXMgY29udHJhY3QuXFxuXFxuRXhwZWN0ZWQ6XFxuQXJyYXlcXG5cXG5Hb3Q6XFxuJyArIF9pbnNwZWN0KGFyZ3MpKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHZhciBpbnN0YW5jZSA9IHZvaWQgMDtcblx0XG5cdCAgICAgICAgaWYgKGRlZmluaXRpb24gaW5zdGFuY2VvZiBfY2xhc3NDb25zdHJ1Y3RvckRlZmluaXRpb24yLmRlZmF1bHQpIHtcblx0ICAgICAgICAgIHZhciBjbGFzc0NvbnN0cnVjdG9yID0gX3RoaXMyLl9sb2NhdGVTZXJ2aWNlQ2xhc3NDb25zdHJ1Y3RvcihkZWZpbml0aW9uLmNsYXNzQ29uc3RydWN0b3JJZGVudGlmaWVyKTtcblx0XG5cdCAgICAgICAgICBpbnN0YW5jZSA9IG5ldyAoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuYXBwbHkoY2xhc3NDb25zdHJ1Y3RvciwgW3VuZGVmaW5lZF0uY29uY2F0KGFyZ3MpKSkoKTtcblx0ICAgICAgICB9IGVsc2UgaWYgKGRlZmluaXRpb24gaW5zdGFuY2VvZiBfZmFjdG9yeURlZmluaXRpb24yLmRlZmF1bHQpIHtcblx0ICAgICAgICAgIGluc3RhbmNlID0gZGVmaW5pdGlvbi5mYWN0b3J5LmFwcGx5KHVuZGVmaW5lZCwgYXJncyk7XG5cdFxuXHQgICAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gaW5zdGFuY2UpIHtcblx0ICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RpbmcgZmFjdG9yeSBtZXRob2QgdG8gcmV0dXJuIGEgc2VydmljZScpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAvL1RoZW9yZXRpY2FsbHksIGNhbid0IGhhcHBlbiB3aXRoIGN1cnJlbnQgRGVmaW5pdGlvbiBpbXBsZW1lbnRhdGlvbi5cblx0ICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5zdXBwb3J0ZWQnKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHZhciBtZXRob2RDYWxsc1Byb21pc2VzID0gW107XG5cdFxuXHQgICAgICAgIGRlZmluaXRpb24ubWV0aG9kQ2FsbHMuZm9yRWFjaChmdW5jdGlvbiAobWV0aG9kQ2FsbCkge1xuXHQgICAgICAgICAgaWYgKCEobWV0aG9kQ2FsbCBpbnN0YW5jZW9mIF9tZXRob2RDYWxsMi5kZWZhdWx0KSkge1xuXHQgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdWYWx1ZSBvZiBhcmd1bWVudCBcIm1ldGhvZENhbGxcIiB2aW9sYXRlcyBjb250cmFjdC5cXG5cXG5FeHBlY3RlZDpcXG5NZXRob2RDYWxsXFxuXFxuR290OlxcbicgKyBfaW5zcGVjdChtZXRob2RDYWxsKSk7XG5cdCAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgdmFyIG1ldGhvZE5hbWUgPSBtZXRob2RDYWxsLm5hbWU7XG5cdCAgICAgICAgICB2YXIgbWV0aG9kID0gaW5zdGFuY2VbbWV0aG9kTmFtZV07XG5cdFxuXHQgICAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gbWV0aG9kKSB7XG5cdCAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWV0aG9kIFwiJyArIG1ldGhvZE5hbWUgKyAnXCIgZG9lcyBub3QgZXhpc3QnKTtcblx0ICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICBtZXRob2RDYWxsc1Byb21pc2VzLnB1c2goX3RoaXMyLl9yZXNvbHZlQXJncyhtZXRob2RDYWxsLmFyZ3MsIGxvYWRpbmcpLnRoZW4oZnVuY3Rpb24gKGFyZ3MpIHtcblx0ICAgICAgICAgICAgZnVuY3Rpb24gX3JlZjE2KF9pZDE2KSB7XG5cdCAgICAgICAgICAgICAgaWYgKCEoX2lkMTYgPT0gbnVsbCB8fCBfaWQxNiBpbnN0YW5jZW9mIFByb21pc2UpKSB7XG5cdCAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGdW5jdGlvbiByZXR1cm4gdmFsdWUgdmlvbGF0ZXMgY29udHJhY3QuXFxuXFxuRXhwZWN0ZWQ6XFxuP1Byb21pc2UgfCBtaXhlZFxcblxcbkdvdDpcXG4nICsgX2luc3BlY3QoX2lkMTYpKTtcblx0ICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgIHJldHVybiBfaWQxNjtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGFyZ3MpKSB7XG5cdCAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVmFsdWUgb2YgYXJndW1lbnQgXCJhcmdzXCIgdmlvbGF0ZXMgY29udHJhY3QuXFxuXFxuRXhwZWN0ZWQ6XFxuQXJyYXlcXG5cXG5Hb3Q6XFxuJyArIF9pbnNwZWN0KGFyZ3MpKTtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIF9yZWYxNihtZXRob2QuYXBwbHkoaW5zdGFuY2UsIGFyZ3MpKTtcblx0ICAgICAgICAgIH0pKTtcblx0ICAgICAgICB9KTtcblx0XG5cdCAgICAgICAgcmV0dXJuIF9yZWYxNChQcm9taXNlLmFsbChtZXRob2RDYWxsc1Byb21pc2VzKS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgIGZ1bmN0aW9uIF9yZWYxNyhfaWQxNykge1xuXHQgICAgICAgICAgICBpZiAoIShfaWQxNyBpbnN0YW5jZW9mIE9iamVjdCkpIHtcblx0ICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGdW5jdGlvbiByZXR1cm4gdmFsdWUgdmlvbGF0ZXMgY29udHJhY3QuXFxuXFxuRXhwZWN0ZWQ6XFxuT2JqZWN0XFxuXFxuR290OlxcbicgKyBfaW5zcGVjdChfaWQxNykpO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gX2lkMTc7XG5cdCAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgcmV0dXJuIF9yZWYxNyhpbnN0YW5jZSk7XG5cdCAgICAgICAgfSkpO1xuXHQgICAgICB9KSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBVc2VkIGludGVybmFsbHkgdG8gbG9jYXRlIGEgc2VydmljZSBjbGFzcyBjb25zdHJ1Y3RvciwgaWYgaXQgaGFzIGJlZW4gbWFkZSBhdmFpbGFibGUgdG8gdGhlIGNvbnRhaW5lciBpbnN0YW5jZS5cblx0ICAgICAqXG5cdCAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWRlbnRpZmllclxuXHQgICAgICpcblx0ICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gYSBzZXJ2aWNlIGNsYXNzIGNvbnN0cnVjdG9yXG5cdCAgICAgKlxuXHQgICAgICogQHRocm93cyB7RXJyb3J9IGlmIHRoZSBjbGFzcyBjb25zdHJ1Y3RvciBjb3VsZCBub3QgYmUgZm91bmRcblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICovXG5cdFxuXHQgIH0sIHtcblx0ICAgIGtleTogJ19sb2NhdGVTZXJ2aWNlQ2xhc3NDb25zdHJ1Y3RvcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2xvY2F0ZVNlcnZpY2VDbGFzc0NvbnN0cnVjdG9yKGlkZW50aWZpZXIpIHtcblx0ICAgICAgZnVuY3Rpb24gX3JlZjE4KF9pZDE4KSB7XG5cdCAgICAgICAgaWYgKCEodHlwZW9mIF9pZDE4ID09PSAnZnVuY3Rpb24nKSkge1xuXHQgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRnVuY3Rpb24gcmV0dXJuIHZhbHVlIHZpb2xhdGVzIGNvbnRyYWN0LlxcblxcbkV4cGVjdGVkOlxcbkZ1bmN0aW9uXFxuXFxuR290OlxcbicgKyBfaW5zcGVjdChfaWQxOCkpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmV0dXJuIF9pZDE4O1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAoISh0eXBlb2YgaWRlbnRpZmllciA9PT0gJ3N0cmluZycpKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVmFsdWUgb2YgYXJndW1lbnQgXCJpZGVudGlmaWVyXCIgdmlvbGF0ZXMgY29udHJhY3QuXFxuXFxuRXhwZWN0ZWQ6XFxuc3RyaW5nXFxuXFxuR290OlxcbicgKyBfaW5zcGVjdChpZGVudGlmaWVyKSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHZhciBpID0gdm9pZCAwO1xuXHQgICAgICB2YXIgY2xhc3NDb25zdHJ1Y3RvciA9IHZvaWQgMDtcblx0XG5cdCAgICAgIGZvciAoaSBpbiB0aGlzLl9jbGFzc0NvbnN0cnVjdG9yTG9jYXRvcnMpIHtcblx0ICAgICAgICBpZiAodGhpcy5fY2xhc3NDb25zdHJ1Y3RvckxvY2F0b3JzLmhhc093blByb3BlcnR5KGkpKSB7XG5cdCAgICAgICAgICBjbGFzc0NvbnN0cnVjdG9yID0gdGhpcy5fY2xhc3NDb25zdHJ1Y3RvckxvY2F0b3JzW2ldKGlkZW50aWZpZXIpO1xuXHRcblx0ICAgICAgICAgIGlmICh1bmRlZmluZWQgIT09IGNsYXNzQ29uc3RydWN0b3IpIHtcblx0ICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAodW5kZWZpbmVkID09PSBjbGFzc0NvbnN0cnVjdG9yKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb3VsZCBub3QgbG9jYXRlIHNlcnZpY2UgY2xhc3MgY29uc3RydWN0b3IgZm9yIGlkZW50aWZpZXIgXCInICsgaWRlbnRpZmllciArICdcIicpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICByZXR1cm4gX3JlZjE4KGNsYXNzQ29uc3RydWN0b3IpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQHBhcmFtIHtzdHJpbmd9IGlkZW50aWZpZXJcblx0ICAgICAqXG5cdCAgICAgKiBAcmV0dXJucyB7T2JqZWN0fHZvaWR9XG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqL1xuXHRcblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfbG9jYXRlSW5zdGFuY2UnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9sb2NhdGVJbnN0YW5jZShpZGVudGlmaWVyKSB7XG5cdCAgICAgIGZ1bmN0aW9uIF9yZWYxOShfaWQxOSkge1xuXHQgICAgICAgIGlmICghKF9pZDE5IGluc3RhbmNlb2YgT2JqZWN0IHx8IF9pZDE5ID09IG51bGwpKSB7XG5cdCAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGdW5jdGlvbiByZXR1cm4gdmFsdWUgdmlvbGF0ZXMgY29udHJhY3QuXFxuXFxuRXhwZWN0ZWQ6XFxuT2JqZWN0IHwgdm9pZFxcblxcbkdvdDpcXG4nICsgX2luc3BlY3QoX2lkMTkpKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHJldHVybiBfaWQxOTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgaWYgKCEodHlwZW9mIGlkZW50aWZpZXIgPT09ICdzdHJpbmcnKSkge1xuXHQgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1ZhbHVlIG9mIGFyZ3VtZW50IFwiaWRlbnRpZmllclwiIHZpb2xhdGVzIGNvbnRyYWN0LlxcblxcbkV4cGVjdGVkOlxcbnN0cmluZ1xcblxcbkdvdDpcXG4nICsgX2luc3BlY3QoaWRlbnRpZmllcikpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICB2YXIgaSA9IHZvaWQgMDtcblx0ICAgICAgdmFyIGluc3RhbmNlID0gdm9pZCAwO1xuXHRcblx0ICAgICAgZm9yIChpIGluIHRoaXMuX2luc3RhbmNlTG9jYXRvcnMpIHtcblx0ICAgICAgICBpZiAodGhpcy5faW5zdGFuY2VMb2NhdG9ycy5oYXNPd25Qcm9wZXJ0eShpKSkge1xuXHQgICAgICAgICAgaW5zdGFuY2UgPSB0aGlzLl9pbnN0YW5jZUxvY2F0b3JzW2ldKGlkZW50aWZpZXIpO1xuXHRcblx0ICAgICAgICAgIGlmICh1bmRlZmluZWQgIT09IGluc3RhbmNlKSB7XG5cdCAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmV0dXJuIF9yZWYxOShpbnN0YW5jZSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBSZXNvbHZlcyBnaXZlbiBhcmd1bWVudHMuXG5cdCAgICAgKlxuXHQgICAgICogQHBhcmFtIHtJbmplY3RhYmxlQXJndW1lbnRzfSBhcmdzXG5cdCAgICAgKiBAcGFyYW0ge0xvYWRpbmdPYmplY3R9IGxvYWRpbmcgYW4gb2JqZWN0IHRoYXQga2VlcHMgdHJhY2sgb2Ygc2VydmljZSBpbnN0YW50aWF0aW9ucyxcblx0ICAgICAqIHVzZWQgdG8gcHJldmVudCBjaXJjdWxhciBkZXBlbmRlbmN5IHJlbGF0ZWQgaW5maW5pdGUgbG9vcHNcblx0ICAgICAqXG5cdCAgICAgKiBAcHJvbWlzZVxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKi9cblx0XG5cdCAgfSwge1xuXHQgICAga2V5OiAnX3Jlc29sdmVBcmdzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVzb2x2ZUFyZ3MoYXJncywgbG9hZGluZykge1xuXHQgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblx0XG5cdCAgICAgIGZ1bmN0aW9uIF9yZWYyMChfaWQyMCkge1xuXHQgICAgICAgIGlmICghKF9pZDIwIGluc3RhbmNlb2YgUHJvbWlzZSkpIHtcblx0ICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Z1bmN0aW9uIHJldHVybiB2YWx1ZSB2aW9sYXRlcyBjb250cmFjdC5cXG5cXG5FeHBlY3RlZDpcXG5Qcm9taXNlXFxuXFxuR290OlxcbicgKyBfaW5zcGVjdChfaWQyMCkpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmV0dXJuIF9pZDIwO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAoIUluamVjdGFibGVBcmd1bWVudHMoYXJncykpIHtcblx0ICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdWYWx1ZSBvZiBhcmd1bWVudCBcImFyZ3NcIiB2aW9sYXRlcyBjb250cmFjdC5cXG5cXG5FeHBlY3RlZDpcXG5JbmplY3RhYmxlQXJndW1lbnRzXFxuXFxuR290OlxcbicgKyBfaW5zcGVjdChhcmdzKSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGlmICghTG9hZGluZ09iamVjdChsb2FkaW5nKSkge1xuXHQgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1ZhbHVlIG9mIGFyZ3VtZW50IFwibG9hZGluZ1wiIHZpb2xhdGVzIGNvbnRyYWN0LlxcblxcbkV4cGVjdGVkOlxcbkxvYWRpbmdPYmplY3RcXG5cXG5Hb3Q6XFxuJyArIF9pbnNwZWN0KGxvYWRpbmcpKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgdmFyIHByb21pc2VzID0gW107XG5cdFxuXHQgICAgICBhcmdzLmZvckVhY2goZnVuY3Rpb24gKGFyZykge1xuXHQgICAgICAgIGlmIChhcmcgaW5zdGFuY2VvZiBfcmVmZXJlbmNlMi5kZWZhdWx0KSB7XG5cdCAgICAgICAgICB2YXIgaWQgPSBhcmcuaWQ7XG5cdFxuXHQgICAgICAgICAgcHJvbWlzZXMucHVzaChfdGhpczMuX2RvR2V0U2VydmljZShpZCwgQ29udGFpbmVyLl9kZWVwQ29weUxvYWRpbmcobG9hZGluZykpKTtcblx0ICAgICAgICB9IGVsc2UgaWYgKGFyZyBpbnN0YW5jZW9mIF9wYXJhbWV0ZXIyLmRlZmF1bHQpIHtcblx0ICAgICAgICAgIHByb21pc2VzLnB1c2goX3RoaXMzLmdldFBhcmFtZXRlcihhcmcuaWQpKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbnN1cHBvcnRlZCBhcmcgb2YgdHlwZSBcIicgKyAodHlwZW9mIGFyZyA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YoYXJnKSkgKyAnXCInKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgcmV0dXJuIF9yZWYyMChQcm9taXNlLmFsbChwcm9taXNlcykpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQHBhcmFtIHtzdHJpbmd9IGlkZW50aWZpZXJcblx0ICAgICAqXG5cdCAgICAgKiBAcmV0dXJucyB7RXJyb3J9XG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqL1xuXHRcblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfZG9HZXRTZXJ2aWNlJyxcblx0XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBVc2VkIGludGVybmFsbHkgdG8gcmV0cmlldmUgYSBzZXJ2aWNlIGJ5IGl0cyBpZGVudGlmaWVyLlxuXHQgICAgICpcblx0ICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZGVudGlmaWVyIHRoZSBpZGVudGlmaWVyIG9mIHRoZSBzZXJ2aWNlXG5cdCAgICAgKiBAcGFyYW0ge0xvYWRpbmdPYmplY3R9IGxvYWRpbmcgYW4gb2JqZWN0IHRoYXQga2VlcHMgdHJhY2sgb2Ygc2VydmljZSBpbnN0YW50aWF0aW9ucyxcblx0ICAgICAqIHVzZWQgdG8gcHJldmVudCBjaXJjdWxhciBkZXBlbmRlbmN5IHJlbGF0ZWQgaW5maW5pdGUgbG9vcHNcblx0ICAgICAqXG5cdCAgICAgKiBAcHJvbWlzZVxuXHQgICAgICogQHJlc29sdmUgeyp9IGEgc2VydmljZSB0aGF0IGNvdWxkIGJlIG9mIGFueSB0eXBlXG5cdCAgICAgKiBAcmVqZWN0IHtFcnJvcn0gaW4gY2FzZSB0aGUgc2VydmljZSBpcyB1bmRlZmluZWRcblx0ICAgICAqIEByZWplY3Qge0Vycm9yfSBpbiBjYXNlIG9mIGEgY2lyY3VsYXIgZGVwZW5kZW5jeVxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKi9cblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfZG9HZXRTZXJ2aWNlKGlkZW50aWZpZXIsIGxvYWRpbmcpIHtcblx0ICAgICAgZnVuY3Rpb24gX3JlZjIyKF9pZDIyKSB7XG5cdCAgICAgICAgaWYgKCEoX2lkMjIgaW5zdGFuY2VvZiBQcm9taXNlKSkge1xuXHQgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRnVuY3Rpb24gcmV0dXJuIHZhbHVlIHZpb2xhdGVzIGNvbnRyYWN0LlxcblxcbkV4cGVjdGVkOlxcblByb21pc2VcXG5cXG5Hb3Q6XFxuJyArIF9pbnNwZWN0KF9pZDIyKSk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXR1cm4gX2lkMjI7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGlmICghKHR5cGVvZiBpZGVudGlmaWVyID09PSAnc3RyaW5nJykpIHtcblx0ICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdWYWx1ZSBvZiBhcmd1bWVudCBcImlkZW50aWZpZXJcIiB2aW9sYXRlcyBjb250cmFjdC5cXG5cXG5FeHBlY3RlZDpcXG5zdHJpbmdcXG5cXG5Hb3Q6XFxuJyArIF9pbnNwZWN0KGlkZW50aWZpZXIpKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgaWYgKCFMb2FkaW5nT2JqZWN0KGxvYWRpbmcpKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVmFsdWUgb2YgYXJndW1lbnQgXCJsb2FkaW5nXCIgdmlvbGF0ZXMgY29udHJhY3QuXFxuXFxuRXhwZWN0ZWQ6XFxuTG9hZGluZ09iamVjdFxcblxcbkdvdDpcXG4nICsgX2luc3BlY3QobG9hZGluZykpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAodW5kZWZpbmVkICE9PSBsb2FkaW5nLm9ialtpZGVudGlmaWVyXSkge1xuXHQgICAgICAgIHZhciBwYXRoID0gbG9hZGluZy5hcnIuY29uY2F0KFtpZGVudGlmaWVyXSkuam9pbignID0+ICcpO1xuXHRcblx0ICAgICAgICByZXR1cm4gX3JlZjIyKFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignQ2lyY3VsYXIgZGVwZW5kZW5jeSBkZXRlY3RlZCAnICsgcGF0aCArICcnKSkpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAoIXRoaXMuaGFzSW5zdGFuY2UoaWRlbnRpZmllcikpIHtcblx0ICAgICAgICBpZiAoIXRoaXMuaGFzRGVmaW5pdGlvbihpZGVudGlmaWVyKSkge1xuXHQgICAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuX2xvY2F0ZUluc3RhbmNlKGlkZW50aWZpZXIpO1xuXHRcblx0ICAgICAgICAgIGlmICh1bmRlZmluZWQgIT09IHJlc3VsdCkge1xuXHQgICAgICAgICAgICAvKipcblx0ICAgICAgICAgICAgICogSW4gY2FzZSBsb2NhdGUgaW5zdGFuY2UgcmV0dXJucyBhIHByb21pc2UsIHJlc29sdmUgcHJvbWlzZVxuXHQgICAgICAgICAgICAgKi9cblx0ICAgICAgICAgICAgcmV0dXJuIF9yZWYyMihQcm9taXNlLnJlc29sdmUocmVzdWx0KS50aGVuKGZ1bmN0aW9uIChpbnN0YW5jZSkge1xuXHQgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgICAgICAgICAgICBpZiAodW5kZWZpbmVkID09PSBpbnN0YW5jZSkge1xuXHQgICAgICAgICAgICAgICAgICByZWplY3QoQ29udGFpbmVyLl9jcmVhdGVNaXNzaW5nU2VydmljZURlZmluaXRpb25BbmRJbnN0YW5jZUZvcklkZW50aWZpZXJFcnJvcihpZGVudGlmaWVyKSk7XG5cdCAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICByZXNvbHZlKGluc3RhbmNlKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfSkpO1xuXHQgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgIHJldHVybiBfcmVmMjIoUHJvbWlzZS5yZWplY3QoQ29udGFpbmVyLl9jcmVhdGVNaXNzaW5nU2VydmljZURlZmluaXRpb25BbmRJbnN0YW5jZUZvcklkZW50aWZpZXJFcnJvcihpZGVudGlmaWVyKSkpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgbG9hZGluZy5vYmpbaWRlbnRpZmllcl0gPSB0cnVlO1xuXHQgICAgICAgIGxvYWRpbmcuYXJyLnB1c2goaWRlbnRpZmllcik7XG5cdFxuXHQgICAgICAgIHZhciBwcm9taXNlID0gdGhpcy5faW5zdGFudGlhdGUodGhpcy5nZXREZWZpbml0aW9uKGlkZW50aWZpZXIpLCBsb2FkaW5nKTtcblx0XG5cdCAgICAgICAgdGhpcy5fc2VydmljZURlZmluaXRpb25zQWxyZWFkeVVzZWRUb0luc3RhbnRpYXRlQnlJZGVudGlmaWVyW2lkZW50aWZpZXJdID0gdHJ1ZTtcblx0XG5cdCAgICAgICAgdGhpcy5fc2VydmljZXNCeUlkZW50aWZpZXJbaWRlbnRpZmllcl0gPSBwcm9taXNlO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICByZXR1cm4gX3JlZjIyKFByb21pc2UucmVzb2x2ZSh0aGlzLl9zZXJ2aWNlc0J5SWRlbnRpZmllcltpZGVudGlmaWVyXSkpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogTWFrZXMgYSBkZWVwIGNvcHkgb2YgbG9hZGluZyBvYmplY3Qgc28gYXMgbm90IHRvIG1vZGlmeSBpdCBieSByZWZlcmVuY2UuXG5cdCAgICAgKlxuXHQgICAgICogQHBhcmFtIHtPYmplY3R9IGxvYWRpbmdcblx0ICAgICAqXG5cdCAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBsb2FkaW5nIGEgZGVlcCBjb3B5IG9mIHRoZSBvcmlnaW5hbCBsb2FkaW5nIHBhcmFtZXRlclxuXHQgICAgICogQHJldHVybnMge09iamVjdDxzdHJpbmcsIGJvb2xlYW4+fSBsb2FkaW5nLm9ialxuXHQgICAgICogQHJldHVybnMge0FycmF5PHN0cmluZz59IGxvYWRpbmcuYXJyXG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqL1xuXHRcblx0ICB9XSwgW3tcblx0ICAgIGtleTogJ19jcmVhdGVNaXNzaW5nU2VydmljZURlZmluaXRpb25BbmRJbnN0YW5jZUZvcklkZW50aWZpZXJFcnJvcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2NyZWF0ZU1pc3NpbmdTZXJ2aWNlRGVmaW5pdGlvbkFuZEluc3RhbmNlRm9ySWRlbnRpZmllckVycm9yKGlkZW50aWZpZXIpIHtcblx0ICAgICAgaWYgKCEodHlwZW9mIGlkZW50aWZpZXIgPT09ICdzdHJpbmcnKSkge1xuXHQgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1ZhbHVlIG9mIGFyZ3VtZW50IFwiaWRlbnRpZmllclwiIHZpb2xhdGVzIGNvbnRyYWN0LlxcblxcbkV4cGVjdGVkOlxcbnN0cmluZ1xcblxcbkdvdDpcXG4nICsgX2luc3BlY3QoaWRlbnRpZmllcikpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICByZXR1cm4gbmV3IEVycm9yKCdNaXNzaW5nIHNlcnZpY2UgZGVmaW5pdGlvbiBhbmQgaW5zdGFuY2UgZm9yIGlkZW50aWZpZXIgXCInICsgaWRlbnRpZmllciArICdcIicpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ19kZWVwQ29weUxvYWRpbmcnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9kZWVwQ29weUxvYWRpbmcobG9hZGluZykge1xuXHQgICAgICBpZiAoIShsb2FkaW5nIGluc3RhbmNlb2YgT2JqZWN0KSkge1xuXHQgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1ZhbHVlIG9mIGFyZ3VtZW50IFwibG9hZGluZ1wiIHZpb2xhdGVzIGNvbnRyYWN0LlxcblxcbkV4cGVjdGVkOlxcbk9iamVjdFxcblxcbkdvdDpcXG4nICsgX2luc3BlY3QobG9hZGluZykpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICB2YXIgbmV3TG9hZGluZyA9IHtcblx0ICAgICAgICBvYmo6IHt9LFxuXHQgICAgICAgIGFycjogW10uY29uY2F0KGxvYWRpbmcuYXJyKVxuXHQgICAgICB9O1xuXHRcblx0ICAgICAgZm9yICh2YXIgaSBpbiBsb2FkaW5nLm9iaikge1xuXHQgICAgICAgIGlmIChsb2FkaW5nLm9iai5oYXNPd25Qcm9wZXJ0eShpKSkge1xuXHQgICAgICAgICAgbmV3TG9hZGluZy5vYmpbaV0gPSBsb2FkaW5nLm9ialtpXTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHJldHVybiBuZXdMb2FkaW5nO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0XG5cdCAgcmV0dXJuIENvbnRhaW5lcjtcblx0fSgpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gQ29udGFpbmVyO1xuXHRcblx0ZnVuY3Rpb24gX2luc3BlY3QoaW5wdXQsIGRlcHRoKSB7XG5cdCAgdmFyIG1heERlcHRoID0gNDtcblx0ICB2YXIgbWF4S2V5cyA9IDE1O1xuXG5cdCAgaWYgKGRlcHRoID09PSB1bmRlZmluZWQpIHtcblx0ICAgIGRlcHRoID0gMDtcblx0ICB9XG5cblx0ICBkZXB0aCArPSAxO1xuXG5cdCAgaWYgKGlucHV0ID09PSBudWxsKSB7XG5cdCAgICByZXR1cm4gJ251bGwnO1xuXHQgIH0gZWxzZSBpZiAoaW5wdXQgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgcmV0dXJuICd2b2lkJztcblx0ICB9IGVsc2UgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIGlucHV0ID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgaW5wdXQgPT09ICdib29sZWFuJykge1xuXHQgICAgcmV0dXJuIHR5cGVvZiBpbnB1dCA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YoaW5wdXQpO1xuXHQgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShpbnB1dCkpIHtcblx0ICAgIGlmIChpbnB1dC5sZW5ndGggPiAwKSB7XG5cdCAgICAgIHZhciBfcmV0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIGlmIChkZXB0aCA+IG1heERlcHRoKSByZXR1cm4ge1xuXHQgICAgICAgICAgICB2OiAnWy4uLl0nXG5cdCAgICAgICAgICB9O1xuXG5cdCAgICAgICAgdmFyIGZpcnN0ID0gX2luc3BlY3QoaW5wdXRbMF0sIGRlcHRoKTtcblxuXHQgICAgICAgIGlmIChpbnB1dC5ldmVyeShmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgICAgICAgcmV0dXJuIF9pbnNwZWN0KGl0ZW0sIGRlcHRoKSA9PT0gZmlyc3Q7XG5cdCAgICAgICAgfSkpIHtcblx0ICAgICAgICAgIHJldHVybiB7XG5cdCAgICAgICAgICAgIHY6IGZpcnN0LnRyaW0oKSArICdbXSdcblx0ICAgICAgICAgIH07XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHJldHVybiB7XG5cdCAgICAgICAgICAgIHY6ICdbJyArIGlucHV0LnNsaWNlKDAsIG1heEtleXMpLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgICAgICAgICAgIHJldHVybiBfaW5zcGVjdChpdGVtLCBkZXB0aCk7XG5cdCAgICAgICAgICAgIH0pLmpvaW4oJywgJykgKyAoaW5wdXQubGVuZ3RoID49IG1heEtleXMgPyAnLCAuLi4nIDogJycpICsgJ10nXG5cdCAgICAgICAgICB9O1xuXHQgICAgICAgIH1cblx0ICAgICAgfSgpO1xuXG5cdCAgICAgIGlmICgodHlwZW9mIF9yZXQgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKF9yZXQpKSA9PT0gXCJvYmplY3RcIikgcmV0dXJuIF9yZXQudjtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiAnQXJyYXknO1xuXHQgICAgfVxuXHQgIH0gZWxzZSB7XG5cdCAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGlucHV0KTtcblxuXHQgICAgaWYgKCFrZXlzLmxlbmd0aCkge1xuXHQgICAgICBpZiAoaW5wdXQuY29uc3RydWN0b3IgJiYgaW5wdXQuY29uc3RydWN0b3IubmFtZSAmJiBpbnB1dC5jb25zdHJ1Y3Rvci5uYW1lICE9PSAnT2JqZWN0Jykge1xuXHQgICAgICAgIHJldHVybiBpbnB1dC5jb25zdHJ1Y3Rvci5uYW1lO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiAnT2JqZWN0Jztcblx0ICAgICAgfVxuXHQgICAgfVxuXG5cdCAgICBpZiAoZGVwdGggPiBtYXhEZXB0aCkgcmV0dXJuICd7Li4ufSc7XG5cdCAgICB2YXIgaW5kZW50ID0gJyAgJy5yZXBlYXQoZGVwdGggLSAxKTtcblx0ICAgIHZhciBlbnRyaWVzID0ga2V5cy5zbGljZSgwLCBtYXhLZXlzKS5tYXAoZnVuY3Rpb24gKGtleSkge1xuXHQgICAgICByZXR1cm4gKC9eKFtBLVpfJF1bQS1aMC05XyRdKikkL2kudGVzdChrZXkpID8ga2V5IDogSlNPTi5zdHJpbmdpZnkoa2V5KSkgKyAnOiAnICsgX2luc3BlY3QoaW5wdXRba2V5XSwgZGVwdGgpICsgJzsnO1xuXHQgICAgfSkuam9pbignXFxuICAnICsgaW5kZW50KTtcblxuXHQgICAgaWYgKGtleXMubGVuZ3RoID49IG1heEtleXMpIHtcblx0ICAgICAgZW50cmllcyArPSAnXFxuICAnICsgaW5kZW50ICsgJy4uLic7XG5cdCAgICB9XG5cblx0ICAgIGlmIChpbnB1dC5jb25zdHJ1Y3RvciAmJiBpbnB1dC5jb25zdHJ1Y3Rvci5uYW1lICYmIGlucHV0LmNvbnN0cnVjdG9yLm5hbWUgIT09ICdPYmplY3QnKSB7XG5cdCAgICAgIHJldHVybiBpbnB1dC5jb25zdHJ1Y3Rvci5uYW1lICsgJyB7XFxuICAnICsgaW5kZW50ICsgZW50cmllcyArICdcXG4nICsgaW5kZW50ICsgJ30nO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuICd7XFxuICAnICsgaW5kZW50ICsgZW50cmllcyArICdcXG4nICsgaW5kZW50ICsgJ30nO1xuXHQgICAgfVxuXHQgIH1cblx0fVxuXG4vKioqLyB9LFxuLyogMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0dmFyIF9tZXRob2RDYWxsID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfbWV0aG9kQ2FsbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tZXRob2RDYWxsKTtcblx0XG5cdHZhciBfaW5qZWN0YWJsZUFyZ3VtZW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdHZhciBJbmplY3RhYmxlQXJndW1lbnRzID0gX2luamVjdGFibGVBcmd1bWVudHMuSW5qZWN0YWJsZUFyZ3VtZW50cztcblx0XG5cdC8qKlxuXHQgKiBAYXV0aG9yIEJlbmphbWluIE1pY2hhbHNraSA8YmVuamFtaW4ubWljaGFsc2tpQGdtYWlsLmNvbT5cblx0ICpcblx0ICogQHByaXZhdGVcblx0ICovXG5cdFxuXHR2YXIgRGVmaW5pdGlvbiA9IGZ1bmN0aW9uICgpIHtcblx0XG5cdCAgLyoqXG5cdCAgICogQ29uc3RydWN0b3Jcblx0ICAgKlxuXHQgICAqIEBwYXJhbSB7P0luamVjdGFibGVBcmd1bWVudHN9IFthcmdzPVtdXVxuXHQgICAqL1xuXHQgIGZ1bmN0aW9uIERlZmluaXRpb24oKSB7XG5cdCAgICB2YXIgYXJncyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogW107XG5cdFxuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERlZmluaXRpb24pO1xuXHRcblx0ICAgIGlmICghKGFyZ3MgPT0gbnVsbCB8fCBJbmplY3RhYmxlQXJndW1lbnRzKGFyZ3MpKSkge1xuXHQgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdWYWx1ZSBvZiBhcmd1bWVudCBcImFyZ3NcIiB2aW9sYXRlcyBjb250cmFjdC5cXG5cXG5FeHBlY3RlZDpcXG4/SW5qZWN0YWJsZUFyZ3VtZW50c1xcblxcbkdvdDpcXG4nICsgX2luc3BlY3QoYXJncykpO1xuXHQgICAgfVxuXHRcblx0ICAgIHRoaXMuX21ldGhvZENhbGxzID0gW107XG5cdCAgICB0aGlzLl9hcmdzID0gYXJncztcblx0ICB9XG5cdFxuXHQgIC8qKlxuXHQgICAqIFNldHMgbWV0aG9kQ2FsbHNcblx0ICAgKlxuXHQgICAqIEBwYXJhbSB7QXJyYXk8TWV0aG9kQ2FsbD59IG1ldGhvZENhbGxzXG5cdCAgICovXG5cdFxuXHRcblx0ICBfY3JlYXRlQ2xhc3MoRGVmaW5pdGlvbiwgW3tcblx0ICAgIGtleTogJ21ldGhvZENhbGxzJyxcblx0ICAgIHNldDogZnVuY3Rpb24gc2V0KG1ldGhvZENhbGxzKSB7XG5cdCAgICAgIGlmICghKEFycmF5LmlzQXJyYXkobWV0aG9kQ2FsbHMpICYmIG1ldGhvZENhbGxzLmV2ZXJ5KGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICAgICAgcmV0dXJuIGl0ZW0gaW5zdGFuY2VvZiBfbWV0aG9kQ2FsbDIuZGVmYXVsdDtcblx0ICAgICAgfSkpKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVmFsdWUgb2YgYXJndW1lbnQgXCJtZXRob2RDYWxsc1wiIHZpb2xhdGVzIGNvbnRyYWN0LlxcblxcbkV4cGVjdGVkOlxcbkFycmF5PE1ldGhvZENhbGw+XFxuXFxuR290OlxcbicgKyBfaW5zcGVjdChtZXRob2RDYWxscykpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICB0aGlzLl9tZXRob2RDYWxscyA9IG1ldGhvZENhbGxzO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogR2V0cyBtZXRob2RDYWxsc1xuXHQgICAgICpcblx0ICAgICAqIEByZXR1cm5zIHtBcnJheTxNZXRob2RDYWxsPn1cblx0ICAgICAqL1xuXHQgICAgLFxuXHQgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICAgIGZ1bmN0aW9uIF9yZWYyKF9pZDIpIHtcblx0ICAgICAgICBpZiAoIShBcnJheS5pc0FycmF5KF9pZDIpICYmIF9pZDIuZXZlcnkoZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgICAgICAgIHJldHVybiBpdGVtIGluc3RhbmNlb2YgX21ldGhvZENhbGwyLmRlZmF1bHQ7XG5cdCAgICAgICAgfSkpKSB7XG5cdCAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGdW5jdGlvbiByZXR1cm4gdmFsdWUgdmlvbGF0ZXMgY29udHJhY3QuXFxuXFxuRXhwZWN0ZWQ6XFxuQXJyYXk8TWV0aG9kQ2FsbD5cXG5cXG5Hb3Q6XFxuJyArIF9pbnNwZWN0KF9pZDIpKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHJldHVybiBfaWQyO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICByZXR1cm4gX3JlZjIodGhpcy5fbWV0aG9kQ2FsbHMpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogR2V0cyBhcmdzXG5cdCAgICAgKlxuXHQgICAgICogQHJldHVybnMge0luamVjdGFibGVBcmd1bWVudHN9XG5cdCAgICAgKi9cblx0XG5cdCAgfSwge1xuXHQgICAga2V5OiAnYXJncycsXG5cdCAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgZnVuY3Rpb24gX3JlZjMoX2lkMykge1xuXHQgICAgICAgIGlmICghSW5qZWN0YWJsZUFyZ3VtZW50cyhfaWQzKSkge1xuXHQgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRnVuY3Rpb24gcmV0dXJuIHZhbHVlIHZpb2xhdGVzIGNvbnRyYWN0LlxcblxcbkV4cGVjdGVkOlxcbkluamVjdGFibGVBcmd1bWVudHNcXG5cXG5Hb3Q6XFxuJyArIF9pbnNwZWN0KF9pZDMpKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHJldHVybiBfaWQzO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICByZXR1cm4gX3JlZjModGhpcy5fYXJncyk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHRcblx0ICByZXR1cm4gRGVmaW5pdGlvbjtcblx0fSgpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gRGVmaW5pdGlvbjtcblx0XG5cdGZ1bmN0aW9uIF9pbnNwZWN0KGlucHV0LCBkZXB0aCkge1xuXHQgIHZhciBtYXhEZXB0aCA9IDQ7XG5cdCAgdmFyIG1heEtleXMgPSAxNTtcblxuXHQgIGlmIChkZXB0aCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICBkZXB0aCA9IDA7XG5cdCAgfVxuXG5cdCAgZGVwdGggKz0gMTtcblxuXHQgIGlmIChpbnB1dCA9PT0gbnVsbCkge1xuXHQgICAgcmV0dXJuICdudWxsJztcblx0ICB9IGVsc2UgaWYgKGlucHV0ID09PSB1bmRlZmluZWQpIHtcblx0ICAgIHJldHVybiAndm9pZCc7XG5cdCAgfSBlbHNlIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBpbnB1dCA9PT0gJ251bWJlcicgfHwgdHlwZW9mIGlucHV0ID09PSAnYm9vbGVhbicpIHtcblx0ICAgIHJldHVybiB0eXBlb2YgaW5wdXQgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKGlucHV0KTtcblx0ICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoaW5wdXQpKSB7XG5cdCAgICBpZiAoaW5wdXQubGVuZ3RoID4gMCkge1xuXHQgICAgICB2YXIgX3JldCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBpZiAoZGVwdGggPiBtYXhEZXB0aCkgcmV0dXJuIHtcblx0ICAgICAgICAgICAgdjogJ1suLi5dJ1xuXHQgICAgICAgICAgfTtcblxuXHQgICAgICAgIHZhciBmaXJzdCA9IF9pbnNwZWN0KGlucHV0WzBdLCBkZXB0aCk7XG5cblx0ICAgICAgICBpZiAoaW5wdXQuZXZlcnkoZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgICAgICAgIHJldHVybiBfaW5zcGVjdChpdGVtLCBkZXB0aCkgPT09IGZpcnN0O1xuXHQgICAgICAgIH0pKSB7XG5cdCAgICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgICB2OiBmaXJzdC50cmltKCkgKyAnW10nXG5cdCAgICAgICAgICB9O1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgICB2OiAnWycgKyBpbnB1dC5zbGljZSgwLCBtYXhLZXlzKS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgICAgICAgICAgICByZXR1cm4gX2luc3BlY3QoaXRlbSwgZGVwdGgpO1xuXHQgICAgICAgICAgICB9KS5qb2luKCcsICcpICsgKGlucHV0Lmxlbmd0aCA+PSBtYXhLZXlzID8gJywgLi4uJyA6ICcnKSArICddJ1xuXHQgICAgICAgICAgfTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0oKTtcblxuXHQgICAgICBpZiAoKHR5cGVvZiBfcmV0ID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihfcmV0KSkgPT09IFwib2JqZWN0XCIpIHJldHVybiBfcmV0LnY7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gJ0FycmF5Jztcblx0ICAgIH1cblx0ICB9IGVsc2Uge1xuXHQgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhpbnB1dCk7XG5cblx0ICAgIGlmICgha2V5cy5sZW5ndGgpIHtcblx0ICAgICAgaWYgKGlucHV0LmNvbnN0cnVjdG9yICYmIGlucHV0LmNvbnN0cnVjdG9yLm5hbWUgJiYgaW5wdXQuY29uc3RydWN0b3IubmFtZSAhPT0gJ09iamVjdCcpIHtcblx0ICAgICAgICByZXR1cm4gaW5wdXQuY29uc3RydWN0b3IubmFtZTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gJ09iamVjdCc7XG5cdCAgICAgIH1cblx0ICAgIH1cblxuXHQgICAgaWYgKGRlcHRoID4gbWF4RGVwdGgpIHJldHVybiAney4uLn0nO1xuXHQgICAgdmFyIGluZGVudCA9ICcgICcucmVwZWF0KGRlcHRoIC0gMSk7XG5cdCAgICB2YXIgZW50cmllcyA9IGtleXMuc2xpY2UoMCwgbWF4S2V5cykubWFwKGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgICAgcmV0dXJuICgvXihbQS1aXyRdW0EtWjAtOV8kXSopJC9pLnRlc3Qoa2V5KSA/IGtleSA6IEpTT04uc3RyaW5naWZ5KGtleSkpICsgJzogJyArIF9pbnNwZWN0KGlucHV0W2tleV0sIGRlcHRoKSArICc7Jztcblx0ICAgIH0pLmpvaW4oJ1xcbiAgJyArIGluZGVudCk7XG5cblx0ICAgIGlmIChrZXlzLmxlbmd0aCA+PSBtYXhLZXlzKSB7XG5cdCAgICAgIGVudHJpZXMgKz0gJ1xcbiAgJyArIGluZGVudCArICcuLi4nO1xuXHQgICAgfVxuXG5cdCAgICBpZiAoaW5wdXQuY29uc3RydWN0b3IgJiYgaW5wdXQuY29uc3RydWN0b3IubmFtZSAmJiBpbnB1dC5jb25zdHJ1Y3Rvci5uYW1lICE9PSAnT2JqZWN0Jykge1xuXHQgICAgICByZXR1cm4gaW5wdXQuY29uc3RydWN0b3IubmFtZSArICcge1xcbiAgJyArIGluZGVudCArIGVudHJpZXMgKyAnXFxuJyArIGluZGVudCArICd9Jztcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiAne1xcbiAgJyArIGluZGVudCArIGVudHJpZXMgKyAnXFxuJyArIGluZGVudCArICd9Jztcblx0ICAgIH1cblx0ICB9XG5cdH1cblxuLyoqKi8gfSxcbi8qIDMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblx0XG5cdHZhciBfaW5qZWN0YWJsZUFyZ3VtZW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0dmFyIEluamVjdGFibGVBcmd1bWVudHMgPSBfaW5qZWN0YWJsZUFyZ3VtZW50cy5JbmplY3RhYmxlQXJndW1lbnRzO1xuXHRcblx0LyoqXG5cdCAqIEBhdXRob3IgQmVuamFtaW4gTWljaGFsc2tpIDxiZW5qYW1pbi5taWNoYWxza2lAZ21haWwuY29tPlxuXHQgKlxuXHQgKiBAcHVibGljXG5cdCAqL1xuXHRcblx0dmFyIE1ldGhvZENhbGwgPSBmdW5jdGlvbiAoKSB7XG5cdFxuXHQgIC8qKlxuXHQgICAqIENvbnN0cnVjdG9yXG5cdCAgICpcblx0ICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBtZXRob2QgbmFtZVxuXHQgICAqIEBwYXJhbSB7P0luamVjdGFibGVBcmd1bWVudHN9IFthcmdzPVtdXVxuXHQgICAqXG5cdCAgICogQHB1YmxpY1xuXHQgICAqL1xuXHQgIGZ1bmN0aW9uIE1ldGhvZENhbGwobmFtZSkge1xuXHQgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IFtdO1xuXHRcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNZXRob2RDYWxsKTtcblx0XG5cdCAgICBpZiAoISh0eXBlb2YgbmFtZSA9PT0gJ3N0cmluZycpKSB7XG5cdCAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1ZhbHVlIG9mIGFyZ3VtZW50IFwibmFtZVwiIHZpb2xhdGVzIGNvbnRyYWN0LlxcblxcbkV4cGVjdGVkOlxcbnN0cmluZ1xcblxcbkdvdDpcXG4nICsgX2luc3BlY3QobmFtZSkpO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmICghKGFyZ3MgPT0gbnVsbCB8fCBJbmplY3RhYmxlQXJndW1lbnRzKGFyZ3MpKSkge1xuXHQgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdWYWx1ZSBvZiBhcmd1bWVudCBcImFyZ3NcIiB2aW9sYXRlcyBjb250cmFjdC5cXG5cXG5FeHBlY3RlZDpcXG4/SW5qZWN0YWJsZUFyZ3VtZW50c1xcblxcbkdvdDpcXG4nICsgX2luc3BlY3QoYXJncykpO1xuXHQgICAgfVxuXHRcblx0ICAgIHRoaXMuX25hbWUgPSBuYW1lO1xuXHQgICAgdGhpcy5fYXJncyA9IGFyZ3M7XG5cdCAgfVxuXHRcblx0ICAvKipcblx0ICAgKiBHZXRzIG5hbWVcblx0ICAgKlxuXHQgICAqIEByZXR1cm5zIHtzdHJpbmd9XG5cdCAgICpcblx0ICAgKiBAcHVibGljXG5cdCAgICovXG5cdFxuXHRcblx0ICBfY3JlYXRlQ2xhc3MoTWV0aG9kQ2FsbCwgW3tcblx0ICAgIGtleTogJ25hbWUnLFxuXHQgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICAgIGZ1bmN0aW9uIF9yZWYoX2lkKSB7XG5cdCAgICAgICAgaWYgKCEodHlwZW9mIF9pZCA9PT0gJ3N0cmluZycpKSB7XG5cdCAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGdW5jdGlvbiByZXR1cm4gdmFsdWUgdmlvbGF0ZXMgY29udHJhY3QuXFxuXFxuRXhwZWN0ZWQ6XFxuc3RyaW5nXFxuXFxuR290OlxcbicgKyBfaW5zcGVjdChfaWQpKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHJldHVybiBfaWQ7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHJldHVybiBfcmVmKHRoaXMuX25hbWUpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogR2V0cyBhcmdzXG5cdCAgICAgKlxuXHQgICAgICogQHJldHVybnMge0luamVjdGFibGVBcmd1bWVudHN9XG5cdCAgICAgKlxuXHQgICAgICogQHB1YmxpY1xuXHQgICAgICovXG5cdFxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2FyZ3MnLFxuXHQgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICAgIGZ1bmN0aW9uIF9yZWYyKF9pZDIpIHtcblx0ICAgICAgICBpZiAoIUluamVjdGFibGVBcmd1bWVudHMoX2lkMikpIHtcblx0ICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Z1bmN0aW9uIHJldHVybiB2YWx1ZSB2aW9sYXRlcyBjb250cmFjdC5cXG5cXG5FeHBlY3RlZDpcXG5JbmplY3RhYmxlQXJndW1lbnRzXFxuXFxuR290OlxcbicgKyBfaW5zcGVjdChfaWQyKSk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXR1cm4gX2lkMjtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmV0dXJuIF9yZWYyKHRoaXMuX2FyZ3MpO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0XG5cdCAgcmV0dXJuIE1ldGhvZENhbGw7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IE1ldGhvZENhbGw7XG5cdFxuXHRmdW5jdGlvbiBfaW5zcGVjdChpbnB1dCwgZGVwdGgpIHtcblx0ICB2YXIgbWF4RGVwdGggPSA0O1xuXHQgIHZhciBtYXhLZXlzID0gMTU7XG5cblx0ICBpZiAoZGVwdGggPT09IHVuZGVmaW5lZCkge1xuXHQgICAgZGVwdGggPSAwO1xuXHQgIH1cblxuXHQgIGRlcHRoICs9IDE7XG5cblx0ICBpZiAoaW5wdXQgPT09IG51bGwpIHtcblx0ICAgIHJldHVybiAnbnVsbCc7XG5cdCAgfSBlbHNlIGlmIChpbnB1dCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICByZXR1cm4gJ3ZvaWQnO1xuXHQgIH0gZWxzZSBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgaW5wdXQgPT09ICdudW1iZXInIHx8IHR5cGVvZiBpbnB1dCA9PT0gJ2Jvb2xlYW4nKSB7XG5cdCAgICByZXR1cm4gdHlwZW9mIGlucHV0ID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihpbnB1dCk7XG5cdCAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGlucHV0KSkge1xuXHQgICAgaWYgKGlucHV0Lmxlbmd0aCA+IDApIHtcblx0ICAgICAgdmFyIF9yZXQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgaWYgKGRlcHRoID4gbWF4RGVwdGgpIHJldHVybiB7XG5cdCAgICAgICAgICAgIHY6ICdbLi4uXSdcblx0ICAgICAgICAgIH07XG5cblx0ICAgICAgICB2YXIgZmlyc3QgPSBfaW5zcGVjdChpbnB1dFswXSwgZGVwdGgpO1xuXG5cdCAgICAgICAgaWYgKGlucHV0LmV2ZXJ5KGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICAgICAgICByZXR1cm4gX2luc3BlY3QoaXRlbSwgZGVwdGgpID09PSBmaXJzdDtcblx0ICAgICAgICB9KSkge1xuXHQgICAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgICAgdjogZmlyc3QudHJpbSgpICsgJ1tdJ1xuXHQgICAgICAgICAgfTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgICAgdjogJ1snICsgaW5wdXQuc2xpY2UoMCwgbWF4S2V5cykubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICAgICAgICAgICAgcmV0dXJuIF9pbnNwZWN0KGl0ZW0sIGRlcHRoKTtcblx0ICAgICAgICAgICAgfSkuam9pbignLCAnKSArIChpbnB1dC5sZW5ndGggPj0gbWF4S2V5cyA/ICcsIC4uLicgOiAnJykgKyAnXSdcblx0ICAgICAgICAgIH07XG5cdCAgICAgICAgfVxuXHQgICAgICB9KCk7XG5cblx0ICAgICAgaWYgKCh0eXBlb2YgX3JldCA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YoX3JldCkpID09PSBcIm9iamVjdFwiKSByZXR1cm4gX3JldC52O1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuICdBcnJheSc7XG5cdCAgICB9XG5cdCAgfSBlbHNlIHtcblx0ICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoaW5wdXQpO1xuXG5cdCAgICBpZiAoIWtleXMubGVuZ3RoKSB7XG5cdCAgICAgIGlmIChpbnB1dC5jb25zdHJ1Y3RvciAmJiBpbnB1dC5jb25zdHJ1Y3Rvci5uYW1lICYmIGlucHV0LmNvbnN0cnVjdG9yLm5hbWUgIT09ICdPYmplY3QnKSB7XG5cdCAgICAgICAgcmV0dXJuIGlucHV0LmNvbnN0cnVjdG9yLm5hbWU7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuICdPYmplY3QnO1xuXHQgICAgICB9XG5cdCAgICB9XG5cblx0ICAgIGlmIChkZXB0aCA+IG1heERlcHRoKSByZXR1cm4gJ3suLi59Jztcblx0ICAgIHZhciBpbmRlbnQgPSAnICAnLnJlcGVhdChkZXB0aCAtIDEpO1xuXHQgICAgdmFyIGVudHJpZXMgPSBrZXlzLnNsaWNlKDAsIG1heEtleXMpLm1hcChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICAgIHJldHVybiAoL14oW0EtWl8kXVtBLVowLTlfJF0qKSQvaS50ZXN0KGtleSkgPyBrZXkgOiBKU09OLnN0cmluZ2lmeShrZXkpKSArICc6ICcgKyBfaW5zcGVjdChpbnB1dFtrZXldLCBkZXB0aCkgKyAnOyc7XG5cdCAgICB9KS5qb2luKCdcXG4gICcgKyBpbmRlbnQpO1xuXG5cdCAgICBpZiAoa2V5cy5sZW5ndGggPj0gbWF4S2V5cykge1xuXHQgICAgICBlbnRyaWVzICs9ICdcXG4gICcgKyBpbmRlbnQgKyAnLi4uJztcblx0ICAgIH1cblxuXHQgICAgaWYgKGlucHV0LmNvbnN0cnVjdG9yICYmIGlucHV0LmNvbnN0cnVjdG9yLm5hbWUgJiYgaW5wdXQuY29uc3RydWN0b3IubmFtZSAhPT0gJ09iamVjdCcpIHtcblx0ICAgICAgcmV0dXJuIGlucHV0LmNvbnN0cnVjdG9yLm5hbWUgKyAnIHtcXG4gICcgKyBpbmRlbnQgKyBlbnRyaWVzICsgJ1xcbicgKyBpbmRlbnQgKyAnfSc7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gJ3tcXG4gICcgKyBpbmRlbnQgKyBlbnRyaWVzICsgJ1xcbicgKyBpbmRlbnQgKyAnfSc7XG5cdCAgICB9XG5cdCAgfVxuXHR9XG5cbi8qKiovIH0sXG4vKiA0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5JbmplY3RhYmxlQXJndW1lbnRzID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9yZWZlcmVuY2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF9yZWZlcmVuY2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVmZXJlbmNlKTtcblx0XG5cdHZhciBfcGFyYW1ldGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0XG5cdHZhciBfcGFyYW1ldGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BhcmFtZXRlcik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIEluamVjdGFibGVBcmd1bWVudHMgPSBleHBvcnRzLkluamVjdGFibGVBcmd1bWVudHMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgZnVuY3Rpb24gSW5qZWN0YWJsZUFyZ3VtZW50cyhpbnB1dCkge1xuXHQgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoaW5wdXQpICYmIGlucHV0LmV2ZXJ5KGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICAgIHJldHVybiBpdGVtIGluc3RhbmNlb2YgX3JlZmVyZW5jZTIuZGVmYXVsdCB8fCBpdGVtIGluc3RhbmNlb2YgX3BhcmFtZXRlcjIuZGVmYXVsdDtcblx0ICAgIH0pO1xuXHQgIH1cblx0XG5cdCAgO1xuXHQgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbmplY3RhYmxlQXJndW1lbnRzLCBTeW1ib2wuaGFzSW5zdGFuY2UsIHtcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZShpbnB1dCkge1xuXHQgICAgICByZXR1cm4gSW5qZWN0YWJsZUFyZ3VtZW50cyhpbnB1dCk7XG5cdCAgICB9XG5cdCAgfSk7XG5cdCAgcmV0dXJuIEluamVjdGFibGVBcmd1bWVudHM7XG5cdH0oKTtcblxuLyoqKi8gfSxcbi8qIDUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdC8qKlxuXHQgKiBAYXV0aG9yIEJlbmphbWluIE1pY2hhbHNraSA8YmVuamFtaW4ubWljaGFsc2tpQGdtYWlsLmNvbT5cblx0ICpcblx0ICogQHB1YmxpY1xuXHQgKi9cblx0dmFyIFJlZmVyZW5jZSA9IGZ1bmN0aW9uICgpIHtcblx0XG5cdCAgLyoqXG5cdCAgICogQ29uc3RydWN0b3Jcblx0ICAgKiBcblx0ICAgKiBAcGFyYW0ge3N0cmluZ30gaWRcblx0ICAgKlxuXHQgICAqIEBwdWJsaWNcblx0ICAgKi9cblx0ICBmdW5jdGlvbiBSZWZlcmVuY2UoaWQpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSZWZlcmVuY2UpO1xuXHRcblx0ICAgIGlmICghKHR5cGVvZiBpZCA9PT0gJ3N0cmluZycpKSB7XG5cdCAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJWYWx1ZSBvZiBhcmd1bWVudCBcXFwiaWRcXFwiIHZpb2xhdGVzIGNvbnRyYWN0LlxcblxcbkV4cGVjdGVkOlxcbnN0cmluZ1xcblxcbkdvdDpcXG5cIiArIF9pbnNwZWN0KGlkKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgdGhpcy5faWQgPSBpZDtcblx0ICB9XG5cdFxuXHQgIC8qKlxuXHQgICAqIEdldHMgaWRcblx0ICAgKlxuXHQgICAqIEByZXR1cm5zIHtzdHJpbmd9XG5cdCAgICpcblx0ICAgKiBAcHVibGljXG5cdCAgICovXG5cdFxuXHRcblx0ICBfY3JlYXRlQ2xhc3MoUmVmZXJlbmNlLCBbe1xuXHQgICAga2V5OiBcImlkXCIsXG5cdCAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgZnVuY3Rpb24gX3JlZihfaWQpIHtcblx0ICAgICAgICBpZiAoISh0eXBlb2YgX2lkID09PSAnc3RyaW5nJykpIHtcblx0ICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGdW5jdGlvbiByZXR1cm4gdmFsdWUgdmlvbGF0ZXMgY29udHJhY3QuXFxuXFxuRXhwZWN0ZWQ6XFxuc3RyaW5nXFxuXFxuR290OlxcblwiICsgX2luc3BlY3QoX2lkKSk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXR1cm4gX2lkO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICByZXR1cm4gX3JlZih0aGlzLl9pZCk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHRcblx0ICByZXR1cm4gUmVmZXJlbmNlO1xuXHR9KCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBSZWZlcmVuY2U7XG5cdFxuXHRmdW5jdGlvbiBfaW5zcGVjdChpbnB1dCwgZGVwdGgpIHtcblx0ICB2YXIgbWF4RGVwdGggPSA0O1xuXHQgIHZhciBtYXhLZXlzID0gMTU7XG5cblx0ICBpZiAoZGVwdGggPT09IHVuZGVmaW5lZCkge1xuXHQgICAgZGVwdGggPSAwO1xuXHQgIH1cblxuXHQgIGRlcHRoICs9IDE7XG5cblx0ICBpZiAoaW5wdXQgPT09IG51bGwpIHtcblx0ICAgIHJldHVybiAnbnVsbCc7XG5cdCAgfSBlbHNlIGlmIChpbnB1dCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICByZXR1cm4gJ3ZvaWQnO1xuXHQgIH0gZWxzZSBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgaW5wdXQgPT09ICdudW1iZXInIHx8IHR5cGVvZiBpbnB1dCA9PT0gJ2Jvb2xlYW4nKSB7XG5cdCAgICByZXR1cm4gdHlwZW9mIGlucHV0ID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YoaW5wdXQpO1xuXHQgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShpbnB1dCkpIHtcblx0ICAgIGlmIChpbnB1dC5sZW5ndGggPiAwKSB7XG5cdCAgICAgIHZhciBfcmV0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIGlmIChkZXB0aCA+IG1heERlcHRoKSByZXR1cm4ge1xuXHQgICAgICAgICAgICB2OiAnWy4uLl0nXG5cdCAgICAgICAgICB9O1xuXG5cdCAgICAgICAgdmFyIGZpcnN0ID0gX2luc3BlY3QoaW5wdXRbMF0sIGRlcHRoKTtcblxuXHQgICAgICAgIGlmIChpbnB1dC5ldmVyeShmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgICAgICAgcmV0dXJuIF9pbnNwZWN0KGl0ZW0sIGRlcHRoKSA9PT0gZmlyc3Q7XG5cdCAgICAgICAgfSkpIHtcblx0ICAgICAgICAgIHJldHVybiB7XG5cdCAgICAgICAgICAgIHY6IGZpcnN0LnRyaW0oKSArICdbXSdcblx0ICAgICAgICAgIH07XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHJldHVybiB7XG5cdCAgICAgICAgICAgIHY6ICdbJyArIGlucHV0LnNsaWNlKDAsIG1heEtleXMpLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgICAgICAgICAgIHJldHVybiBfaW5zcGVjdChpdGVtLCBkZXB0aCk7XG5cdCAgICAgICAgICAgIH0pLmpvaW4oJywgJykgKyAoaW5wdXQubGVuZ3RoID49IG1heEtleXMgPyAnLCAuLi4nIDogJycpICsgJ10nXG5cdCAgICAgICAgICB9O1xuXHQgICAgICAgIH1cblx0ICAgICAgfSgpO1xuXG5cdCAgICAgIGlmICgodHlwZW9mIF9yZXQgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihfcmV0KSkgPT09IFwib2JqZWN0XCIpIHJldHVybiBfcmV0LnY7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gJ0FycmF5Jztcblx0ICAgIH1cblx0ICB9IGVsc2Uge1xuXHQgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhpbnB1dCk7XG5cblx0ICAgIGlmICgha2V5cy5sZW5ndGgpIHtcblx0ICAgICAgaWYgKGlucHV0LmNvbnN0cnVjdG9yICYmIGlucHV0LmNvbnN0cnVjdG9yLm5hbWUgJiYgaW5wdXQuY29uc3RydWN0b3IubmFtZSAhPT0gJ09iamVjdCcpIHtcblx0ICAgICAgICByZXR1cm4gaW5wdXQuY29uc3RydWN0b3IubmFtZTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gJ09iamVjdCc7XG5cdCAgICAgIH1cblx0ICAgIH1cblxuXHQgICAgaWYgKGRlcHRoID4gbWF4RGVwdGgpIHJldHVybiAney4uLn0nO1xuXHQgICAgdmFyIGluZGVudCA9ICcgICcucmVwZWF0KGRlcHRoIC0gMSk7XG5cdCAgICB2YXIgZW50cmllcyA9IGtleXMuc2xpY2UoMCwgbWF4S2V5cykubWFwKGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgICAgcmV0dXJuICgvXihbQS1aXyRdW0EtWjAtOV8kXSopJC9pLnRlc3Qoa2V5KSA/IGtleSA6IEpTT04uc3RyaW5naWZ5KGtleSkpICsgJzogJyArIF9pbnNwZWN0KGlucHV0W2tleV0sIGRlcHRoKSArICc7Jztcblx0ICAgIH0pLmpvaW4oJ1xcbiAgJyArIGluZGVudCk7XG5cblx0ICAgIGlmIChrZXlzLmxlbmd0aCA+PSBtYXhLZXlzKSB7XG5cdCAgICAgIGVudHJpZXMgKz0gJ1xcbiAgJyArIGluZGVudCArICcuLi4nO1xuXHQgICAgfVxuXG5cdCAgICBpZiAoaW5wdXQuY29uc3RydWN0b3IgJiYgaW5wdXQuY29uc3RydWN0b3IubmFtZSAmJiBpbnB1dC5jb25zdHJ1Y3Rvci5uYW1lICE9PSAnT2JqZWN0Jykge1xuXHQgICAgICByZXR1cm4gaW5wdXQuY29uc3RydWN0b3IubmFtZSArICcge1xcbiAgJyArIGluZGVudCArIGVudHJpZXMgKyAnXFxuJyArIGluZGVudCArICd9Jztcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiAne1xcbiAgJyArIGluZGVudCArIGVudHJpZXMgKyAnXFxuJyArIGluZGVudCArICd9Jztcblx0ICAgIH1cblx0ICB9XG5cdH1cblxuLyoqKi8gfSxcbi8qIDYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdC8qKlxuXHQgKiBAYXV0aG9yIEJlbmphbWluIE1pY2hhbHNraSA8YmVuamFtaW4ubWljaGFsc2tpQGdtYWlsLmNvbT5cblx0ICpcblx0ICogQHB1YmxpY1xuXHQgKi9cblx0dmFyIFBhcmFtZXRlciA9IGZ1bmN0aW9uICgpIHtcblx0XG5cdCAgLyoqXG5cdCAgICogQ29uc3RydWN0b3Jcblx0ICAgKlxuXHQgICAqIEBwYXJhbSB7c3RyaW5nfSBpZFxuXHQgICAqXG5cdCAgICogQHB1YmxpY1xuXHQgICAqL1xuXHQgIGZ1bmN0aW9uIFBhcmFtZXRlcihpZCkge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBhcmFtZXRlcik7XG5cdFxuXHQgICAgaWYgKCEodHlwZW9mIGlkID09PSAnc3RyaW5nJykpIHtcblx0ICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlZhbHVlIG9mIGFyZ3VtZW50IFxcXCJpZFxcXCIgdmlvbGF0ZXMgY29udHJhY3QuXFxuXFxuRXhwZWN0ZWQ6XFxuc3RyaW5nXFxuXFxuR290OlxcblwiICsgX2luc3BlY3QoaWQpKTtcblx0ICAgIH1cblx0XG5cdCAgICB0aGlzLl9pZCA9IGlkO1xuXHQgIH1cblx0XG5cdCAgLyoqXG5cdCAgICogR2V0cyBpZFxuXHQgICAqXG5cdCAgICogQHJldHVybnMge3N0cmluZ31cblx0ICAgKlxuXHQgICAqIEBwdWJsaWNcblx0ICAgKi9cblx0XG5cdFxuXHQgIF9jcmVhdGVDbGFzcyhQYXJhbWV0ZXIsIFt7XG5cdCAgICBrZXk6IFwiaWRcIixcblx0ICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICBmdW5jdGlvbiBfcmVmKF9pZCkge1xuXHQgICAgICAgIGlmICghKHR5cGVvZiBfaWQgPT09ICdzdHJpbmcnKSkge1xuXHQgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZ1bmN0aW9uIHJldHVybiB2YWx1ZSB2aW9sYXRlcyBjb250cmFjdC5cXG5cXG5FeHBlY3RlZDpcXG5zdHJpbmdcXG5cXG5Hb3Q6XFxuXCIgKyBfaW5zcGVjdChfaWQpKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHJldHVybiBfaWQ7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHJldHVybiBfcmVmKHRoaXMuX2lkKTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdFxuXHQgIHJldHVybiBQYXJhbWV0ZXI7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFBhcmFtZXRlcjtcblx0XG5cdGZ1bmN0aW9uIF9pbnNwZWN0KGlucHV0LCBkZXB0aCkge1xuXHQgIHZhciBtYXhEZXB0aCA9IDQ7XG5cdCAgdmFyIG1heEtleXMgPSAxNTtcblxuXHQgIGlmIChkZXB0aCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICBkZXB0aCA9IDA7XG5cdCAgfVxuXG5cdCAgZGVwdGggKz0gMTtcblxuXHQgIGlmIChpbnB1dCA9PT0gbnVsbCkge1xuXHQgICAgcmV0dXJuICdudWxsJztcblx0ICB9IGVsc2UgaWYgKGlucHV0ID09PSB1bmRlZmluZWQpIHtcblx0ICAgIHJldHVybiAndm9pZCc7XG5cdCAgfSBlbHNlIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBpbnB1dCA9PT0gJ251bWJlcicgfHwgdHlwZW9mIGlucHV0ID09PSAnYm9vbGVhbicpIHtcblx0ICAgIHJldHVybiB0eXBlb2YgaW5wdXQgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihpbnB1dCk7XG5cdCAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGlucHV0KSkge1xuXHQgICAgaWYgKGlucHV0Lmxlbmd0aCA+IDApIHtcblx0ICAgICAgdmFyIF9yZXQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgaWYgKGRlcHRoID4gbWF4RGVwdGgpIHJldHVybiB7XG5cdCAgICAgICAgICAgIHY6ICdbLi4uXSdcblx0ICAgICAgICAgIH07XG5cblx0ICAgICAgICB2YXIgZmlyc3QgPSBfaW5zcGVjdChpbnB1dFswXSwgZGVwdGgpO1xuXG5cdCAgICAgICAgaWYgKGlucHV0LmV2ZXJ5KGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICAgICAgICByZXR1cm4gX2luc3BlY3QoaXRlbSwgZGVwdGgpID09PSBmaXJzdDtcblx0ICAgICAgICB9KSkge1xuXHQgICAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgICAgdjogZmlyc3QudHJpbSgpICsgJ1tdJ1xuXHQgICAgICAgICAgfTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgICAgdjogJ1snICsgaW5wdXQuc2xpY2UoMCwgbWF4S2V5cykubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICAgICAgICAgICAgcmV0dXJuIF9pbnNwZWN0KGl0ZW0sIGRlcHRoKTtcblx0ICAgICAgICAgICAgfSkuam9pbignLCAnKSArIChpbnB1dC5sZW5ndGggPj0gbWF4S2V5cyA/ICcsIC4uLicgOiAnJykgKyAnXSdcblx0ICAgICAgICAgIH07XG5cdCAgICAgICAgfVxuXHQgICAgICB9KCk7XG5cblx0ICAgICAgaWYgKCh0eXBlb2YgX3JldCA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKF9yZXQpKSA9PT0gXCJvYmplY3RcIikgcmV0dXJuIF9yZXQudjtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiAnQXJyYXknO1xuXHQgICAgfVxuXHQgIH0gZWxzZSB7XG5cdCAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGlucHV0KTtcblxuXHQgICAgaWYgKCFrZXlzLmxlbmd0aCkge1xuXHQgICAgICBpZiAoaW5wdXQuY29uc3RydWN0b3IgJiYgaW5wdXQuY29uc3RydWN0b3IubmFtZSAmJiBpbnB1dC5jb25zdHJ1Y3Rvci5uYW1lICE9PSAnT2JqZWN0Jykge1xuXHQgICAgICAgIHJldHVybiBpbnB1dC5jb25zdHJ1Y3Rvci5uYW1lO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiAnT2JqZWN0Jztcblx0ICAgICAgfVxuXHQgICAgfVxuXG5cdCAgICBpZiAoZGVwdGggPiBtYXhEZXB0aCkgcmV0dXJuICd7Li4ufSc7XG5cdCAgICB2YXIgaW5kZW50ID0gJyAgJy5yZXBlYXQoZGVwdGggLSAxKTtcblx0ICAgIHZhciBlbnRyaWVzID0ga2V5cy5zbGljZSgwLCBtYXhLZXlzKS5tYXAoZnVuY3Rpb24gKGtleSkge1xuXHQgICAgICByZXR1cm4gKC9eKFtBLVpfJF1bQS1aMC05XyRdKikkL2kudGVzdChrZXkpID8ga2V5IDogSlNPTi5zdHJpbmdpZnkoa2V5KSkgKyAnOiAnICsgX2luc3BlY3QoaW5wdXRba2V5XSwgZGVwdGgpICsgJzsnO1xuXHQgICAgfSkuam9pbignXFxuICAnICsgaW5kZW50KTtcblxuXHQgICAgaWYgKGtleXMubGVuZ3RoID49IG1heEtleXMpIHtcblx0ICAgICAgZW50cmllcyArPSAnXFxuICAnICsgaW5kZW50ICsgJy4uLic7XG5cdCAgICB9XG5cblx0ICAgIGlmIChpbnB1dC5jb25zdHJ1Y3RvciAmJiBpbnB1dC5jb25zdHJ1Y3Rvci5uYW1lICYmIGlucHV0LmNvbnN0cnVjdG9yLm5hbWUgIT09ICdPYmplY3QnKSB7XG5cdCAgICAgIHJldHVybiBpbnB1dC5jb25zdHJ1Y3Rvci5uYW1lICsgJyB7XFxuICAnICsgaW5kZW50ICsgZW50cmllcyArICdcXG4nICsgaW5kZW50ICsgJ30nO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuICd7XFxuICAnICsgaW5kZW50ICsgZW50cmllcyArICdcXG4nICsgaW5kZW50ICsgJ30nO1xuXHQgICAgfVxuXHQgIH1cblx0fVxuXG4vKioqLyB9LFxuLyogNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0dmFyIF9kZWZpbml0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfZGVmaW5pdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbml0aW9uKTtcblx0XG5cdHZhciBfaW5qZWN0YWJsZUFyZ3VtZW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cdFxuXHR2YXIgSW5qZWN0YWJsZUFyZ3VtZW50cyA9IF9pbmplY3RhYmxlQXJndW1lbnRzLkluamVjdGFibGVBcmd1bWVudHM7XG5cdFxuXHQvKipcblx0ICogQGF1dGhvciBCZW5qYW1pbiBNaWNoYWxza2kgPGJlbmphbWluLm1pY2hhbHNraUBnbWFpbC5jb20+XG5cdCAqXG5cdCAqIEBwdWJsaWNcblx0ICovXG5cdFxuXHR2YXIgQ2xhc3NDb25zdHJ1Y3RvckRlZmluaXRpb24gPSBmdW5jdGlvbiAoX0RlZmluaXRpb24pIHtcblx0ICBfaW5oZXJpdHMoQ2xhc3NDb25zdHJ1Y3RvckRlZmluaXRpb24sIF9EZWZpbml0aW9uKTtcblx0XG5cdCAgLyoqXG5cdCAgICogQ29uc3RydWN0b3Jcblx0ICAgKlxuXHQgICAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc0NvbnN0cnVjdG9ySWRlbnRpZmllclxuXHQgICAqIEBwYXJhbSB7P0luamVjdGFibGVBcmd1bWVudHN9IFthcmdzPVtdXVxuXHQgICAqL1xuXHQgIGZ1bmN0aW9uIENsYXNzQ29uc3RydWN0b3JEZWZpbml0aW9uKGNsYXNzQ29uc3RydWN0b3JJZGVudGlmaWVyKSB7XG5cdCAgICB2YXIgYXJncyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogW107XG5cdFxuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENsYXNzQ29uc3RydWN0b3JEZWZpbml0aW9uKTtcblx0XG5cdCAgICBpZiAoISh0eXBlb2YgY2xhc3NDb25zdHJ1Y3RvcklkZW50aWZpZXIgPT09ICdzdHJpbmcnKSkge1xuXHQgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdWYWx1ZSBvZiBhcmd1bWVudCBcImNsYXNzQ29uc3RydWN0b3JJZGVudGlmaWVyXCIgdmlvbGF0ZXMgY29udHJhY3QuXFxuXFxuRXhwZWN0ZWQ6XFxuc3RyaW5nXFxuXFxuR290OlxcbicgKyBfaW5zcGVjdChjbGFzc0NvbnN0cnVjdG9ySWRlbnRpZmllcikpO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmICghKGFyZ3MgPT0gbnVsbCB8fCBJbmplY3RhYmxlQXJndW1lbnRzKGFyZ3MpKSkge1xuXHQgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdWYWx1ZSBvZiBhcmd1bWVudCBcImFyZ3NcIiB2aW9sYXRlcyBjb250cmFjdC5cXG5cXG5FeHBlY3RlZDpcXG4/SW5qZWN0YWJsZUFyZ3VtZW50c1xcblxcbkdvdDpcXG4nICsgX2luc3BlY3QoYXJncykpO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChDbGFzc0NvbnN0cnVjdG9yRGVmaW5pdGlvbi5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKENsYXNzQ29uc3RydWN0b3JEZWZpbml0aW9uKSkuY2FsbCh0aGlzLCBhcmdzKSk7XG5cdFxuXHQgICAgX3RoaXMuX2NsYXNzQ29uc3RydWN0b3JJZGVudGlmaWVyID0gY2xhc3NDb25zdHJ1Y3RvcklkZW50aWZpZXI7XG5cdCAgICByZXR1cm4gX3RoaXM7XG5cdCAgfVxuXHRcblx0ICAvKipcblx0ICAgKiBHZXRzIGNsYXNzQ29uc3RydWN0b3JJZGVudGlmaWVyXG5cdCAgICpcblx0ICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuXHQgICAqL1xuXHRcblx0XG5cdCAgX2NyZWF0ZUNsYXNzKENsYXNzQ29uc3RydWN0b3JEZWZpbml0aW9uLCBbe1xuXHQgICAga2V5OiAnY2xhc3NDb25zdHJ1Y3RvcklkZW50aWZpZXInLFxuXHQgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICAgIGZ1bmN0aW9uIF9yZWYoX2lkKSB7XG5cdCAgICAgICAgaWYgKCEodHlwZW9mIF9pZCA9PT0gJ3N0cmluZycpKSB7XG5cdCAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGdW5jdGlvbiByZXR1cm4gdmFsdWUgdmlvbGF0ZXMgY29udHJhY3QuXFxuXFxuRXhwZWN0ZWQ6XFxuc3RyaW5nXFxuXFxuR290OlxcbicgKyBfaW5zcGVjdChfaWQpKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHJldHVybiBfaWQ7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHJldHVybiBfcmVmKHRoaXMuX2NsYXNzQ29uc3RydWN0b3JJZGVudGlmaWVyKTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdFxuXHQgIHJldHVybiBDbGFzc0NvbnN0cnVjdG9yRGVmaW5pdGlvbjtcblx0fShfZGVmaW5pdGlvbjIuZGVmYXVsdCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBDbGFzc0NvbnN0cnVjdG9yRGVmaW5pdGlvbjtcblx0XG5cdGZ1bmN0aW9uIF9pbnNwZWN0KGlucHV0LCBkZXB0aCkge1xuXHQgIHZhciBtYXhEZXB0aCA9IDQ7XG5cdCAgdmFyIG1heEtleXMgPSAxNTtcblxuXHQgIGlmIChkZXB0aCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICBkZXB0aCA9IDA7XG5cdCAgfVxuXG5cdCAgZGVwdGggKz0gMTtcblxuXHQgIGlmIChpbnB1dCA9PT0gbnVsbCkge1xuXHQgICAgcmV0dXJuICdudWxsJztcblx0ICB9IGVsc2UgaWYgKGlucHV0ID09PSB1bmRlZmluZWQpIHtcblx0ICAgIHJldHVybiAndm9pZCc7XG5cdCAgfSBlbHNlIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBpbnB1dCA9PT0gJ251bWJlcicgfHwgdHlwZW9mIGlucHV0ID09PSAnYm9vbGVhbicpIHtcblx0ICAgIHJldHVybiB0eXBlb2YgaW5wdXQgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKGlucHV0KTtcblx0ICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoaW5wdXQpKSB7XG5cdCAgICBpZiAoaW5wdXQubGVuZ3RoID4gMCkge1xuXHQgICAgICB2YXIgX3JldCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBpZiAoZGVwdGggPiBtYXhEZXB0aCkgcmV0dXJuIHtcblx0ICAgICAgICAgICAgdjogJ1suLi5dJ1xuXHQgICAgICAgICAgfTtcblxuXHQgICAgICAgIHZhciBmaXJzdCA9IF9pbnNwZWN0KGlucHV0WzBdLCBkZXB0aCk7XG5cblx0ICAgICAgICBpZiAoaW5wdXQuZXZlcnkoZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgICAgICAgIHJldHVybiBfaW5zcGVjdChpdGVtLCBkZXB0aCkgPT09IGZpcnN0O1xuXHQgICAgICAgIH0pKSB7XG5cdCAgICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgICB2OiBmaXJzdC50cmltKCkgKyAnW10nXG5cdCAgICAgICAgICB9O1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgICB2OiAnWycgKyBpbnB1dC5zbGljZSgwLCBtYXhLZXlzKS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgICAgICAgICAgICByZXR1cm4gX2luc3BlY3QoaXRlbSwgZGVwdGgpO1xuXHQgICAgICAgICAgICB9KS5qb2luKCcsICcpICsgKGlucHV0Lmxlbmd0aCA+PSBtYXhLZXlzID8gJywgLi4uJyA6ICcnKSArICddJ1xuXHQgICAgICAgICAgfTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0oKTtcblxuXHQgICAgICBpZiAoKHR5cGVvZiBfcmV0ID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihfcmV0KSkgPT09IFwib2JqZWN0XCIpIHJldHVybiBfcmV0LnY7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gJ0FycmF5Jztcblx0ICAgIH1cblx0ICB9IGVsc2Uge1xuXHQgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhpbnB1dCk7XG5cblx0ICAgIGlmICgha2V5cy5sZW5ndGgpIHtcblx0ICAgICAgaWYgKGlucHV0LmNvbnN0cnVjdG9yICYmIGlucHV0LmNvbnN0cnVjdG9yLm5hbWUgJiYgaW5wdXQuY29uc3RydWN0b3IubmFtZSAhPT0gJ09iamVjdCcpIHtcblx0ICAgICAgICByZXR1cm4gaW5wdXQuY29uc3RydWN0b3IubmFtZTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gJ09iamVjdCc7XG5cdCAgICAgIH1cblx0ICAgIH1cblxuXHQgICAgaWYgKGRlcHRoID4gbWF4RGVwdGgpIHJldHVybiAney4uLn0nO1xuXHQgICAgdmFyIGluZGVudCA9ICcgICcucmVwZWF0KGRlcHRoIC0gMSk7XG5cdCAgICB2YXIgZW50cmllcyA9IGtleXMuc2xpY2UoMCwgbWF4S2V5cykubWFwKGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgICAgcmV0dXJuICgvXihbQS1aXyRdW0EtWjAtOV8kXSopJC9pLnRlc3Qoa2V5KSA/IGtleSA6IEpTT04uc3RyaW5naWZ5KGtleSkpICsgJzogJyArIF9pbnNwZWN0KGlucHV0W2tleV0sIGRlcHRoKSArICc7Jztcblx0ICAgIH0pLmpvaW4oJ1xcbiAgJyArIGluZGVudCk7XG5cblx0ICAgIGlmIChrZXlzLmxlbmd0aCA+PSBtYXhLZXlzKSB7XG5cdCAgICAgIGVudHJpZXMgKz0gJ1xcbiAgJyArIGluZGVudCArICcuLi4nO1xuXHQgICAgfVxuXG5cdCAgICBpZiAoaW5wdXQuY29uc3RydWN0b3IgJiYgaW5wdXQuY29uc3RydWN0b3IubmFtZSAmJiBpbnB1dC5jb25zdHJ1Y3Rvci5uYW1lICE9PSAnT2JqZWN0Jykge1xuXHQgICAgICByZXR1cm4gaW5wdXQuY29uc3RydWN0b3IubmFtZSArICcge1xcbiAgJyArIGluZGVudCArIGVudHJpZXMgKyAnXFxuJyArIGluZGVudCArICd9Jztcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiAne1xcbiAgJyArIGluZGVudCArIGVudHJpZXMgKyAnXFxuJyArIGluZGVudCArICd9Jztcblx0ICAgIH1cblx0ICB9XG5cdH1cblxuLyoqKi8gfSxcbi8qIDggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblx0XG5cdHZhciBfZGVmaW5pdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX2RlZmluaXRpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5pdGlvbik7XG5cdFxuXHR2YXIgX2luamVjdGFibGVBcmd1bWVudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXHRcblx0dmFyIEluamVjdGFibGVBcmd1bWVudHMgPSBfaW5qZWN0YWJsZUFyZ3VtZW50cy5JbmplY3RhYmxlQXJndW1lbnRzO1xuXHRcblx0LyoqXG5cdCAqIEBhdXRob3IgQmVuamFtaW4gTWljaGFsc2tpIDxiZW5qYW1pbi5taWNoYWxza2lAZ21haWwuY29tPlxuXHQgKlxuXHQgKiBAcHVibGljXG5cdCAqL1xuXHRcblx0dmFyIEZhY3RvcnlEZWZpbml0aW9uID0gZnVuY3Rpb24gKF9EZWZpbml0aW9uKSB7XG5cdCAgX2luaGVyaXRzKEZhY3RvcnlEZWZpbml0aW9uLCBfRGVmaW5pdGlvbik7XG5cdFxuXHQgIC8qKlxuXHQgICAqIENvbnN0cnVjdG9yXG5cdCAgICpcblx0ICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmYWN0b3J5XG5cdCAgICogQHBhcmFtIHs/SW5qZWN0YWJsZUFyZ3VtZW50c30gW2FyZ3M9W11dXG5cdCAgICovXG5cdCAgZnVuY3Rpb24gRmFjdG9yeURlZmluaXRpb24oZmFjdG9yeSkge1xuXHQgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IFtdO1xuXHRcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBGYWN0b3J5RGVmaW5pdGlvbik7XG5cdFxuXHQgICAgaWYgKCEodHlwZW9mIGZhY3RvcnkgPT09ICdmdW5jdGlvbicpKSB7XG5cdCAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1ZhbHVlIG9mIGFyZ3VtZW50IFwiZmFjdG9yeVwiIHZpb2xhdGVzIGNvbnRyYWN0LlxcblxcbkV4cGVjdGVkOlxcbkZ1bmN0aW9uXFxuXFxuR290OlxcbicgKyBfaW5zcGVjdChmYWN0b3J5KSk7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKCEoYXJncyA9PSBudWxsIHx8IEluamVjdGFibGVBcmd1bWVudHMoYXJncykpKSB7XG5cdCAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1ZhbHVlIG9mIGFyZ3VtZW50IFwiYXJnc1wiIHZpb2xhdGVzIGNvbnRyYWN0LlxcblxcbkV4cGVjdGVkOlxcbj9JbmplY3RhYmxlQXJndW1lbnRzXFxuXFxuR290OlxcbicgKyBfaW5zcGVjdChhcmdzKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKEZhY3RvcnlEZWZpbml0aW9uLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoRmFjdG9yeURlZmluaXRpb24pKS5jYWxsKHRoaXMsIGFyZ3MpKTtcblx0XG5cdCAgICBfdGhpcy5fZmFjdG9yeSA9IGZhY3Rvcnk7XG5cdCAgICByZXR1cm4gX3RoaXM7XG5cdCAgfVxuXHRcblx0ICAvKipcblx0ICAgKiBHZXRzIGZhY3Rvcnlcblx0ICAgKlxuXHQgICAqIEByZXR1cm5zIHtGdW5jdGlvbn1cblx0ICAgKi9cblx0XG5cdFxuXHQgIF9jcmVhdGVDbGFzcyhGYWN0b3J5RGVmaW5pdGlvbiwgW3tcblx0ICAgIGtleTogJ2ZhY3RvcnknLFxuXHQgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICAgIGZ1bmN0aW9uIF9yZWYoX2lkKSB7XG5cdCAgICAgICAgaWYgKCEodHlwZW9mIF9pZCA9PT0gJ2Z1bmN0aW9uJykpIHtcblx0ICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Z1bmN0aW9uIHJldHVybiB2YWx1ZSB2aW9sYXRlcyBjb250cmFjdC5cXG5cXG5FeHBlY3RlZDpcXG5GdW5jdGlvblxcblxcbkdvdDpcXG4nICsgX2luc3BlY3QoX2lkKSk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXR1cm4gX2lkO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICByZXR1cm4gX3JlZih0aGlzLl9mYWN0b3J5KTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdFxuXHQgIHJldHVybiBGYWN0b3J5RGVmaW5pdGlvbjtcblx0fShfZGVmaW5pdGlvbjIuZGVmYXVsdCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBGYWN0b3J5RGVmaW5pdGlvbjtcblx0XG5cdGZ1bmN0aW9uIF9pbnNwZWN0KGlucHV0LCBkZXB0aCkge1xuXHQgIHZhciBtYXhEZXB0aCA9IDQ7XG5cdCAgdmFyIG1heEtleXMgPSAxNTtcblxuXHQgIGlmIChkZXB0aCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICBkZXB0aCA9IDA7XG5cdCAgfVxuXG5cdCAgZGVwdGggKz0gMTtcblxuXHQgIGlmIChpbnB1dCA9PT0gbnVsbCkge1xuXHQgICAgcmV0dXJuICdudWxsJztcblx0ICB9IGVsc2UgaWYgKGlucHV0ID09PSB1bmRlZmluZWQpIHtcblx0ICAgIHJldHVybiAndm9pZCc7XG5cdCAgfSBlbHNlIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBpbnB1dCA9PT0gJ251bWJlcicgfHwgdHlwZW9mIGlucHV0ID09PSAnYm9vbGVhbicpIHtcblx0ICAgIHJldHVybiB0eXBlb2YgaW5wdXQgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKGlucHV0KTtcblx0ICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoaW5wdXQpKSB7XG5cdCAgICBpZiAoaW5wdXQubGVuZ3RoID4gMCkge1xuXHQgICAgICB2YXIgX3JldCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBpZiAoZGVwdGggPiBtYXhEZXB0aCkgcmV0dXJuIHtcblx0ICAgICAgICAgICAgdjogJ1suLi5dJ1xuXHQgICAgICAgICAgfTtcblxuXHQgICAgICAgIHZhciBmaXJzdCA9IF9pbnNwZWN0KGlucHV0WzBdLCBkZXB0aCk7XG5cblx0ICAgICAgICBpZiAoaW5wdXQuZXZlcnkoZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgICAgICAgIHJldHVybiBfaW5zcGVjdChpdGVtLCBkZXB0aCkgPT09IGZpcnN0O1xuXHQgICAgICAgIH0pKSB7XG5cdCAgICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgICB2OiBmaXJzdC50cmltKCkgKyAnW10nXG5cdCAgICAgICAgICB9O1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgICB2OiAnWycgKyBpbnB1dC5zbGljZSgwLCBtYXhLZXlzKS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgICAgICAgICAgICByZXR1cm4gX2luc3BlY3QoaXRlbSwgZGVwdGgpO1xuXHQgICAgICAgICAgICB9KS5qb2luKCcsICcpICsgKGlucHV0Lmxlbmd0aCA+PSBtYXhLZXlzID8gJywgLi4uJyA6ICcnKSArICddJ1xuXHQgICAgICAgICAgfTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0oKTtcblxuXHQgICAgICBpZiAoKHR5cGVvZiBfcmV0ID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihfcmV0KSkgPT09IFwib2JqZWN0XCIpIHJldHVybiBfcmV0LnY7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gJ0FycmF5Jztcblx0ICAgIH1cblx0ICB9IGVsc2Uge1xuXHQgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhpbnB1dCk7XG5cblx0ICAgIGlmICgha2V5cy5sZW5ndGgpIHtcblx0ICAgICAgaWYgKGlucHV0LmNvbnN0cnVjdG9yICYmIGlucHV0LmNvbnN0cnVjdG9yLm5hbWUgJiYgaW5wdXQuY29uc3RydWN0b3IubmFtZSAhPT0gJ09iamVjdCcpIHtcblx0ICAgICAgICByZXR1cm4gaW5wdXQuY29uc3RydWN0b3IubmFtZTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gJ09iamVjdCc7XG5cdCAgICAgIH1cblx0ICAgIH1cblxuXHQgICAgaWYgKGRlcHRoID4gbWF4RGVwdGgpIHJldHVybiAney4uLn0nO1xuXHQgICAgdmFyIGluZGVudCA9ICcgICcucmVwZWF0KGRlcHRoIC0gMSk7XG5cdCAgICB2YXIgZW50cmllcyA9IGtleXMuc2xpY2UoMCwgbWF4S2V5cykubWFwKGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgICAgcmV0dXJuICgvXihbQS1aXyRdW0EtWjAtOV8kXSopJC9pLnRlc3Qoa2V5KSA/IGtleSA6IEpTT04uc3RyaW5naWZ5KGtleSkpICsgJzogJyArIF9pbnNwZWN0KGlucHV0W2tleV0sIGRlcHRoKSArICc7Jztcblx0ICAgIH0pLmpvaW4oJ1xcbiAgJyArIGluZGVudCk7XG5cblx0ICAgIGlmIChrZXlzLmxlbmd0aCA+PSBtYXhLZXlzKSB7XG5cdCAgICAgIGVudHJpZXMgKz0gJ1xcbiAgJyArIGluZGVudCArICcuLi4nO1xuXHQgICAgfVxuXG5cdCAgICBpZiAoaW5wdXQuY29uc3RydWN0b3IgJiYgaW5wdXQuY29uc3RydWN0b3IubmFtZSAmJiBpbnB1dC5jb25zdHJ1Y3Rvci5uYW1lICE9PSAnT2JqZWN0Jykge1xuXHQgICAgICByZXR1cm4gaW5wdXQuY29uc3RydWN0b3IubmFtZSArICcge1xcbiAgJyArIGluZGVudCArIGVudHJpZXMgKyAnXFxuJyArIGluZGVudCArICd9Jztcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiAne1xcbiAgJyArIGluZGVudCArIGVudHJpZXMgKyAnXFxuJyArIGluZGVudCArICd9Jztcblx0ICAgIH1cblx0ICB9XG5cdH1cblxuLyoqKi8gfVxuLyoqKioqKi8gXSlcbn0pO1xuO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBkaS1kZXYuanMiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcblxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0ZXhwb3J0czoge30sXG4gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuIFx0XHRcdGxvYWRlZDogZmFsc2VcbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL2Jvb3RzdHJhcCBlNjM4YjNhNzE2MWEyMmQ4ZmZiMSIsImltcG9ydCBDb250YWluZXIgZnJvbSAnLi9zcmMvY29udGFpbmVyJ1xuaW1wb3J0IENsYXNzQ29uc3RydWN0b3JEZWZpbml0aW9uIGZyb20gJy4vc3JjL2NsYXNzLWNvbnN0cnVjdG9yLWRlZmluaXRpb24nXG5pbXBvcnQgRmFjdG9yeURlZmluaXRpb24gZnJvbSAnLi9zcmMvZmFjdG9yeS1kZWZpbml0aW9uJ1xuaW1wb3J0IFJlZmVyZW5jZSBmcm9tICcuL3NyYy9yZWZlcmVuY2UnXG5pbXBvcnQgUGFyYW1ldGVyIGZyb20gJy4vc3JjL3BhcmFtZXRlcidcbmltcG9ydCBNZXRob2RDYWxsIGZyb20gJy4vc3JjL21ldGhvZC1jYWxsJ1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgQ29udGFpbmVyLFxuICBDbGFzc0NvbnN0cnVjdG9yRGVmaW5pdGlvbixcbiAgRmFjdG9yeURlZmluaXRpb24sXG4gIFJlZmVyZW5jZSxcbiAgUGFyYW1ldGVyLFxuICBNZXRob2RDYWxsXG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9pbmRleC5qcyIsImltcG9ydCBEZWZpbml0aW9uIGZyb20gJy4vZGVmaW5pdGlvbidcbmltcG9ydCBDbGFzc0NvbnN0cnVjdG9yRGVmaW5pdGlvbiBmcm9tICcuL2NsYXNzLWNvbnN0cnVjdG9yLWRlZmluaXRpb24nXG5pbXBvcnQgRmFjdG9yeURlZmluaXRpb24gZnJvbSAnLi9mYWN0b3J5LWRlZmluaXRpb24nXG5pbXBvcnQgUmVmZXJlbmNlIGZyb20gJy4vcmVmZXJlbmNlJ1xuaW1wb3J0IFBhcmFtZXRlciBmcm9tICcuL3BhcmFtZXRlcidcbmltcG9ydCBNZXRob2RDYWxsIGZyb20gJy4vbWV0aG9kLWNhbGwnXG5cbmltcG9ydCB0eXBlIHtJbmplY3RhYmxlQXJndW1lbnRzfSBmcm9tICcuL3R5cGVzL2luamVjdGFibGUtYXJndW1lbnRzJ1xudHlwZSBzY2FsYXIgPSAoc3RyaW5nfG51bWJlcnxib29sZWFufG51bGwpXG50eXBlIExvYWRpbmdPYmplY3QgPSB7XG4gIG9iajogT2JqZWN0PHN0cmluZywgYm9vbGVhbj4sXG4gIGFycjogQXJyYXk8c3RyaW5nPlxufVxudHlwZSBMb2NhdG9yQ2FsbGJhY2sgPSAoaWRlbnRpZmllcjogc3RyaW5nKSA9PiAoP0Z1bmN0aW9uKVxuXG4vKipcbiAqIEBhdXRob3IgQmVuamFtaW4gTWljaGFsc2tpIDxiZW5qYW1pbi5taWNoYWxza2lAZ21haWwuY29tPlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuY2xhc3MgQ29udGFpbmVyIHtcblxuICAvKipcbiAgICogQ29uc3RydWN0b3JcbiAgICovXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuX3NlcnZpY2VzQnlJZGVudGlmaWVyID0ge31cbiAgICB0aGlzLl9zZXJ2aWNlRGVmaW5pdGlvbnNCeUlkZW50aWZpZXIgPSB7fVxuICAgIHRoaXMuX3BhcmFtZXRlcnNCeUlkZW50aWZpZXIgPSB7fVxuICAgIHRoaXMuX3NlcnZpY2VEZWZpbml0aW9uc0FscmVhZHlVc2VkVG9JbnN0YW50aWF0ZUJ5SWRlbnRpZmllciA9IHt9XG4gICAgdGhpcy5fY2xhc3NDb25zdHJ1Y3RvckxvY2F0b3JzID0gW11cbiAgICB0aGlzLl9pbnN0YW5jZUxvY2F0b3JzID0gW11cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHNlcnZpY2UgYXNzb2NpYXRlZCB3aXRoIGlkZW50aWZpZXJcbiAgICpcbiAgICogQHBhcmFtIHsuLi5zdHJpbmd9IGlkZW50aWZpZXJzXG4gICAqXG4gICAqIEBwcm9taXNlXG4gICAqIEByZXNvbHZlIHtPYmplY3R8RnVuY3Rpb259IHNlcnZpY2UgaWRlbnRpZmllZCBieSBpZGVudGlmaWVyXG4gICAqIEByZWplY3Qge0Vycm9yfSBpbiBjYXNlIHRoZSBzZXJ2aWNlIGlzIHVuZGVmaW5lZFxuICAgKiBAcmVqZWN0IHtFcnJvcn0gaW4gY2FzZSBvZiBhIGNpcmN1bGFyIGRlcGVuZGVuY3lcbiAgICpcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgZ2V0KC4uLmlkZW50aWZpZXJzOiBBcnJheTxzdHJpbmc+KTogUHJvbWlzZTxPYmplY3R8RnVuY3Rpb24+IHtcbiAgICBjb25zdCBwcm9taXNlcyA9IFtdXG5cbiAgICBpZGVudGlmaWVycy5mb3JFYWNoKChpZGVudGlmaWVyKSA9PiB7XG4gICAgICBwcm9taXNlcy5wdXNoKFxuICAgICAgICB0aGlzLl9kb0dldFNlcnZpY2UoaWRlbnRpZmllciwgeyBvYmo6IHt9LCBhcnI6IFtdIH0pXG4gICAgICApXG4gICAgfSlcblxuICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcylcbiAgfVxuXG4gIC8qKlxuICAgKiBBc3NvY2lhdGVzIHNlcnZpY2Ugd2l0aCBpZGVudGlmaWVyXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZGVudGlmaWVyXG4gICAqIEBwYXJhbSB7T2JqZWN0fEZ1bmN0aW9ufSBpbnN0YW5jZSBzZXJ2aWNlIGluc3RhbmNlXG4gICAqXG4gICAqIEByZXR1cm5zIHtDb250YWluZXJ9IGN1cnJlbnQgQ29udGFpbmVyIGluc3RhbmNlXG4gICAqXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIHNldChpZGVudGlmaWVyOiBzdHJpbmcsIGluc3RhbmNlOiAoT2JqZWN0fEZ1bmN0aW9uKSk6IENvbnRhaW5lciB7XG4gICAgdGhpcy5fc2VydmljZXNCeUlkZW50aWZpZXJbaWRlbnRpZmllcl0gPSBpbnN0YW5jZVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgY29udGFpbmVyIGhhcyBzZXJ2aWNlLCB0aGF0IGlzIGVpdGhlciBpZjpcbiAgICogKiBpdCBoYXMgYSB7QGxpbmsgRGVmaW5pdGlvbn1cbiAgICogKiBpdCBoYXMgYmVlbiBpbnN0YW50aWF0ZWRcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkZW50aWZpZXJcbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBoYXMoaWRlbnRpZmllcjogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuaGFzRGVmaW5pdGlvbihpZGVudGlmaWVyKSB8fCB0aGlzLmhhc0luc3RhbmNlKGlkZW50aWZpZXIpXG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBzZXJ2aWNlIGhhcyBhIGRlZmluaXRpb25cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkZW50aWZpZXJcbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIGhhc0RlZmluaXRpb24oaWRlbnRpZmllcjogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZCAhPT0gdGhpcy5fc2VydmljZURlZmluaXRpb25zQnlJZGVudGlmaWVyW2lkZW50aWZpZXJdXG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBzZXJ2aWNlIGhhcyBhbiBpbnN0YW5jZSwgZWl0aGVyIGJlY2F1c2U6XG4gICAqICogaXQgaGFzIGJlZW4gaW5zdGFudGlhdGVkIHZpYSBpdHMge0BsaW5rIERlZmluaXRpb259XG4gICAqICogaXQgaGFzIGJlZW4gc2V0IGRpcmVjdGx5IHZpYSB7QGxpbmsgc2V0fSBtZXRob2RcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkZW50aWZpZXJcbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIGhhc0luc3RhbmNlKGlkZW50aWZpZXI6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB1bmRlZmluZWQgIT09IHRoaXMuX3NlcnZpY2VzQnlJZGVudGlmaWVyW2lkZW50aWZpZXJdXG4gIH1cblxuICAvKipcbiAgICogR2V0cyBzZXJ2aWNlIHtAbGluayBEZWZpbml0aW9ufSBhc3NvY2lhdGVkIHdpdGggaWRlbnRpZmllclxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWRlbnRpZmllclxuICAgKlxuICAgKiBAcmV0dXJucyB7RGVmaW5pdGlvbn1cbiAgICpcbiAgICogQHRocm93cyB7RXJyb3J9IGlmIHRoZXJlIGlzIG5vIHNlcnZpY2UgZGVmaW5pdGlvbiBmb3IgZ2l2ZW4gaWRlbnRpZmllclxuICAgKlxuICAgKiBAcHVibGljXG4gICAqL1xuICBnZXREZWZpbml0aW9uKGlkZW50aWZpZXI6IHN0cmluZyk6IERlZmluaXRpb24ge1xuICAgIGNvbnN0IGRlZmluaXRpb24gPSB0aGlzLl9zZXJ2aWNlRGVmaW5pdGlvbnNCeUlkZW50aWZpZXJbaWRlbnRpZmllcl1cblxuICAgIGlmICh1bmRlZmluZWQgPT09IGRlZmluaXRpb24pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyBzZXJ2aWNlIGRlZmluaXRpb24gZm9yIGlkZW50aWZpZXIgXCInICsgaWRlbnRpZmllciArICdcIicpXG4gICAgfVxuXG4gICAgcmV0dXJuIGRlZmluaXRpb25cbiAgfVxuXG4gIC8qKlxuICAgKiBBc3NvY2lhdGVzIHNlcnZpY2Uge0BsaW5rIERlZmluaXRpb259IHdpdGggaWRlbnRpZmllclxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWRlbnRpZmllciBzZXJ2aWNlIGlkZW50aWZpZXJcbiAgICogQHBhcmFtIHtEZWZpbml0aW9ufSBkZWZpbml0aW9uIHNlcnZpY2UgZGVmaW5pdGlvblxuICAgKlxuICAgKiBAcmV0dXJucyB7Q29udGFpbmVyfSBjdXJyZW50IENvbnRhaW5lciBpbnN0YW5jZVxuICAgKlxuICAgKiBAcHVibGljXG4gICAqL1xuICBzZXREZWZpbml0aW9uKGlkZW50aWZpZXI6IHN0cmluZywgZGVmaW5pdGlvbjogRGVmaW5pdGlvbik6IENvbnRhaW5lciB7XG4gICAgaWYgKHRoaXMuX3NlcnZpY2VEZWZpbml0aW9uc0FscmVhZHlVc2VkVG9JbnN0YW50aWF0ZUJ5SWRlbnRpZmllcltpZGVudGlmaWVyXSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnU2VydmljZSBkZWZpbml0aW9uIGZvciBcIidcbiAgICAgICAgICArIGlkZW50aWZpZXJcbiAgICAgICAgICArICdcIiBoYXMgYWxyZWFkeSBiZWVuIHVzZWQgdG8gaW5zdGFudGlhdGUgYSBzZXJ2aWNlLCByZWZ1c2luZyB0byBtb2RpZnkgaXQnXG4gICAgICApXG4gICAgfVxuXG4gICAgdGhpcy5fc2VydmljZURlZmluaXRpb25zQWxyZWFkeVVzZWRUb0luc3RhbnRpYXRlQnlJZGVudGlmaWVyW2lkZW50aWZpZXJdID0gZmFsc2VcbiAgICB0aGlzLl9zZXJ2aWNlRGVmaW5pdGlvbnNCeUlkZW50aWZpZXJbaWRlbnRpZmllcl0gPSBkZWZpbml0aW9uXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgcGFyYW1ldGVyIGFzc29jaWF0ZWQgd2l0aCBpZGVudGlmaWVyXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZGVudGlmaWVyIHBhcmFtZXRlciBpZGVudGlmaWVyXG4gICAqXG4gICAqIEByZXR1cm5zIHtzY2FsYXJ9IHBhcmFtZXRlciB2YWx1ZVxuICAgKlxuICAgKiBAcHVibGljXG4gICAqL1xuICBnZXRQYXJhbWV0ZXIoaWRlbnRpZmllcjogc3RyaW5nKTogc2NhbGFyIHtcbiAgICBpZiAodW5kZWZpbmVkID09PSB0aGlzLl9wYXJhbWV0ZXJzQnlJZGVudGlmaWVyW2lkZW50aWZpZXJdKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuZGVmaW5lZCBwYXJhbWV0ZXIgXCInICsgaWRlbnRpZmllciArICdcIicpXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX3BhcmFtZXRlcnNCeUlkZW50aWZpZXJbaWRlbnRpZmllcl1cbiAgfVxuXG4gIC8qKlxuICAgKiBBc3NvY2lhdGVzIHBhcmFtZXRlciB3aXRoIGlkZW50aWZpZXJcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkZW50aWZpZXJcbiAgICogQHBhcmFtIHtzY2FsYXJ9IHZhbHVlXG4gICAqXG4gICAqIEByZXR1cm5zIHtDb250YWluZXJ9IGN1cnJlbnQgQ29udGFpbmVyIGluc3RhbmNlXG4gICAqXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIHNldFBhcmFtZXRlcihpZGVudGlmaWVyOiBzdHJpbmcsIHZhbHVlOiBzY2FsYXIpOiBDb250YWluZXIge1xuICAgIHRoaXMuX3BhcmFtZXRlcnNCeUlkZW50aWZpZXJbaWRlbnRpZmllcl0gPSB2YWx1ZVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgY29udGFpbmVyIGhhcyBwYXJhbWV0ZXIsIGZhbHNlIG90aGVyd2lzZVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWRlbnRpZmllclxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGhhc1BhcmFtZXRlcihpZGVudGlmaWVyOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkICE9PSB0aGlzLl9wYXJhbWV0ZXJzQnlJZGVudGlmaWVyW2lkZW50aWZpZXJdXG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXJzIFxuICAgKiBcbiAgICogQHBhcmFtIHtMb2NhdG9yQ2FsbGJhY2t9IGxvY2F0b3JcbiAgICpcbiAgICogQHJldHVybnMge0NvbnRhaW5lcn0gY3VycmVudCBDb250YWluZXIgaW5zdGFuY2VcbiAgICpcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgcmVnaXN0ZXJDbGFzc0NvbnN0cnVjdG9yTG9jYXRvcihsb2NhdG9yOiBMb2NhdG9yQ2FsbGJhY2spOiBDb250YWluZXIge1xuICAgIHRoaXMuX2NsYXNzQ29uc3RydWN0b3JMb2NhdG9ycy5wdXNoKGxvY2F0b3IpXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7TG9jYXRvckNhbGxiYWNrfSBsb2NhdG9yXG4gICAqXG4gICAqIEByZXR1cm5zIHtDb250YWluZXJ9IGN1cnJlbnQgQ29udGFpbmVyIGluc3RhbmNlXG4gICAqXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIHJlZ2lzdGVySW5zdGFuY2VMb2NhdG9yKGxvY2F0b3I6IExvY2F0b3JDYWxsYmFjayk6IENvbnRhaW5lciB7XG4gICAgdGhpcy5faW5zdGFuY2VMb2NhdG9ycy5wdXNoKGxvY2F0b3IpXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc29sdmVzIHNlcnZpY2UgZGVmaW5pdGlvbiBhcmd1bWVudHMsIHRoZW4gdXNlcyB0aGVtIHRvIGluc3RhbnRpYXRlIHRoZSBzZXJ2aWNlLlxuICAgKlxuICAgKiBAcGFyYW0ge0RlZmluaXRpb259IGRlZmluaXRpb25cbiAgICogQHBhcmFtIHtMb2FkaW5nT2JqZWN0fSBsb2FkaW5nIGFuIG9iamVjdCB0aGF0IGtlZXBzIHRyYWNrIG9mIHNlcnZpY2UgaW5zdGFudGlhdGlvbnMsXG4gICAqIHVzZWQgdG8gcHJldmVudCBjaXJjdWxhciBkZXBlbmRlbmN5IHJlbGF0ZWQgaW5maW5pdGUgbG9vcHNcbiAgICpcbiAgICogQHByb21pc2VcbiAgICogQHJlc29sdmUge09iamVjdH1cbiAgICogQHJlamVjdCB7RXJyb3J9IGluIGNhc2UgYSBmYWN0b3J5IG1ldGhvZCByZXR1cm5zIG5vdGhpbmdcbiAgICogQHJlamVjdCB7RXJyb3J9IGluIGNhc2UgYSBtZXRob2QgY2FsbCBjYWxscyBhIG1ldGhvZCB0aGF0IGRvZXMgbm90IGV4aXN0XG4gICAqIEByZWplY3Qge0Vycm9yfSBpbiBjYXNlIHRoZSBzZXJ2aWNlIGRlZmluaXRpb25cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9pbnN0YW50aWF0ZShkZWZpbml0aW9uOiBEZWZpbml0aW9uLCBsb2FkaW5nOiBMb2FkaW5nT2JqZWN0KTogUHJvbWlzZTxPYmplY3Q+IHtcbiAgICByZXR1cm4gdGhpc1xuICAgICAgLl9yZXNvbHZlQXJncyhkZWZpbml0aW9uLmFyZ3MsIGxvYWRpbmcpXG4gICAgICAudGhlbigoYXJnczogQXJyYXkpOiBQcm9taXNlID0+IHtcbiAgICAgICAgbGV0IGluc3RhbmNlXG5cbiAgICAgICAgaWYgKGRlZmluaXRpb24gaW5zdGFuY2VvZiBDbGFzc0NvbnN0cnVjdG9yRGVmaW5pdGlvbikge1xuICAgICAgICAgIGNvbnN0IGNsYXNzQ29uc3RydWN0b3IgPSB0aGlzLl9sb2NhdGVTZXJ2aWNlQ2xhc3NDb25zdHJ1Y3RvcihkZWZpbml0aW9uLmNsYXNzQ29uc3RydWN0b3JJZGVudGlmaWVyKVxuXG4gICAgICAgICAgaW5zdGFuY2UgPSBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KGNsYXNzQ29uc3RydWN0b3IsIFsgdW5kZWZpbmVkIF0uY29uY2F0KGFyZ3MpKSlcbiAgICAgICAgfSBlbHNlIGlmIChkZWZpbml0aW9uIGluc3RhbmNlb2YgRmFjdG9yeURlZmluaXRpb24pIHtcbiAgICAgICAgICBpbnN0YW5jZSA9IGRlZmluaXRpb24uZmFjdG9yeS5hcHBseSh1bmRlZmluZWQsIGFyZ3MpXG5cbiAgICAgICAgICBpZiAodW5kZWZpbmVkID09PSBpbnN0YW5jZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RpbmcgZmFjdG9yeSBtZXRob2QgdG8gcmV0dXJuIGEgc2VydmljZScpXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vVGhlb3JldGljYWxseSwgY2FuJ3QgaGFwcGVuIHdpdGggY3VycmVudCBEZWZpbml0aW9uIGltcGxlbWVudGF0aW9uLlxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5zdXBwb3J0ZWQnKVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbWV0aG9kQ2FsbHNQcm9taXNlcyA9IFtdXG5cbiAgICAgICAgZGVmaW5pdGlvbi5tZXRob2RDYWxscy5mb3JFYWNoKChtZXRob2RDYWxsOiBNZXRob2RDYWxsKTogdm9pZCA9PiB7XG4gICAgICAgICAgY29uc3QgbWV0aG9kTmFtZSA9IG1ldGhvZENhbGwubmFtZVxuICAgICAgICAgIGNvbnN0IG1ldGhvZCA9IGluc3RhbmNlW21ldGhvZE5hbWVdXG5cbiAgICAgICAgICBpZiAodW5kZWZpbmVkID09PSBtZXRob2QpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWV0aG9kIFwiJyArIG1ldGhvZE5hbWUgKyAnXCIgZG9lcyBub3QgZXhpc3QnKVxuICAgICAgICAgIH1cblxuICAgICAgICAgIG1ldGhvZENhbGxzUHJvbWlzZXMucHVzaChcbiAgICAgICAgICAgIHRoaXNcbiAgICAgICAgICAgICAgLl9yZXNvbHZlQXJncyhtZXRob2RDYWxsLmFyZ3MsIGxvYWRpbmcpXG4gICAgICAgICAgICAgIC50aGVuKChhcmdzOiBBcnJheSk6ID8oUHJvbWlzZXxtaXhlZCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBtZXRob2QuYXBwbHkoaW5zdGFuY2UsIGFyZ3MpXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgKVxuICAgICAgICB9KVxuXG4gICAgICAgIHJldHVybiBQcm9taXNlXG4gICAgICAgICAgLmFsbChtZXRob2RDYWxsc1Byb21pc2VzKVxuICAgICAgICAgIC50aGVuKCgpOiBPYmplY3QgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlXG4gICAgICAgICAgfSlcbiAgICAgIH0pXG4gIH1cblxuICAvKipcbiAgICogVXNlZCBpbnRlcm5hbGx5IHRvIGxvY2F0ZSBhIHNlcnZpY2UgY2xhc3MgY29uc3RydWN0b3IsIGlmIGl0IGhhcyBiZWVuIG1hZGUgYXZhaWxhYmxlIHRvIHRoZSBjb250YWluZXIgaW5zdGFuY2UuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZGVudGlmaWVyXG4gICAqXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gYSBzZXJ2aWNlIGNsYXNzIGNvbnN0cnVjdG9yXG4gICAqXG4gICAqIEB0aHJvd3Mge0Vycm9yfSBpZiB0aGUgY2xhc3MgY29uc3RydWN0b3IgY291bGQgbm90IGJlIGZvdW5kXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfbG9jYXRlU2VydmljZUNsYXNzQ29uc3RydWN0b3IoaWRlbnRpZmllcjogc3RyaW5nKTogRnVuY3Rpb24ge1xuICAgIGxldCBpXG4gICAgbGV0IGNsYXNzQ29uc3RydWN0b3JcblxuICAgIGZvciAoaSBpbiB0aGlzLl9jbGFzc0NvbnN0cnVjdG9yTG9jYXRvcnMpIHtcbiAgICAgIGlmICh0aGlzLl9jbGFzc0NvbnN0cnVjdG9yTG9jYXRvcnMuaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgICAgY2xhc3NDb25zdHJ1Y3RvciA9IHRoaXMuX2NsYXNzQ29uc3RydWN0b3JMb2NhdG9yc1tpXShpZGVudGlmaWVyKVxuXG4gICAgICAgIGlmICh1bmRlZmluZWQgIT09IGNsYXNzQ29uc3RydWN0b3IpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh1bmRlZmluZWQgPT09IGNsYXNzQ29uc3RydWN0b3IpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ291bGQgbm90IGxvY2F0ZSBzZXJ2aWNlIGNsYXNzIGNvbnN0cnVjdG9yIGZvciBpZGVudGlmaWVyIFwiJyArIGlkZW50aWZpZXIgKyAnXCInKVxuICAgIH1cblxuICAgIHJldHVybiBjbGFzc0NvbnN0cnVjdG9yXG4gIH1cblxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWRlbnRpZmllclxuICAgKlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fHZvaWR9XG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfbG9jYXRlSW5zdGFuY2UoaWRlbnRpZmllcjogc3RyaW5nKTogT2JqZWN0fHZvaWQge1xuICAgIGxldCBpXG4gICAgbGV0IGluc3RhbmNlXG5cbiAgICBmb3IgKGkgaW4gdGhpcy5faW5zdGFuY2VMb2NhdG9ycykge1xuICAgICAgaWYgKHRoaXMuX2luc3RhbmNlTG9jYXRvcnMuaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgICAgaW5zdGFuY2UgPSB0aGlzLl9pbnN0YW5jZUxvY2F0b3JzW2ldKGlkZW50aWZpZXIpXG5cbiAgICAgICAgaWYgKHVuZGVmaW5lZCAhPT0gaW5zdGFuY2UpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBpbnN0YW5jZVxuICB9XG5cbiAgLyoqXG4gICAqIFJlc29sdmVzIGdpdmVuIGFyZ3VtZW50cy5cbiAgICpcbiAgICogQHBhcmFtIHtJbmplY3RhYmxlQXJndW1lbnRzfSBhcmdzXG4gICAqIEBwYXJhbSB7TG9hZGluZ09iamVjdH0gbG9hZGluZyBhbiBvYmplY3QgdGhhdCBrZWVwcyB0cmFjayBvZiBzZXJ2aWNlIGluc3RhbnRpYXRpb25zLFxuICAgKiB1c2VkIHRvIHByZXZlbnQgY2lyY3VsYXIgZGVwZW5kZW5jeSByZWxhdGVkIGluZmluaXRlIGxvb3BzXG4gICAqXG4gICAqIEBwcm9taXNlXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfcmVzb2x2ZUFyZ3MoYXJnczogSW5qZWN0YWJsZUFyZ3VtZW50cywgbG9hZGluZzogTG9hZGluZ09iamVjdCk6IFByb21pc2Uge1xuICAgIGNvbnN0IHByb21pc2VzID0gW11cblxuICAgIGFyZ3MuZm9yRWFjaCgoYXJnKSA9PiB7XG4gICAgICBpZiAoYXJnIGluc3RhbmNlb2YgUmVmZXJlbmNlKSB7XG4gICAgICAgIGNvbnN0IGlkID0gYXJnLmlkXG5cbiAgICAgICAgcHJvbWlzZXMucHVzaChcbiAgICAgICAgICB0aGlzLl9kb0dldFNlcnZpY2UoaWQsIENvbnRhaW5lci5fZGVlcENvcHlMb2FkaW5nKGxvYWRpbmcpKVxuICAgICAgICApXG4gICAgICB9IGVsc2UgaWYgKGFyZyBpbnN0YW5jZW9mIFBhcmFtZXRlcikge1xuICAgICAgICBwcm9taXNlcy5wdXNoKFxuICAgICAgICAgIHRoaXMuZ2V0UGFyYW1ldGVyKGFyZy5pZClcbiAgICAgICAgKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbnN1cHBvcnRlZCBhcmcgb2YgdHlwZSBcIicgKyAodHlwZW9mIGFyZykgKyAnXCInKTtcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKVxuICB9XG5cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkZW50aWZpZXJcbiAgICpcbiAgICogQHJldHVybnMge0Vycm9yfVxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc3RhdGljIF9jcmVhdGVNaXNzaW5nU2VydmljZURlZmluaXRpb25BbmRJbnN0YW5jZUZvcklkZW50aWZpZXJFcnJvcihpZGVudGlmaWVyOiBzdHJpbmcpOiBFcnJvciB7XG4gICAgcmV0dXJuIG5ldyBFcnJvcignTWlzc2luZyBzZXJ2aWNlIGRlZmluaXRpb24gYW5kIGluc3RhbmNlIGZvciBpZGVudGlmaWVyIFwiJyArIGlkZW50aWZpZXIgKyAnXCInKVxuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgaW50ZXJuYWxseSB0byByZXRyaWV2ZSBhIHNlcnZpY2UgYnkgaXRzIGlkZW50aWZpZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZGVudGlmaWVyIHRoZSBpZGVudGlmaWVyIG9mIHRoZSBzZXJ2aWNlXG4gICAqIEBwYXJhbSB7TG9hZGluZ09iamVjdH0gbG9hZGluZyBhbiBvYmplY3QgdGhhdCBrZWVwcyB0cmFjayBvZiBzZXJ2aWNlIGluc3RhbnRpYXRpb25zLFxuICAgKiB1c2VkIHRvIHByZXZlbnQgY2lyY3VsYXIgZGVwZW5kZW5jeSByZWxhdGVkIGluZmluaXRlIGxvb3BzXG4gICAqXG4gICAqIEBwcm9taXNlXG4gICAqIEByZXNvbHZlIHsqfSBhIHNlcnZpY2UgdGhhdCBjb3VsZCBiZSBvZiBhbnkgdHlwZVxuICAgKiBAcmVqZWN0IHtFcnJvcn0gaW4gY2FzZSB0aGUgc2VydmljZSBpcyB1bmRlZmluZWRcbiAgICogQHJlamVjdCB7RXJyb3J9IGluIGNhc2Ugb2YgYSBjaXJjdWxhciBkZXBlbmRlbmN5XG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZG9HZXRTZXJ2aWNlKGlkZW50aWZpZXI6IHN0cmluZywgbG9hZGluZzogTG9hZGluZ09iamVjdCk6IFByb21pc2Uge1xuICAgIGlmICh1bmRlZmluZWQgIT09IGxvYWRpbmcub2JqW2lkZW50aWZpZXJdKSB7XG4gICAgICBjb25zdCBwYXRoID0gbG9hZGluZy5hcnIuY29uY2F0KFsgaWRlbnRpZmllciBdKS5qb2luKCcgPT4gJylcblxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgICBuZXcgRXJyb3IoJ0NpcmN1bGFyIGRlcGVuZGVuY3kgZGV0ZWN0ZWQgJyArIHBhdGggKyAnJylcbiAgICAgIClcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuaGFzSW5zdGFuY2UoaWRlbnRpZmllcikpIHtcbiAgICAgIGlmICghdGhpcy5oYXNEZWZpbml0aW9uKGlkZW50aWZpZXIpKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX2xvY2F0ZUluc3RhbmNlKGlkZW50aWZpZXIpXG5cbiAgICAgICAgaWYgKHVuZGVmaW5lZCAhPT0gcmVzdWx0KSB7XG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogSW4gY2FzZSBsb2NhdGUgaW5zdGFuY2UgcmV0dXJucyBhIHByb21pc2UsIHJlc29sdmUgcHJvbWlzZVxuICAgICAgICAgICAqL1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzdWx0KS50aGVuKChpbnN0YW5jZSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gaW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICByZWplY3QoQ29udGFpbmVyLl9jcmVhdGVNaXNzaW5nU2VydmljZURlZmluaXRpb25BbmRJbnN0YW5jZUZvcklkZW50aWZpZXJFcnJvcihpZGVudGlmaWVyKSlcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKGluc3RhbmNlKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoQ29udGFpbmVyLl9jcmVhdGVNaXNzaW5nU2VydmljZURlZmluaXRpb25BbmRJbnN0YW5jZUZvcklkZW50aWZpZXJFcnJvcihpZGVudGlmaWVyKSlcbiAgICAgIH1cblxuICAgICAgbG9hZGluZy5vYmpbaWRlbnRpZmllcl0gPSB0cnVlXG4gICAgICBsb2FkaW5nLmFyci5wdXNoKGlkZW50aWZpZXIpXG5cbiAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLl9pbnN0YW50aWF0ZSh0aGlzLmdldERlZmluaXRpb24oaWRlbnRpZmllciksIGxvYWRpbmcpXG5cbiAgICAgIHRoaXMuX3NlcnZpY2VEZWZpbml0aW9uc0FscmVhZHlVc2VkVG9JbnN0YW50aWF0ZUJ5SWRlbnRpZmllcltpZGVudGlmaWVyXSA9IHRydWVcblxuICAgICAgdGhpcy5fc2VydmljZXNCeUlkZW50aWZpZXJbaWRlbnRpZmllcl0gPSBwcm9taXNlXG4gICAgfVxuXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9zZXJ2aWNlc0J5SWRlbnRpZmllcltpZGVudGlmaWVyXSlcbiAgfVxuXG4gIC8qKlxuICAgKiBNYWtlcyBhIGRlZXAgY29weSBvZiBsb2FkaW5nIG9iamVjdCBzbyBhcyBub3QgdG8gbW9kaWZ5IGl0IGJ5IHJlZmVyZW5jZS5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IGxvYWRpbmdcbiAgICpcbiAgICogQHJldHVybnMge09iamVjdH0gbG9hZGluZyBhIGRlZXAgY29weSBvZiB0aGUgb3JpZ2luYWwgbG9hZGluZyBwYXJhbWV0ZXJcbiAgICogQHJldHVybnMge09iamVjdDxzdHJpbmcsIGJvb2xlYW4+fSBsb2FkaW5nLm9ialxuICAgKiBAcmV0dXJucyB7QXJyYXk8c3RyaW5nPn0gbG9hZGluZy5hcnJcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHN0YXRpYyBfZGVlcENvcHlMb2FkaW5nKGxvYWRpbmc6IE9iamVjdCk6IE9iamVjdCB7XG4gICAgY29uc3QgbmV3TG9hZGluZyA9IHtcbiAgICAgIG9iajoge30sXG4gICAgICBhcnI6IFtdLmNvbmNhdChsb2FkaW5nLmFycilcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpIGluIGxvYWRpbmcub2JqKSB7XG4gICAgICBpZiAobG9hZGluZy5vYmouaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgICAgbmV3TG9hZGluZy5vYmpbaV0gPSBsb2FkaW5nLm9ialtpXVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBuZXdMb2FkaW5nXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29udGFpbmVyXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbnRhaW5lci5qcyIsImltcG9ydCBNZXRob2RDYWxsIGZyb20gJy4vbWV0aG9kLWNhbGwnXG5cbmltcG9ydCB0eXBlIHtJbmplY3RhYmxlQXJndW1lbnRzfSBmcm9tICcuL3R5cGVzL2luamVjdGFibGUtYXJndW1lbnRzJ1xuXG4vKipcbiAqIEBhdXRob3IgQmVuamFtaW4gTWljaGFsc2tpIDxiZW5qYW1pbi5taWNoYWxza2lAZ21haWwuY29tPlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmNsYXNzIERlZmluaXRpb24ge1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RvclxuICAgKlxuICAgKiBAcGFyYW0gez9JbmplY3RhYmxlQXJndW1lbnRzfSBbYXJncz1bXV1cbiAgICovXG4gIGNvbnN0cnVjdG9yKGFyZ3M6ID9JbmplY3RhYmxlQXJndW1lbnRzID0gW10pIHtcbiAgICB0aGlzLl9tZXRob2RDYWxscyA9IFtdXG4gICAgdGhpcy5fYXJncyA9IGFyZ3NcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIG1ldGhvZENhbGxzXG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXk8TWV0aG9kQ2FsbD59IG1ldGhvZENhbGxzXG4gICAqL1xuICBzZXQgbWV0aG9kQ2FsbHMobWV0aG9kQ2FsbHM6IEFycmF5PE1ldGhvZENhbGw+KTogdm9pZCB7XG4gICAgdGhpcy5fbWV0aG9kQ2FsbHMgPSBtZXRob2RDYWxsc1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgbWV0aG9kQ2FsbHNcbiAgICpcbiAgICogQHJldHVybnMge0FycmF5PE1ldGhvZENhbGw+fVxuICAgKi9cbiAgZ2V0IG1ldGhvZENhbGxzKCk6IEFycmF5PE1ldGhvZENhbGw+IHtcbiAgICByZXR1cm4gdGhpcy5fbWV0aG9kQ2FsbHNcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIGFyZ3NcbiAgICpcbiAgICogQHJldHVybnMge0luamVjdGFibGVBcmd1bWVudHN9XG4gICAqL1xuICBnZXQgYXJncygpOiBJbmplY3RhYmxlQXJndW1lbnRzIHtcbiAgICByZXR1cm4gdGhpcy5fYXJnc1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IERlZmluaXRpb25cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZGVmaW5pdGlvbi5qcyIsImltcG9ydCB0eXBlIHtJbmplY3RhYmxlQXJndW1lbnRzfSBmcm9tICcuL3R5cGVzL2luamVjdGFibGUtYXJndW1lbnRzJ1xuXG4vKipcbiAqIEBhdXRob3IgQmVuamFtaW4gTWljaGFsc2tpIDxiZW5qYW1pbi5taWNoYWxza2lAZ21haWwuY29tPlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuY2xhc3MgTWV0aG9kQ2FsbCB7XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdG9yXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIG1ldGhvZCBuYW1lXG4gICAqIEBwYXJhbSB7P0luamVjdGFibGVBcmd1bWVudHN9IFthcmdzPVtdXVxuICAgKlxuICAgKiBAcHVibGljXG4gICAqL1xuICBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIGFyZ3M6ID9JbmplY3RhYmxlQXJndW1lbnRzID0gW10pIHtcbiAgICB0aGlzLl9uYW1lID0gbmFtZVxuICAgIHRoaXMuX2FyZ3MgPSBhcmdzXG4gIH1cblxuICAvKipcbiAgICogR2V0cyBuYW1lXG4gICAqXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIGdldCBuYW1lKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuX25hbWVcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIGFyZ3NcbiAgICpcbiAgICogQHJldHVybnMge0luamVjdGFibGVBcmd1bWVudHN9XG4gICAqXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIGdldCBhcmdzKCk6IEluamVjdGFibGVBcmd1bWVudHMge1xuICAgIHJldHVybiB0aGlzLl9hcmdzXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTWV0aG9kQ2FsbFxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9tZXRob2QtY2FsbC5qcyIsImltcG9ydCBSZWZlcmVuY2UgZnJvbSAnLi4vcmVmZXJlbmNlJ1xuaW1wb3J0IFBhcmFtZXRlciBmcm9tICcuLi9wYXJhbWV0ZXInXG5cbmV4cG9ydCB0eXBlIEluamVjdGFibGVBcmd1bWVudHMgPSBBcnJheTxSZWZlcmVuY2V8UGFyYW1ldGVyPlxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3R5cGVzL2luamVjdGFibGUtYXJndW1lbnRzLmpzIiwiLyoqXG4gKiBAYXV0aG9yIEJlbmphbWluIE1pY2hhbHNraSA8YmVuamFtaW4ubWljaGFsc2tpQGdtYWlsLmNvbT5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmNsYXNzIFJlZmVyZW5jZSB7XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdG9yXG4gICAqIFxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWRcbiAgICpcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgY29uc3RydWN0b3IoaWQ6IHN0cmluZykge1xuICAgIHRoaXMuX2lkID0gaWRcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIGlkXG4gICAqXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIGdldCBpZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLl9pZFxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJlZmVyZW5jZVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9yZWZlcmVuY2UuanMiLCIvKipcbiAqIEBhdXRob3IgQmVuamFtaW4gTWljaGFsc2tpIDxiZW5qYW1pbi5taWNoYWxza2lAZ21haWwuY29tPlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuY2xhc3MgUGFyYW1ldGVyIHtcblxuICAvKipcbiAgICogQ29uc3RydWN0b3JcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gICAqXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIGNvbnN0cnVjdG9yKGlkOiBzdHJpbmcpIHtcbiAgICB0aGlzLl9pZCA9IGlkXG4gIH1cblxuICAvKipcbiAgICogR2V0cyBpZFxuICAgKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKlxuICAgKiBAcHVibGljXG4gICAqL1xuICBnZXQgaWQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5faWRcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQYXJhbWV0ZXJcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvcGFyYW1ldGVyLmpzIiwiaW1wb3J0IERlZmluaXRpb24gZnJvbSAnLi9kZWZpbml0aW9uJ1xuXG5pbXBvcnQgdHlwZSB7SW5qZWN0YWJsZUFyZ3VtZW50c30gZnJvbSAnLi90eXBlcy9pbmplY3RhYmxlLWFyZ3VtZW50cydcblxuLyoqXG4gKiBAYXV0aG9yIEJlbmphbWluIE1pY2hhbHNraSA8YmVuamFtaW4ubWljaGFsc2tpQGdtYWlsLmNvbT5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmNsYXNzIENsYXNzQ29uc3RydWN0b3JEZWZpbml0aW9uIGV4dGVuZHMgRGVmaW5pdGlvbiB7XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdG9yXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc0NvbnN0cnVjdG9ySWRlbnRpZmllclxuICAgKiBAcGFyYW0gez9JbmplY3RhYmxlQXJndW1lbnRzfSBbYXJncz1bXV1cbiAgICovXG4gIGNvbnN0cnVjdG9yKGNsYXNzQ29uc3RydWN0b3JJZGVudGlmaWVyOiBzdHJpbmcsIGFyZ3M6ID9JbmplY3RhYmxlQXJndW1lbnRzID0gW10pIHtcbiAgICBzdXBlcihhcmdzKVxuXG4gICAgdGhpcy5fY2xhc3NDb25zdHJ1Y3RvcklkZW50aWZpZXIgPSBjbGFzc0NvbnN0cnVjdG9ySWRlbnRpZmllclxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgY2xhc3NDb25zdHJ1Y3RvcklkZW50aWZpZXJcbiAgICpcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICovXG4gIGdldCBjbGFzc0NvbnN0cnVjdG9ySWRlbnRpZmllcigpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLl9jbGFzc0NvbnN0cnVjdG9ySWRlbnRpZmllclxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENsYXNzQ29uc3RydWN0b3JEZWZpbml0aW9uXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NsYXNzLWNvbnN0cnVjdG9yLWRlZmluaXRpb24uanMiLCJpbXBvcnQgRGVmaW5pdGlvbiBmcm9tICcuL2RlZmluaXRpb24nXG5cbmltcG9ydCB0eXBlIHtJbmplY3RhYmxlQXJndW1lbnRzfSBmcm9tICcuL3R5cGVzL2luamVjdGFibGUtYXJndW1lbnRzJ1xuXG4vKipcbiAqIEBhdXRob3IgQmVuamFtaW4gTWljaGFsc2tpIDxiZW5qYW1pbi5taWNoYWxza2lAZ21haWwuY29tPlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuY2xhc3MgRmFjdG9yeURlZmluaXRpb24gZXh0ZW5kcyBEZWZpbml0aW9uIHtcbiAgXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RvclxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmYWN0b3J5XG4gICAqIEBwYXJhbSB7P0luamVjdGFibGVBcmd1bWVudHN9IFthcmdzPVtdXVxuICAgKi9cbiAgY29uc3RydWN0b3IoZmFjdG9yeTogRnVuY3Rpb24sIGFyZ3M6ID9JbmplY3RhYmxlQXJndW1lbnRzID0gW10pIHtcbiAgICBzdXBlcihhcmdzKVxuXG4gICAgdGhpcy5fZmFjdG9yeSA9IGZhY3RvcnlcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIGZhY3RvcnlcbiAgICpcbiAgICogQHJldHVybnMge0Z1bmN0aW9ufVxuICAgKi9cbiAgZ2V0IGZhY3RvcnkoKTogRnVuY3Rpb24ge1xuICAgIHJldHVybiB0aGlzLl9mYWN0b3J5XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRmFjdG9yeURlZmluaXRpb25cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZmFjdG9yeS1kZWZpbml0aW9uLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==