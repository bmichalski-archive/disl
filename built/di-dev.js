!function(n,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e=t();for(var r in e)("object"==typeof exports?exports:n)[r]=e[r]}}(this,function(){return function(n){function t(r){if(e[r])return e[r].exports;var o=e[r]={exports:{},id:r,loaded:!1};return n[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var e={};return t.m=n,t.c=e,t.p="",t(0)}([function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{default:n}}var o=e(1),i=r(o),u=e(7),c=r(u),a=e(8),f=r(a),s=e(5),l=r(s),y=e(6),p=r(y),d=e(3),v=r(d);n.exports={Container:i.default,ClassConstructorDefinition:c.default,FactoryDefinition:f.default,Reference:l.default,Parameter:p.default,MethodCall:v.default}},function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{default:n}}function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function i(n,t){var e=4,r=15;if(void 0===t&&(t=0),t+=1,null===n)return"null";if(void 0===n)return"void";if("string"==typeof n||"number"==typeof n||"boolean"==typeof n)return"undefined"==typeof n?"undefined":u(n);if(!Array.isArray(n)){var o=Object.keys(n);if(!o.length)return n.constructor&&n.constructor.name&&"Object"!==n.constructor.name?n.constructor.name:"Object";if(t>e)return"{...}";var c="  ".repeat(t-1),a=o.slice(0,r).map(function(e){return(/^([A-Z_$][A-Z0-9_$]*)$/i.test(e)?e:JSON.stringify(e))+": "+i(n[e],t)+";"}).join("\n  "+c);return o.length>=r&&(a+="\n  "+c+"..."),n.constructor&&n.constructor.name&&"Object"!==n.constructor.name?n.constructor.name+" {\n  "+c+a+"\n"+c+"}":"{\n  "+c+a+"\n"+c+"}"}if(!(n.length>0))return"Array";var f=function(){if(t>e)return{v:"[...]"};var o=i(n[0],t);return n.every(function(n){return i(n,t)===o})?{v:o.trim()+"[]"}:{v:"["+n.slice(0,r).map(function(n){return i(n,t)}).join(", ")+(n.length>=r?", ...":"")+"]"}}();return"object"===("undefined"==typeof f?"undefined":u(f))?f.v:void 0}Object.defineProperty(t,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},c=function(){function n(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}}(),a=e(2),f=r(a),s=e(7),l=r(s),y=e(8),p=r(y),d=e(5),v=r(d),h=e(6),m=r(h),b=e(3),g=r(b),w=e(4),E=w.InjectableArguments,j=function(){function n(n){return"string"==typeof n||"number"==typeof n||"boolean"==typeof n||null==n}return Object.defineProperty(n,Symbol.hasInstance,{value:function(t){return n(t)}}),n}(),_=function(){function n(n){return null!=n&&n.obj instanceof Object&&Array.isArray(n.arr)&&n.arr.every(function(n){return"string"==typeof n})}return Object.defineProperty(n,Symbol.hasInstance,{value:function(t){return n(t)}}),n}(),O=function(){function n(n){return"function"==typeof n}return Object.defineProperty(n,Symbol.hasInstance,{value:function(t){return n(t)}}),n}(),x=function(){function n(){o(this,n),this._servicesByIdentifier={},this._serviceDefinitionsByIdentifier={},this._parametersByIdentifier={},this._serviceDefinitionsAlreadyUsedToInstantiateByIdentifier={},this._classConstructorLocators=[],this._instanceLocators=[]}return c(n,[{key:"get",value:function(){function n(n){if(!(n instanceof Promise))throw new TypeError("Function return value violates contract.\n\nExpected:\nPromise<Object | Function>\n\nGot:\n"+i(n));return n}for(var t=this,e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];if(!Array.isArray(r)||!r.every(function(n){return"string"==typeof n}))throw new TypeError('Value of argument "identifiers" violates contract.\n\nExpected:\nArray<string>\n\nGot:\n'+i(r));var u=[];return r.forEach(function(n){u.push(t._doGetService(n,{obj:{},arr:[]}))}),n(Promise.all(u))}},{key:"set",value:function(t,e){function r(t){if(!(t instanceof n))throw new TypeError("Function return value violates contract.\n\nExpected:\nContainer\n\nGot:\n"+i(t));return t}if("string"!=typeof t)throw new TypeError('Value of argument "identifier" violates contract.\n\nExpected:\nstring\n\nGot:\n'+i(t));if(!(e instanceof Object||"function"==typeof e))throw new TypeError('Value of argument "instance" violates contract.\n\nExpected:\nObject | Function\n\nGot:\n'+i(e));return this._servicesByIdentifier[t]=e,r(this)}},{key:"has",value:function(n){function t(n){if("boolean"!=typeof n)throw new TypeError("Function return value violates contract.\n\nExpected:\nboolean\n\nGot:\n"+i(n));return n}if("string"!=typeof n)throw new TypeError('Value of argument "identifier" violates contract.\n\nExpected:\nstring\n\nGot:\n'+i(n));return t(this.hasDefinition(n)||this.hasInstance(n))}},{key:"hasDefinition",value:function(n){function t(n){if("boolean"!=typeof n)throw new TypeError("Function return value violates contract.\n\nExpected:\nboolean\n\nGot:\n"+i(n));return n}if("string"!=typeof n)throw new TypeError('Value of argument "identifier" violates contract.\n\nExpected:\nstring\n\nGot:\n'+i(n));return t(void 0!==this._serviceDefinitionsByIdentifier[n])}},{key:"hasInstance",value:function(n){function t(n){if("boolean"!=typeof n)throw new TypeError("Function return value violates contract.\n\nExpected:\nboolean\n\nGot:\n"+i(n));return n}if("string"!=typeof n)throw new TypeError('Value of argument "identifier" violates contract.\n\nExpected:\nstring\n\nGot:\n'+i(n));return t(void 0!==this._servicesByIdentifier[n])}},{key:"getDefinition",value:function(n){function t(n){if(!(n instanceof f.default))throw new TypeError("Function return value violates contract.\n\nExpected:\nDefinition\n\nGot:\n"+i(n));return n}if("string"!=typeof n)throw new TypeError('Value of argument "identifier" violates contract.\n\nExpected:\nstring\n\nGot:\n'+i(n));var e=this._serviceDefinitionsByIdentifier[n];if(void 0===e)throw new Error('Missing service definition for identifier "'+n+'"');return t(e)}},{key:"setDefinition",value:function(t,e){function r(t){if(!(t instanceof n))throw new TypeError("Function return value violates contract.\n\nExpected:\nContainer\n\nGot:\n"+i(t));return t}if("string"!=typeof t)throw new TypeError('Value of argument "identifier" violates contract.\n\nExpected:\nstring\n\nGot:\n'+i(t));if(!(e instanceof f.default))throw new TypeError('Value of argument "definition" violates contract.\n\nExpected:\nDefinition\n\nGot:\n'+i(e));if(this._serviceDefinitionsAlreadyUsedToInstantiateByIdentifier[t])throw new Error('Service definition for "'+t+'" has already been used to instantiate a service, refusing to modify it');return this._serviceDefinitionsAlreadyUsedToInstantiateByIdentifier[t]=!1,this._serviceDefinitionsByIdentifier[t]=e,r(this)}},{key:"getParameter",value:function(n){function t(n){if(!j(n))throw new TypeError("Function return value violates contract.\n\nExpected:\nscalar\n\nGot:\n"+i(n));return n}if("string"!=typeof n)throw new TypeError('Value of argument "identifier" violates contract.\n\nExpected:\nstring\n\nGot:\n'+i(n));if(void 0===this._parametersByIdentifier[n])throw new Error('Undefined parameter "'+n+'"');return t(this._parametersByIdentifier[n])}},{key:"setParameter",value:function(t,e){function r(t){if(!(t instanceof n))throw new TypeError("Function return value violates contract.\n\nExpected:\nContainer\n\nGot:\n"+i(t));return t}if("string"!=typeof t)throw new TypeError('Value of argument "identifier" violates contract.\n\nExpected:\nstring\n\nGot:\n'+i(t));if(!j(e))throw new TypeError('Value of argument "value" violates contract.\n\nExpected:\nscalar\n\nGot:\n'+i(e));return this._parametersByIdentifier[t]=e,r(this)}},{key:"hasParameter",value:function(n){function t(n){if("boolean"!=typeof n)throw new TypeError("Function return value violates contract.\n\nExpected:\nboolean\n\nGot:\n"+i(n));return n}if("string"!=typeof n)throw new TypeError('Value of argument "identifier" violates contract.\n\nExpected:\nstring\n\nGot:\n'+i(n));return t(void 0!==this._parametersByIdentifier[n])}},{key:"registerClassConstructorLocator",value:function(t){function e(t){if(!(t instanceof n))throw new TypeError("Function return value violates contract.\n\nExpected:\nContainer\n\nGot:\n"+i(t));return t}if(!O(t))throw new TypeError('Value of argument "locator" violates contract.\n\nExpected:\nLocatorCallback\n\nGot:\n'+i(t));return this._classConstructorLocators.push(t),e(this)}},{key:"registerInstanceLocator",value:function(t){function e(t){if(!(t instanceof n))throw new TypeError("Function return value violates contract.\n\nExpected:\nContainer\n\nGot:\n"+i(t));return t}if(!O(t))throw new TypeError('Value of argument "locator" violates contract.\n\nExpected:\nLocatorCallback\n\nGot:\n'+i(t));return this._instanceLocators.push(t),e(this)}},{key:"_instantiate",value:function(n,t){function e(n){if(!(n instanceof Promise))throw new TypeError("Function return value violates contract.\n\nExpected:\nPromise<Object>\n\nGot:\n"+i(n));return n}var r=this;if(!(n instanceof f.default))throw new TypeError('Value of argument "definition" violates contract.\n\nExpected:\nDefinition\n\nGot:\n'+i(n));if(!_(t))throw new TypeError('Value of argument "loading" violates contract.\n\nExpected:\nLoadingObject\n\nGot:\n'+i(t));return e(this._resolveArgs(n.args,t).then(function(e){function o(n){if(!(n instanceof Promise))throw new TypeError("Function return value violates contract.\n\nExpected:\nPromise\n\nGot:\n"+i(n));return n}if(!Array.isArray(e))throw new TypeError('Value of argument "args" violates contract.\n\nExpected:\nArray\n\nGot:\n'+i(e));var u=void 0;if(n instanceof l.default){var c=r._locateServiceClassConstructor(n.classConstructorIdentifier);u=new(Function.prototype.bind.apply(c,[void 0].concat(e)))}else{if(!(n instanceof p.default))throw new Error("Unsupported");if(u=n.factory.apply(void 0,e),void 0===u)throw new Error("Expecting factory method to return a service")}var a=[];return n.methodCalls.forEach(function(n){if(!(n instanceof g.default))throw new TypeError('Value of argument "methodCall" violates contract.\n\nExpected:\nMethodCall\n\nGot:\n'+i(n));var e=n.name,o=u[e];if(void 0===o)throw new Error('Method "'+e+'" does not exist');a.push(r._resolveArgs(n.args,t).then(function(n){function t(n){if(!(null==n||n instanceof Promise))throw new TypeError("Function return value violates contract.\n\nExpected:\n?Promise | mixed\n\nGot:\n"+i(n));return n}if(!Array.isArray(n))throw new TypeError('Value of argument "args" violates contract.\n\nExpected:\nArray\n\nGot:\n'+i(n));return t(o.apply(u,n))}))}),o(Promise.all(a).then(function(){function n(n){if(!(n instanceof Object))throw new TypeError("Function return value violates contract.\n\nExpected:\nObject\n\nGot:\n"+i(n));return n}return n(u)}))}))}},{key:"_locateServiceClassConstructor",value:function(n){function t(n){if("function"!=typeof n)throw new TypeError("Function return value violates contract.\n\nExpected:\nFunction\n\nGot:\n"+i(n));return n}if("string"!=typeof n)throw new TypeError('Value of argument "identifier" violates contract.\n\nExpected:\nstring\n\nGot:\n'+i(n));var e=void 0,r=void 0;for(e in this._classConstructorLocators)if(this._classConstructorLocators.hasOwnProperty(e)&&(r=this._classConstructorLocators[e](n),void 0!==r))break;if(void 0===r)throw new Error('Could not locate service class constructor for identifier "'+n+'"');return t(r)}},{key:"_locateInstance",value:function(n){function t(n){if(!(n instanceof Object||null==n))throw new TypeError("Function return value violates contract.\n\nExpected:\nObject | void\n\nGot:\n"+i(n));return n}if("string"!=typeof n)throw new TypeError('Value of argument "identifier" violates contract.\n\nExpected:\nstring\n\nGot:\n'+i(n));var e=void 0,r=void 0;for(e in this._instanceLocators)if(this._instanceLocators.hasOwnProperty(e)&&(r=this._instanceLocators[e](n),void 0!==r))break;return t(r)}},{key:"_resolveArgs",value:function(t,e){function r(n){if(!(n instanceof Promise))throw new TypeError("Function return value violates contract.\n\nExpected:\nPromise\n\nGot:\n"+i(n));return n}var o=this;if(!E(t))throw new TypeError('Value of argument "args" violates contract.\n\nExpected:\nInjectableArguments\n\nGot:\n'+i(t));if(!_(e))throw new TypeError('Value of argument "loading" violates contract.\n\nExpected:\nLoadingObject\n\nGot:\n'+i(e));var c=[];return t.forEach(function(t){if(t instanceof v.default){var r=t.id;c.push(o._doGetService(r,n._deepCopyLoading(e)))}else{if(!(t instanceof m.default))throw new Error('Unsupported arg of type "'+("undefined"==typeof t?"undefined":u(t))+'"');c.push(o.getParameter(t.id))}}),r(Promise.all(c))}},{key:"_doGetService",value:function(t,e){function r(n){if(!(n instanceof Promise))throw new TypeError("Function return value violates contract.\n\nExpected:\nPromise\n\nGot:\n"+i(n));return n}if("string"!=typeof t)throw new TypeError('Value of argument "identifier" violates contract.\n\nExpected:\nstring\n\nGot:\n'+i(t));if(!_(e))throw new TypeError('Value of argument "loading" violates contract.\n\nExpected:\nLoadingObject\n\nGot:\n'+i(e));if(void 0!==e.obj[t]){var o=[].concat(e.arr).concat([t]).reverse().join(" <- ");return r(Promise.reject(new Error("Circular dependency found: "+o)))}if(!this.hasInstance(t)){if(!this.hasDefinition(t)){var u=this._locateInstance(t);return r(void 0!==u?Promise.resolve(u).then(function(e){return new Promise(function(r,o){void 0===e?o(n._createMissingServiceDefinitionAndInstanceForIdentifierError(t)):r(e)})}):Promise.reject(n._createMissingServiceDefinitionAndInstanceForIdentifierError(t)))}e.obj[t]=!0,e.arr.push(t);var c=this._instantiate(this.getDefinition(t),e);this._serviceDefinitionsAlreadyUsedToInstantiateByIdentifier[t]=!0,this._servicesByIdentifier[t]=c}return r(Promise.resolve(this._servicesByIdentifier[t]))}}],[{key:"_createMissingServiceDefinitionAndInstanceForIdentifierError",value:function(n){if("string"!=typeof n)throw new TypeError('Value of argument "identifier" violates contract.\n\nExpected:\nstring\n\nGot:\n'+i(n));return new Error('Missing service definition and instance for identifier "'+n+'"')}},{key:"_deepCopyLoading",value:function(n){if(!(n instanceof Object))throw new TypeError('Value of argument "loading" violates contract.\n\nExpected:\nObject\n\nGot:\n'+i(n));var t={obj:{},arr:[].concat(n.arr)};for(var e in n.obj)n.obj.hasOwnProperty(e)&&(t.obj[e]=n.obj[e]);return t}}]),n}();t.default=x},function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{default:n}}function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function i(n,t){var e=4,r=15;if(void 0===t&&(t=0),t+=1,null===n)return"null";if(void 0===n)return"void";if("string"==typeof n||"number"==typeof n||"boolean"==typeof n)return"undefined"==typeof n?"undefined":u(n);if(!Array.isArray(n)){var o=Object.keys(n);if(!o.length)return n.constructor&&n.constructor.name&&"Object"!==n.constructor.name?n.constructor.name:"Object";if(t>e)return"{...}";var c="  ".repeat(t-1),a=o.slice(0,r).map(function(e){return(/^([A-Z_$][A-Z0-9_$]*)$/i.test(e)?e:JSON.stringify(e))+": "+i(n[e],t)+";"}).join("\n  "+c);return o.length>=r&&(a+="\n  "+c+"..."),n.constructor&&n.constructor.name&&"Object"!==n.constructor.name?n.constructor.name+" {\n  "+c+a+"\n"+c+"}":"{\n  "+c+a+"\n"+c+"}"}if(!(n.length>0))return"Array";var f=function(){if(t>e)return{v:"[...]"};var o=i(n[0],t);return n.every(function(n){return i(n,t)===o})?{v:o.trim()+"[]"}:{v:"["+n.slice(0,r).map(function(n){return i(n,t)}).join(", ")+(n.length>=r?", ...":"")+"]"}}();return"object"===("undefined"==typeof f?"undefined":u(f))?f.v:void 0}Object.defineProperty(t,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},c=function(){function n(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}}(),a=e(3),f=r(a),s=e(4),l=s.InjectableArguments,y=function(){function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(o(this,n),null!=t&&!l(t))throw new TypeError('Value of argument "args" violates contract.\n\nExpected:\n?InjectableArguments\n\nGot:\n'+i(t));this._methodCalls=[],this._args=t}return c(n,[{key:"methodCalls",set:function(n){if(!Array.isArray(n)||!n.every(function(n){return n instanceof f.default}))throw new TypeError('Value of argument "methodCalls" violates contract.\n\nExpected:\nArray<MethodCall>\n\nGot:\n'+i(n));this._methodCalls=n},get:function(){function n(n){if(!Array.isArray(n)||!n.every(function(n){return n instanceof f.default}))throw new TypeError("Function return value violates contract.\n\nExpected:\nArray<MethodCall>\n\nGot:\n"+i(n));return n}return n(this._methodCalls)}},{key:"args",get:function(){function n(n){if(!l(n))throw new TypeError("Function return value violates contract.\n\nExpected:\nInjectableArguments\n\nGot:\n"+i(n));return n}return n(this._args)}}]),n}();t.default=y},function(n,t,e){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function o(n,t){var e=4,r=15;if(void 0===t&&(t=0),t+=1,null===n)return"null";if(void 0===n)return"void";if("string"==typeof n||"number"==typeof n||"boolean"==typeof n)return"undefined"==typeof n?"undefined":i(n);if(!Array.isArray(n)){var u=Object.keys(n);if(!u.length)return n.constructor&&n.constructor.name&&"Object"!==n.constructor.name?n.constructor.name:"Object";if(t>e)return"{...}";var c="  ".repeat(t-1),a=u.slice(0,r).map(function(e){return(/^([A-Z_$][A-Z0-9_$]*)$/i.test(e)?e:JSON.stringify(e))+": "+o(n[e],t)+";"}).join("\n  "+c);return u.length>=r&&(a+="\n  "+c+"..."),n.constructor&&n.constructor.name&&"Object"!==n.constructor.name?n.constructor.name+" {\n  "+c+a+"\n"+c+"}":"{\n  "+c+a+"\n"+c+"}"}if(!(n.length>0))return"Array";var f=function(){if(t>e)return{v:"[...]"};var i=o(n[0],t);return n.every(function(n){return o(n,t)===i})?{v:i.trim()+"[]"}:{v:"["+n.slice(0,r).map(function(n){return o(n,t)}).join(", ")+(n.length>=r?", ...":"")+"]"}}();return"object"===("undefined"==typeof f?"undefined":i(f))?f.v:void 0}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},u=function(){function n(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}}(),c=e(4),a=c.InjectableArguments,f=function(){function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(r(this,n),"string"!=typeof t)throw new TypeError('Value of argument "name" violates contract.\n\nExpected:\nstring\n\nGot:\n'+o(t));if(null!=e&&!a(e))throw new TypeError('Value of argument "args" violates contract.\n\nExpected:\n?InjectableArguments\n\nGot:\n'+o(e));this._name=t,this._args=e}return u(n,[{key:"name",get:function(){function n(n){if("string"!=typeof n)throw new TypeError("Function return value violates contract.\n\nExpected:\nstring\n\nGot:\n"+o(n));return n}return n(this._name)}},{key:"args",get:function(){function n(n){if(!a(n))throw new TypeError("Function return value violates contract.\n\nExpected:\nInjectableArguments\n\nGot:\n"+o(n));return n}return n(this._args)}}]),n}();t.default=f},function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{default:n}}Object.defineProperty(t,"__esModule",{value:!0}),t.InjectableArguments=void 0;var o=e(5),i=r(o),u=e(6),c=r(u);t.InjectableArguments=function(){function n(n){return Array.isArray(n)&&n.every(function(n){return n instanceof i.default||n instanceof c.default})}return Object.defineProperty(n,Symbol.hasInstance,{value:function(t){return n(t)}}),n}()},function(n,t){"use strict";function e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function r(n,t){var e=4,i=15;if(void 0===t&&(t=0),t+=1,null===n)return"null";if(void 0===n)return"void";if("string"==typeof n||"number"==typeof n||"boolean"==typeof n)return"undefined"==typeof n?"undefined":o(n);if(!Array.isArray(n)){var u=Object.keys(n);if(!u.length)return n.constructor&&n.constructor.name&&"Object"!==n.constructor.name?n.constructor.name:"Object";if(t>e)return"{...}";var c="  ".repeat(t-1),a=u.slice(0,i).map(function(e){return(/^([A-Z_$][A-Z0-9_$]*)$/i.test(e)?e:JSON.stringify(e))+": "+r(n[e],t)+";"}).join("\n  "+c);return u.length>=i&&(a+="\n  "+c+"..."),n.constructor&&n.constructor.name&&"Object"!==n.constructor.name?n.constructor.name+" {\n  "+c+a+"\n"+c+"}":"{\n  "+c+a+"\n"+c+"}"}if(!(n.length>0))return"Array";var f=function(){if(t>e)return{v:"[...]"};var o=r(n[0],t);return n.every(function(n){return r(n,t)===o})?{v:o.trim()+"[]"}:{v:"["+n.slice(0,i).map(function(n){return r(n,t)}).join(", ")+(n.length>=i?", ...":"")+"]"}}();return"object"===("undefined"==typeof f?"undefined":o(f))?f.v:void 0}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},i=function(){function n(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}}(),u=function(){function n(t){if(e(this,n),"string"!=typeof t)throw new TypeError('Value of argument "id" violates contract.\n\nExpected:\nstring\n\nGot:\n'+r(t));this._id=t}return i(n,[{key:"id",get:function(){function n(n){if("string"!=typeof n)throw new TypeError("Function return value violates contract.\n\nExpected:\nstring\n\nGot:\n"+r(n));return n}return n(this._id)}}]),n}();t.default=u},function(n,t){"use strict";function e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function r(n,t){var e=4,i=15;if(void 0===t&&(t=0),t+=1,null===n)return"null";if(void 0===n)return"void";if("string"==typeof n||"number"==typeof n||"boolean"==typeof n)return"undefined"==typeof n?"undefined":o(n);if(!Array.isArray(n)){var u=Object.keys(n);if(!u.length)return n.constructor&&n.constructor.name&&"Object"!==n.constructor.name?n.constructor.name:"Object";if(t>e)return"{...}";var c="  ".repeat(t-1),a=u.slice(0,i).map(function(e){return(/^([A-Z_$][A-Z0-9_$]*)$/i.test(e)?e:JSON.stringify(e))+": "+r(n[e],t)+";"}).join("\n  "+c);return u.length>=i&&(a+="\n  "+c+"..."),n.constructor&&n.constructor.name&&"Object"!==n.constructor.name?n.constructor.name+" {\n  "+c+a+"\n"+c+"}":"{\n  "+c+a+"\n"+c+"}"}if(!(n.length>0))return"Array";var f=function(){if(t>e)return{v:"[...]"};var o=r(n[0],t);return n.every(function(n){return r(n,t)===o})?{v:o.trim()+"[]"}:{v:"["+n.slice(0,i).map(function(n){return r(n,t)}).join(", ")+(n.length>=i?", ...":"")+"]"}}();return"object"===("undefined"==typeof f?"undefined":o(f))?f.v:void 0}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},i=function(){function n(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}}(),u=function(){function n(t){if(e(this,n),"string"!=typeof t)throw new TypeError('Value of argument "id" violates contract.\n\nExpected:\nstring\n\nGot:\n'+r(t));this._id=t}return i(n,[{key:"id",get:function(){function n(n){if("string"!=typeof n)throw new TypeError("Function return value violates contract.\n\nExpected:\nstring\n\nGot:\n"+r(n));return n}return n(this._id)}}]),n}();t.default=u},function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{default:n}}function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function i(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function u(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}function c(n,t){var e=4,r=15;if(void 0===t&&(t=0),t+=1,null===n)return"null";if(void 0===n)return"void";if("string"==typeof n||"number"==typeof n||"boolean"==typeof n)return"undefined"==typeof n?"undefined":a(n);if(!Array.isArray(n)){var o=Object.keys(n);if(!o.length)return n.constructor&&n.constructor.name&&"Object"!==n.constructor.name?n.constructor.name:"Object";if(t>e)return"{...}";var i="  ".repeat(t-1),u=o.slice(0,r).map(function(e){return(/^([A-Z_$][A-Z0-9_$]*)$/i.test(e)?e:JSON.stringify(e))+": "+c(n[e],t)+";"}).join("\n  "+i);return o.length>=r&&(u+="\n  "+i+"..."),n.constructor&&n.constructor.name&&"Object"!==n.constructor.name?n.constructor.name+" {\n  "+i+u+"\n"+i+"}":"{\n  "+i+u+"\n"+i+"}"}if(!(n.length>0))return"Array";var f=function(){if(t>e)return{v:"[...]"};var o=c(n[0],t);return n.every(function(n){return c(n,t)===o})?{v:o.trim()+"[]"}:{v:"["+n.slice(0,r).map(function(n){return c(n,t)}).join(", ")+(n.length>=r?", ...":"")+"]"}}();return"object"===("undefined"==typeof f?"undefined":a(f))?f.v:void 0}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},f=function(){function n(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}}(),s=e(2),l=r(s),y=e(4),p=y.InjectableArguments,d=function(n){function t(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(o(this,t),"string"!=typeof n)throw new TypeError('Value of argument "classConstructorIdentifier" violates contract.\n\nExpected:\nstring\n\nGot:\n'+c(n));if(null!=e&&!p(e))throw new TypeError('Value of argument "args" violates contract.\n\nExpected:\n?InjectableArguments\n\nGot:\n'+c(e));var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r._classConstructorIdentifier=n,r}return u(t,n),f(t,[{key:"classConstructorIdentifier",get:function(){function n(n){if("string"!=typeof n)throw new TypeError("Function return value violates contract.\n\nExpected:\nstring\n\nGot:\n"+c(n));return n}return n(this._classConstructorIdentifier)}}]),t}(l.default);t.default=d},function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{default:n}}function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function i(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function u(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}function c(n,t){var e=4,r=15;if(void 0===t&&(t=0),t+=1,null===n)return"null";if(void 0===n)return"void";if("string"==typeof n||"number"==typeof n||"boolean"==typeof n)return"undefined"==typeof n?"undefined":a(n);if(!Array.isArray(n)){var o=Object.keys(n);if(!o.length)return n.constructor&&n.constructor.name&&"Object"!==n.constructor.name?n.constructor.name:"Object";if(t>e)return"{...}";var i="  ".repeat(t-1),u=o.slice(0,r).map(function(e){return(/^([A-Z_$][A-Z0-9_$]*)$/i.test(e)?e:JSON.stringify(e))+": "+c(n[e],t)+";"}).join("\n  "+i);return o.length>=r&&(u+="\n  "+i+"..."),n.constructor&&n.constructor.name&&"Object"!==n.constructor.name?n.constructor.name+" {\n  "+i+u+"\n"+i+"}":"{\n  "+i+u+"\n"+i+"}"}if(!(n.length>0))return"Array";var f=function(){if(t>e)return{v:"[...]"};var o=c(n[0],t);return n.every(function(n){return c(n,t)===o})?{v:o.trim()+"[]"}:{v:"["+n.slice(0,r).map(function(n){return c(n,t)}).join(", ")+(n.length>=r?", ...":"")+"]"}}();return"object"===("undefined"==typeof f?"undefined":a(f))?f.v:void 0}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},f=function(){function n(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}}(),s=e(2),l=r(s),y=e(4),p=y.InjectableArguments,d=function(n){function t(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(o(this,t),"function"!=typeof n)throw new TypeError('Value of argument "factory" violates contract.\n\nExpected:\nFunction\n\nGot:\n'+c(n));if(null!=e&&!p(e))throw new TypeError('Value of argument "args" violates contract.\n\nExpected:\n?InjectableArguments\n\nGot:\n'+c(e));var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r._factory=n,r}return u(t,n),f(t,[{key:"factory",get:function(){function n(n){if("function"!=typeof n)throw new TypeError("Function return value violates contract.\n\nExpected:\nFunction\n\nGot:\n"+c(n));return n}return n(this._factory)}}]),t}(l.default);t.default=d}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy9kaS1kZXYuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svYm9vdHN0cmFwIDU0ZjViNmFkNzBjMzE1MDRhN2RmIiwid2VicGFjazovLy8uL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9jb250YWluZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RlZmluaXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21ldGhvZC1jYWxsLmpzIiwid2VicGFjazovLy8uL3NyYy90eXBlcy9pbmplY3RhYmxlLWFyZ3VtZW50cy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcmVmZXJlbmNlLmpzIiwid2VicGFjazovLy8uL3NyYy9wYXJhbWV0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NsYXNzLWNvbnN0cnVjdG9yLWRlZmluaXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZhY3RvcnktZGVmaW5pdGlvbi5qcyJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJhIiwiaSIsInRoaXMiLCJtb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaW5zdGFsbGVkTW9kdWxlcyIsImlkIiwibG9hZGVkIiwiY2FsbCIsIm0iLCJjIiwicCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9jb250YWluZXIiLCJfY29udGFpbmVyMiIsIl9jbGFzc0NvbnN0cnVjdG9yRGVmaW5pdGlvbiIsIl9jbGFzc0NvbnN0cnVjdG9yRGVmaW5pdGlvbjIiLCJfZmFjdG9yeURlZmluaXRpb24iLCJfZmFjdG9yeURlZmluaXRpb24yIiwiX3JlZmVyZW5jZSIsIl9yZWZlcmVuY2UyIiwiX3BhcmFtZXRlciIsIl9wYXJhbWV0ZXIyIiwiX21ldGhvZENhbGwiLCJfbWV0aG9kQ2FsbDIiLCJDb250YWluZXIiLCJDbGFzc0NvbnN0cnVjdG9yRGVmaW5pdGlvbiIsIkZhY3RvcnlEZWZpbml0aW9uIiwiUmVmZXJlbmNlIiwiUGFyYW1ldGVyIiwiTWV0aG9kQ2FsbCIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJfaW5zcGVjdCIsImlucHV0IiwiZGVwdGgiLCJtYXhEZXB0aCIsIm1heEtleXMiLCJ1bmRlZmluZWQiLCJfdHlwZW9mIiwiQXJyYXkiLCJpc0FycmF5Iiwia2V5cyIsIk9iamVjdCIsImxlbmd0aCIsImNvbnN0cnVjdG9yIiwibmFtZSIsImluZGVudCIsInJlcGVhdCIsImVudHJpZXMiLCJzbGljZSIsIm1hcCIsImtleSIsInRlc3QiLCJKU09OIiwic3RyaW5naWZ5Iiwiam9pbiIsIl9yZXQiLCJ2IiwiZmlyc3QiLCJldmVyeSIsIml0ZW0iLCJ0cmltIiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsIlN5bWJvbCIsIml0ZXJhdG9yIiwicHJvdG90eXBlIiwiX2NyZWF0ZUNsYXNzIiwiZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIl9kZWZpbml0aW9uIiwiX2RlZmluaXRpb24yIiwiX2luamVjdGFibGVBcmd1bWVudHMiLCJJbmplY3RhYmxlQXJndW1lbnRzIiwic2NhbGFyIiwiaGFzSW5zdGFuY2UiLCJMb2FkaW5nT2JqZWN0IiwiYXJyIiwiTG9jYXRvckNhbGxiYWNrIiwiX3NlcnZpY2VzQnlJZGVudGlmaWVyIiwiX3NlcnZpY2VEZWZpbml0aW9uc0J5SWRlbnRpZmllciIsIl9wYXJhbWV0ZXJzQnlJZGVudGlmaWVyIiwiX3NlcnZpY2VEZWZpbml0aW9uc0FscmVhZHlVc2VkVG9JbnN0YW50aWF0ZUJ5SWRlbnRpZmllciIsIl9jbGFzc0NvbnN0cnVjdG9yTG9jYXRvcnMiLCJfaW5zdGFuY2VMb2NhdG9ycyIsIl9yZWYiLCJfaWQiLCJQcm9taXNlIiwiX3RoaXMiLCJfbGVuIiwiYXJndW1lbnRzIiwiaWRlbnRpZmllcnMiLCJfa2V5IiwicHJvbWlzZXMiLCJmb3JFYWNoIiwiaWRlbnRpZmllciIsInB1c2giLCJfZG9HZXRTZXJ2aWNlIiwiYWxsIiwiX3JlZjIiLCJfaWQyIiwiX3JlZjMiLCJfaWQzIiwiaGFzRGVmaW5pdGlvbiIsIl9yZWY0IiwiX2lkNCIsIl9yZWY1IiwiX2lkNSIsIl9yZWY2IiwiX2lkNiIsImRlZmluaXRpb24iLCJFcnJvciIsIl9yZWY3IiwiX2lkNyIsIl9yZWY4IiwiX2lkOCIsIl9yZWY5IiwiX2lkOSIsIl9yZWYxMCIsIl9pZDEwIiwibG9jYXRvciIsIl9yZWYxMSIsIl9pZDExIiwiX3JlZjEyIiwiX2lkMTIiLCJsb2FkaW5nIiwiX3JlZjEzIiwiX2lkMTMiLCJfdGhpczIiLCJfcmVzb2x2ZUFyZ3MiLCJhcmdzIiwidGhlbiIsIl9yZWYxNCIsIl9pZDE0IiwiY2xhc3NDb25zdHJ1Y3RvciIsIl9sb2NhdGVTZXJ2aWNlQ2xhc3NDb25zdHJ1Y3RvciIsImNsYXNzQ29uc3RydWN0b3JJZGVudGlmaWVyIiwiRnVuY3Rpb24iLCJiaW5kIiwiYXBwbHkiLCJjb25jYXQiLCJtZXRob2RDYWxsc1Byb21pc2VzIiwibWV0aG9kQ2FsbHMiLCJtZXRob2RDYWxsIiwibWV0aG9kTmFtZSIsIm1ldGhvZCIsIl9yZWYxNiIsIl9pZDE2IiwiX3JlZjE3IiwiX2lkMTciLCJfcmVmMTgiLCJfaWQxOCIsImhhc093blByb3BlcnR5IiwiX3JlZjE5IiwiX2lkMTkiLCJfcmVmMjAiLCJfaWQyMCIsIl90aGlzMyIsImFyZyIsIl9kZWVwQ29weUxvYWRpbmciLCJnZXRQYXJhbWV0ZXIiLCJfcmVmMjIiLCJfaWQyMiIsInBhdGgiLCJyZXZlcnNlIiwicmVqZWN0IiwicmVzdWx0IiwiX2xvY2F0ZUluc3RhbmNlIiwicmVzb2x2ZSIsIl9jcmVhdGVNaXNzaW5nU2VydmljZURlZmluaXRpb25BbmRJbnN0YW5jZUZvcklkZW50aWZpZXJFcnJvciIsInByb21pc2UiLCJfaW5zdGFudGlhdGUiLCJnZXREZWZpbml0aW9uIiwibmV3TG9hZGluZyIsIkRlZmluaXRpb24iLCJfbWV0aG9kQ2FsbHMiLCJfYXJncyIsInNldCIsImdldCIsIl9uYW1lIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJzZWxmIiwiUmVmZXJlbmNlRXJyb3IiLCJfaW5oZXJpdHMiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJjcmVhdGUiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIl9EZWZpbml0aW9uIiwiZ2V0UHJvdG90eXBlT2YiLCJfY2xhc3NDb25zdHJ1Y3RvcklkZW50aWZpZXIiLCJfZmFjdG9yeSJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBQUEsRUFBQUMsR0FDQSxtQkFBQUMsVUFBQSxnQkFBQUMsUUFDQUEsT0FBQUQsUUFBQUQsUUFDQSxzQkFBQUcsZ0JBQUFDLElBQ0FELFVBQUFILE9BQ0EsQ0FDQSxHQUFBSyxHQUFBTCxHQUNBLFFBQUFNLEtBQUFELElBQUEsZ0JBQUFKLGlCQUFBRixHQUFBTyxHQUFBRCxFQUFBQyxLQUVDQyxLQUFBLFdBQ0QsTUNBZ0IsVUFBVUMsR0NOMUIsUUFBQUMsR0FBQUMsR0FHQSxHQUFBQyxFQUFBRCxHQUNBLE1BQUFDLEdBQUFELEdBQUFULE9BR0EsSUFBQUMsR0FBQVMsRUFBQUQsSUFDQVQsV0FDQVcsR0FBQUYsRUFDQUcsUUFBQSxFQVVBLE9BTkFMLEdBQUFFLEdBQUFJLEtBQUFaLEVBQUFELFFBQUFDLElBQUFELFFBQUFRLEdBR0FQLEVBQUFXLFFBQUEsRUFHQVgsRUFBQUQsUUF2QkEsR0FBQVUsS0FxQ0EsT0FUQUYsR0FBQU0sRUFBQVAsRUFHQUMsRUFBQU8sRUFBQUwsRUFHQUYsRUFBQVEsRUFBQSxHQUdBUixFQUFBLEtEZ0JNLFNBQVNQLEVBQVFELEVBQVNRLEdBRS9CLFlBMEJBLFNBQVNTLEdBQXVCQyxHQUFPLE1BQU9B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QUFLb0IsSUFBaUIsTUFBTyxVQUFVekMsRUFBYTZDLEVBQVlDLEdBQWlKLE1BQTlIRCxJQUFZUCxFQUFpQnRDLEVBQVlvQyxVQUFXUyxHQUFpQkMsR0FBYVIsRUFBaUJ0QyxFQUFhOEMsR0FBcUI5QyxNVTczRGppQitDLEVBQUFoRixFQUFBLEdWaTRES2lGLEVBQWV4RSxFQUF1QnVFLEdBRXRDRSxFQUF1QmxGLEVBQW9CLEdBVTNDbUYsRUFBc0JELEVBQXFCQyxvQlVwNEQxQ3hELEVWNDREbUIsU0FBVTRLLEdVcDREakMsUUFBQTVLLEdBQVlwQyxHQUFvRCxHQUFqQ3FKLEdBQWlDeEMsVUFBQXRELE9BQUEsR0FBQU4sU0FBQTRELFVBQUEsR0FBQUEsVUFBQSxTQUFBckUsRUFBQWpDLEtBQUE2QixHQUFBLGtCQUFwRHBDLEdBQW9ELFNBQUEyQyxXQUFBLGtGQUFBQyxFQUFwRDVDLEdBQW9ELFVBQWpDcUosSUFBT3pELEVBQVB5RCxHQUFpQyxTQUFBMUcsV0FBQSwyRkFBQUMsRUFBakN5RyxHQUFpQyxJQUFBMUMsR0FBQTRGLEVBQUFoTSxNQUFBNkIsRUFBQTJLLFdBQUF6SixPQUFBMkosZUFBQTdLLElBQUF0QixLQUFBUCxLQUN4RDhJLEdBRHdELE9BRzlEMUMsR0FBS3dHLFNBQVduTixFQUg4QzJHLEVWczdEL0QsTUFqREErRixHQUFVdEssRUFBbUI0SyxHQWtDN0JqSSxFQUFhM0MsSUFDWDJCLElBQUssVUFDTHNJLElBQUssV1U5NURnQixRQUFBN0YsR0FBQUMsR0FBQSxxQkFBQUEsR0FBQSxTQUFBOUQsV0FBQSw0RUFBQUMsRUFBQTZELEdBQUEsT0FBQUEsR0FBQSxNQUFBRCxHQUNmakcsS0FBSzRNLGNWMDZETi9LLEdBQ1BzRCxFQUFhckUsUUFFZnBCLEdBQVFvQixRVXo2RE1lIiwiZmlsZSI6ImRpLWRldi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSB7XG5cdFx0dmFyIGEgPSBmYWN0b3J5KCk7XG5cdFx0Zm9yKHZhciBpIGluIGEpICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgPyBleHBvcnRzIDogcm9vdClbaV0gPSBhW2ldO1xuXHR9XG59KSh0aGlzLCBmdW5jdGlvbigpIHtcbnJldHVybiBcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRlbHNlIHtcblx0XHR2YXIgYSA9IGZhY3RvcnkoKTtcblx0XHRmb3IodmFyIGkgaW4gYSkgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyA/IGV4cG9ydHMgOiByb290KVtpXSA9IGFbaV07XG5cdH1cbn0pKHRoaXMsIGZ1bmN0aW9uKCkge1xucmV0dXJuIC8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9LFxuLyoqKioqKi8gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bG9hZGVkOiBmYWxzZVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIF9jb250YWluZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9jb250YWluZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29udGFpbmVyKTtcblx0XG5cdHZhciBfY2xhc3NDb25zdHJ1Y3RvckRlZmluaXRpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHRcblx0dmFyIF9jbGFzc0NvbnN0cnVjdG9yRGVmaW5pdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NvbnN0cnVjdG9yRGVmaW5pdGlvbik7XG5cdFxuXHR2YXIgX2ZhY3RvcnlEZWZpbml0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblx0XG5cdHZhciBfZmFjdG9yeURlZmluaXRpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZmFjdG9yeURlZmluaXRpb24pO1xuXHRcblx0dmFyIF9yZWZlcmVuY2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF9yZWZlcmVuY2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVmZXJlbmNlKTtcblx0XG5cdHZhciBfcGFyYW1ldGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0XG5cdHZhciBfcGFyYW1ldGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BhcmFtZXRlcik7XG5cdFxuXHR2YXIgX21ldGhvZENhbGwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9tZXRob2RDYWxsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21ldGhvZENhbGwpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHQgIENvbnRhaW5lcjogX2NvbnRhaW5lcjIuZGVmYXVsdCxcblx0ICBDbGFzc0NvbnN0cnVjdG9yRGVmaW5pdGlvbjogX2NsYXNzQ29uc3RydWN0b3JEZWZpbml0aW9uMi5kZWZhdWx0LFxuXHQgIEZhY3RvcnlEZWZpbml0aW9uOiBfZmFjdG9yeURlZmluaXRpb24yLmRlZmF1bHQsXG5cdCAgUmVmZXJlbmNlOiBfcmVmZXJlbmNlMi5kZWZhdWx0LFxuXHQgIFBhcmFtZXRlcjogX3BhcmFtZXRlcjIuZGVmYXVsdCxcblx0ICBNZXRob2RDYWxsOiBfbWV0aG9kQ2FsbDIuZGVmYXVsdFxuXHR9O1xuXG4vKioqLyB9LFxuLyogMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0dmFyIF9kZWZpbml0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfZGVmaW5pdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbml0aW9uKTtcblx0XG5cdHZhciBfY2xhc3NDb25zdHJ1Y3RvckRlZmluaXRpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHRcblx0dmFyIF9jbGFzc0NvbnN0cnVjdG9yRGVmaW5pdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NvbnN0cnVjdG9yRGVmaW5pdGlvbik7XG5cdFxuXHR2YXIgX2ZhY3RvcnlEZWZpbml0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblx0XG5cdHZhciBfZmFjdG9yeURlZmluaXRpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZmFjdG9yeURlZmluaXRpb24pO1xuXHRcblx0dmFyIF9yZWZlcmVuY2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF9yZWZlcmVuY2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVmZXJlbmNlKTtcblx0XG5cdHZhciBfcGFyYW1ldGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0XG5cdHZhciBfcGFyYW1ldGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BhcmFtZXRlcik7XG5cdFxuXHR2YXIgX21ldGhvZENhbGwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9tZXRob2RDYWxsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21ldGhvZENhbGwpO1xuXHRcblx0dmFyIF9pbmplY3RhYmxlQXJndW1lbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0dmFyIEluamVjdGFibGVBcmd1bWVudHMgPSBfaW5qZWN0YWJsZUFyZ3VtZW50cy5JbmplY3RhYmxlQXJndW1lbnRzO1xuXHRcblx0dmFyIHNjYWxhciA9IGZ1bmN0aW9uICgpIHtcblx0ICBmdW5jdGlvbiBzY2FsYXIoaW5wdXQpIHtcblx0ICAgIHJldHVybiB0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBpbnB1dCA9PT0gJ251bWJlcicgfHwgdHlwZW9mIGlucHV0ID09PSAnYm9vbGVhbicgfHwgaW5wdXQgPT0gbnVsbDtcblx0ICB9XG5cdFxuXHQgIDtcblx0ICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc2NhbGFyLCBTeW1ib2wuaGFzSW5zdGFuY2UsIHtcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZShpbnB1dCkge1xuXHQgICAgICByZXR1cm4gc2NhbGFyKGlucHV0KTtcblx0ICAgIH1cblx0ICB9KTtcblx0ICByZXR1cm4gc2NhbGFyO1xuXHR9KCk7XG5cdFxuXHR2YXIgTG9hZGluZ09iamVjdCA9IGZ1bmN0aW9uICgpIHtcblx0ICBmdW5jdGlvbiBMb2FkaW5nT2JqZWN0KGlucHV0KSB7XG5cdCAgICByZXR1cm4gaW5wdXQgIT0gbnVsbCAmJiBpbnB1dC5vYmogaW5zdGFuY2VvZiBPYmplY3QgJiYgQXJyYXkuaXNBcnJheShpbnB1dC5hcnIpICYmIGlucHV0LmFyci5ldmVyeShmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgICByZXR1cm4gdHlwZW9mIGl0ZW0gPT09ICdzdHJpbmcnO1xuXHQgICAgfSk7XG5cdCAgfVxuXHRcblx0ICA7XG5cdCAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExvYWRpbmdPYmplY3QsIFN5bWJvbC5oYXNJbnN0YW5jZSwge1xuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKGlucHV0KSB7XG5cdCAgICAgIHJldHVybiBMb2FkaW5nT2JqZWN0KGlucHV0KTtcblx0ICAgIH1cblx0ICB9KTtcblx0ICByZXR1cm4gTG9hZGluZ09iamVjdDtcblx0fSgpO1xuXHRcblx0dmFyIExvY2F0b3JDYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcblx0ICBmdW5jdGlvbiBMb2NhdG9yQ2FsbGJhY2soaW5wdXQpIHtcblx0ICAgIHJldHVybiB0eXBlb2YgaW5wdXQgPT09ICdmdW5jdGlvbic7XG5cdCAgfVxuXHRcblx0ICA7XG5cdCAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExvY2F0b3JDYWxsYmFjaywgU3ltYm9sLmhhc0luc3RhbmNlLCB7XG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUoaW5wdXQpIHtcblx0ICAgICAgcmV0dXJuIExvY2F0b3JDYWxsYmFjayhpbnB1dCk7XG5cdCAgICB9XG5cdCAgfSk7XG5cdCAgcmV0dXJuIExvY2F0b3JDYWxsYmFjaztcblx0fSgpO1xuXHRcblx0LyoqXG5cdCAqIEBhdXRob3IgQmVuamFtaW4gTWljaGFsc2tpIDxiZW5qYW1pbi5taWNoYWxza2lAZ21haWwuY29tPlxuXHQgKlxuXHQgKiBAcHVibGljXG5cdCAqL1xuXHRcblx0XG5cdHZhciBDb250YWluZXIgPSBmdW5jdGlvbiAoKSB7XG5cdFxuXHQgIC8qKlxuXHQgICAqIENvbnN0cnVjdG9yXG5cdCAgICovXG5cdCAgZnVuY3Rpb24gQ29udGFpbmVyKCkge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbnRhaW5lcik7XG5cdFxuXHQgICAgdGhpcy5fc2VydmljZXNCeUlkZW50aWZpZXIgPSB7fTtcblx0ICAgIHRoaXMuX3NlcnZpY2VEZWZpbml0aW9uc0J5SWRlbnRpZmllciA9IHt9O1xuXHQgICAgdGhpcy5fcGFyYW1ldGVyc0J5SWRlbnRpZmllciA9IHt9O1xuXHQgICAgdGhpcy5fc2VydmljZURlZmluaXRpb25zQWxyZWFkeVVzZWRUb0luc3RhbnRpYXRlQnlJZGVudGlmaWVyID0ge307XG5cdCAgICB0aGlzLl9jbGFzc0NvbnN0cnVjdG9yTG9jYXRvcnMgPSBbXTtcblx0ICAgIHRoaXMuX2luc3RhbmNlTG9jYXRvcnMgPSBbXTtcblx0ICB9XG5cdFxuXHQgIC8qKlxuXHQgICAqIEdldHMgc2VydmljZSBhc3NvY2lhdGVkIHdpdGggaWRlbnRpZmllclxuXHQgICAqXG5cdCAgICogQHBhcmFtIHsuLi5zdHJpbmd9IGlkZW50aWZpZXJzXG5cdCAgICpcblx0ICAgKiBAcHJvbWlzZVxuXHQgICAqIEByZXNvbHZlIHtPYmplY3R8RnVuY3Rpb259IHNlcnZpY2UgaWRlbnRpZmllZCBieSBpZGVudGlmaWVyXG5cdCAgICogQHJlamVjdCB7RXJyb3J9IGluIGNhc2UgdGhlIHNlcnZpY2UgaXMgdW5kZWZpbmVkXG5cdCAgICogQHJlamVjdCB7RXJyb3J9IGluIGNhc2Ugb2YgYSBjaXJjdWxhciBkZXBlbmRlbmN5XG5cdCAgICpcblx0ICAgKiBAcHVibGljXG5cdCAgICovXG5cdFxuXHRcblx0ICBfY3JlYXRlQ2xhc3MoQ29udGFpbmVyLCBbe1xuXHQgICAga2V5OiAnZ2V0Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdFxuXHQgICAgICBmdW5jdGlvbiBfcmVmKF9pZCkge1xuXHQgICAgICAgIGlmICghKF9pZCBpbnN0YW5jZW9mIFByb21pc2UpKSB7XG5cdCAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGdW5jdGlvbiByZXR1cm4gdmFsdWUgdmlvbGF0ZXMgY29udHJhY3QuXFxuXFxuRXhwZWN0ZWQ6XFxuUHJvbWlzZTxPYmplY3QgfCBGdW5jdGlvbj5cXG5cXG5Hb3Q6XFxuJyArIF9pbnNwZWN0KF9pZCkpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmV0dXJuIF9pZDtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGlkZW50aWZpZXJzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG5cdCAgICAgICAgaWRlbnRpZmllcnNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGlmICghKEFycmF5LmlzQXJyYXkoaWRlbnRpZmllcnMpICYmIGlkZW50aWZpZXJzLmV2ZXJ5KGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICAgICAgcmV0dXJuIHR5cGVvZiBpdGVtID09PSAnc3RyaW5nJztcblx0ICAgICAgfSkpKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVmFsdWUgb2YgYXJndW1lbnQgXCJpZGVudGlmaWVyc1wiIHZpb2xhdGVzIGNvbnRyYWN0LlxcblxcbkV4cGVjdGVkOlxcbkFycmF5PHN0cmluZz5cXG5cXG5Hb3Q6XFxuJyArIF9pbnNwZWN0KGlkZW50aWZpZXJzKSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHZhciBwcm9taXNlcyA9IFtdO1xuXHRcblx0ICAgICAgaWRlbnRpZmllcnMuZm9yRWFjaChmdW5jdGlvbiAoaWRlbnRpZmllcikge1xuXHQgICAgICAgIHByb21pc2VzLnB1c2goX3RoaXMuX2RvR2V0U2VydmljZShpZGVudGlmaWVyLCB7IG9iajoge30sIGFycjogW10gfSkpO1xuXHQgICAgICB9KTtcblx0XG5cdCAgICAgIHJldHVybiBfcmVmKFByb21pc2UuYWxsKHByb21pc2VzKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBBc3NvY2lhdGVzIHNlcnZpY2Ugd2l0aCBpZGVudGlmaWVyXG5cdCAgICAgKlxuXHQgICAgICogQHBhcmFtIHtzdHJpbmd9IGlkZW50aWZpZXJcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fEZ1bmN0aW9ufSBpbnN0YW5jZSBzZXJ2aWNlIGluc3RhbmNlXG5cdCAgICAgKlxuXHQgICAgICogQHJldHVybnMge0NvbnRhaW5lcn0gY3VycmVudCBDb250YWluZXIgaW5zdGFuY2Vcblx0ICAgICAqXG5cdCAgICAgKiBAcHVibGljXG5cdCAgICAgKi9cblx0XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2V0Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZXQoaWRlbnRpZmllciwgaW5zdGFuY2UpIHtcblx0ICAgICAgZnVuY3Rpb24gX3JlZjIoX2lkMikge1xuXHQgICAgICAgIGlmICghKF9pZDIgaW5zdGFuY2VvZiBDb250YWluZXIpKSB7XG5cdCAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGdW5jdGlvbiByZXR1cm4gdmFsdWUgdmlvbGF0ZXMgY29udHJhY3QuXFxuXFxuRXhwZWN0ZWQ6XFxuQ29udGFpbmVyXFxuXFxuR290OlxcbicgKyBfaW5zcGVjdChfaWQyKSk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXR1cm4gX2lkMjtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgaWYgKCEodHlwZW9mIGlkZW50aWZpZXIgPT09ICdzdHJpbmcnKSkge1xuXHQgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1ZhbHVlIG9mIGFyZ3VtZW50IFwiaWRlbnRpZmllclwiIHZpb2xhdGVzIGNvbnRyYWN0LlxcblxcbkV4cGVjdGVkOlxcbnN0cmluZ1xcblxcbkdvdDpcXG4nICsgX2luc3BlY3QoaWRlbnRpZmllcikpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIE9iamVjdCB8fCB0eXBlb2YgaW5zdGFuY2UgPT09ICdmdW5jdGlvbicpKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVmFsdWUgb2YgYXJndW1lbnQgXCJpbnN0YW5jZVwiIHZpb2xhdGVzIGNvbnRyYWN0LlxcblxcbkV4cGVjdGVkOlxcbk9iamVjdCB8IEZ1bmN0aW9uXFxuXFxuR290OlxcbicgKyBfaW5zcGVjdChpbnN0YW5jZSkpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICB0aGlzLl9zZXJ2aWNlc0J5SWRlbnRpZmllcltpZGVudGlmaWVyXSA9IGluc3RhbmNlO1xuXHRcblx0ICAgICAgcmV0dXJuIF9yZWYyKHRoaXMpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogUmV0dXJucyB0cnVlIGlmIGNvbnRhaW5lciBoYXMgc2VydmljZSwgdGhhdCBpcyBlaXRoZXIgaWY6XG5cdCAgICAgKiAqIGl0IGhhcyBhIHtAbGluayBEZWZpbml0aW9ufVxuXHQgICAgICogKiBpdCBoYXMgYmVlbiBpbnN0YW50aWF0ZWRcblx0ICAgICAqXG5cdCAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWRlbnRpZmllclxuXHQgICAgICpcblx0ICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuXHQgICAgICovXG5cdFxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2hhcycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gaGFzKGlkZW50aWZpZXIpIHtcblx0ICAgICAgZnVuY3Rpb24gX3JlZjMoX2lkMykge1xuXHQgICAgICAgIGlmICghKHR5cGVvZiBfaWQzID09PSAnYm9vbGVhbicpKSB7XG5cdCAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGdW5jdGlvbiByZXR1cm4gdmFsdWUgdmlvbGF0ZXMgY29udHJhY3QuXFxuXFxuRXhwZWN0ZWQ6XFxuYm9vbGVhblxcblxcbkdvdDpcXG4nICsgX2luc3BlY3QoX2lkMykpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmV0dXJuIF9pZDM7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGlmICghKHR5cGVvZiBpZGVudGlmaWVyID09PSAnc3RyaW5nJykpIHtcblx0ICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdWYWx1ZSBvZiBhcmd1bWVudCBcImlkZW50aWZpZXJcIiB2aW9sYXRlcyBjb250cmFjdC5cXG5cXG5FeHBlY3RlZDpcXG5zdHJpbmdcXG5cXG5Hb3Q6XFxuJyArIF9pbnNwZWN0KGlkZW50aWZpZXIpKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmV0dXJuIF9yZWYzKHRoaXMuaGFzRGVmaW5pdGlvbihpZGVudGlmaWVyKSB8fCB0aGlzLmhhc0luc3RhbmNlKGlkZW50aWZpZXIpKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgc2VydmljZSBoYXMgYSBkZWZpbml0aW9uXG5cdCAgICAgKlxuXHQgICAgICogQHBhcmFtIHtzdHJpbmd9IGlkZW50aWZpZXJcblx0ICAgICAqXG5cdCAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cblx0ICAgICAqXG5cdCAgICAgKiBAcHVibGljXG5cdCAgICAgKi9cblx0XG5cdCAgfSwge1xuXHQgICAga2V5OiAnaGFzRGVmaW5pdGlvbicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gaGFzRGVmaW5pdGlvbihpZGVudGlmaWVyKSB7XG5cdCAgICAgIGZ1bmN0aW9uIF9yZWY0KF9pZDQpIHtcblx0ICAgICAgICBpZiAoISh0eXBlb2YgX2lkNCA9PT0gJ2Jvb2xlYW4nKSkge1xuXHQgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRnVuY3Rpb24gcmV0dXJuIHZhbHVlIHZpb2xhdGVzIGNvbnRyYWN0LlxcblxcbkV4cGVjdGVkOlxcbmJvb2xlYW5cXG5cXG5Hb3Q6XFxuJyArIF9pbnNwZWN0KF9pZDQpKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHJldHVybiBfaWQ0O1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAoISh0eXBlb2YgaWRlbnRpZmllciA9PT0gJ3N0cmluZycpKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVmFsdWUgb2YgYXJndW1lbnQgXCJpZGVudGlmaWVyXCIgdmlvbGF0ZXMgY29udHJhY3QuXFxuXFxuRXhwZWN0ZWQ6XFxuc3RyaW5nXFxuXFxuR290OlxcbicgKyBfaW5zcGVjdChpZGVudGlmaWVyKSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHJldHVybiBfcmVmNCh1bmRlZmluZWQgIT09IHRoaXMuX3NlcnZpY2VEZWZpbml0aW9uc0J5SWRlbnRpZmllcltpZGVudGlmaWVyXSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHNlcnZpY2UgaGFzIGFuIGluc3RhbmNlLCBlaXRoZXIgYmVjYXVzZTpcblx0ICAgICAqICogaXQgaGFzIGJlZW4gaW5zdGFudGlhdGVkIHZpYSBpdHMge0BsaW5rIERlZmluaXRpb259XG5cdCAgICAgKiAqIGl0IGhhcyBiZWVuIHNldCBkaXJlY3RseSB2aWEge0BsaW5rIHNldH0gbWV0aG9kXG5cdCAgICAgKlxuXHQgICAgICogQHBhcmFtIHtzdHJpbmd9IGlkZW50aWZpZXJcblx0ICAgICAqXG5cdCAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cblx0ICAgICAqXG5cdCAgICAgKiBAcHVibGljXG5cdCAgICAgKi9cblx0XG5cdCAgfSwge1xuXHQgICAga2V5OiAnaGFzSW5zdGFuY2UnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGhhc0luc3RhbmNlKGlkZW50aWZpZXIpIHtcblx0ICAgICAgZnVuY3Rpb24gX3JlZjUoX2lkNSkge1xuXHQgICAgICAgIGlmICghKHR5cGVvZiBfaWQ1ID09PSAnYm9vbGVhbicpKSB7XG5cdCAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGdW5jdGlvbiByZXR1cm4gdmFsdWUgdmlvbGF0ZXMgY29udHJhY3QuXFxuXFxuRXhwZWN0ZWQ6XFxuYm9vbGVhblxcblxcbkdvdDpcXG4nICsgX2luc3BlY3QoX2lkNSkpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmV0dXJuIF9pZDU7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGlmICghKHR5cGVvZiBpZGVudGlmaWVyID09PSAnc3RyaW5nJykpIHtcblx0ICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdWYWx1ZSBvZiBhcmd1bWVudCBcImlkZW50aWZpZXJcIiB2aW9sYXRlcyBjb250cmFjdC5cXG5cXG5FeHBlY3RlZDpcXG5zdHJpbmdcXG5cXG5Hb3Q6XFxuJyArIF9pbnNwZWN0KGlkZW50aWZpZXIpKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmV0dXJuIF9yZWY1KHVuZGVmaW5lZCAhPT0gdGhpcy5fc2VydmljZXNCeUlkZW50aWZpZXJbaWRlbnRpZmllcl0pO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogR2V0cyBzZXJ2aWNlIHtAbGluayBEZWZpbml0aW9ufSBhc3NvY2lhdGVkIHdpdGggaWRlbnRpZmllclxuXHQgICAgICpcblx0ICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZGVudGlmaWVyXG5cdCAgICAgKlxuXHQgICAgICogQHJldHVybnMge0RlZmluaXRpb259XG5cdCAgICAgKlxuXHQgICAgICogQHRocm93cyB7RXJyb3J9IGlmIHRoZXJlIGlzIG5vIHNlcnZpY2UgZGVmaW5pdGlvbiBmb3IgZ2l2ZW4gaWRlbnRpZmllclxuXHQgICAgICpcblx0ICAgICAqIEBwdWJsaWNcblx0ICAgICAqL1xuXHRcblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXREZWZpbml0aW9uJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREZWZpbml0aW9uKGlkZW50aWZpZXIpIHtcblx0ICAgICAgZnVuY3Rpb24gX3JlZjYoX2lkNikge1xuXHQgICAgICAgIGlmICghKF9pZDYgaW5zdGFuY2VvZiBfZGVmaW5pdGlvbjIuZGVmYXVsdCkpIHtcblx0ICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Z1bmN0aW9uIHJldHVybiB2YWx1ZSB2aW9sYXRlcyBjb250cmFjdC5cXG5cXG5FeHBlY3RlZDpcXG5EZWZpbml0aW9uXFxuXFxuR290OlxcbicgKyBfaW5zcGVjdChfaWQ2KSk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXR1cm4gX2lkNjtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgaWYgKCEodHlwZW9mIGlkZW50aWZpZXIgPT09ICdzdHJpbmcnKSkge1xuXHQgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1ZhbHVlIG9mIGFyZ3VtZW50IFwiaWRlbnRpZmllclwiIHZpb2xhdGVzIGNvbnRyYWN0LlxcblxcbkV4cGVjdGVkOlxcbnN0cmluZ1xcblxcbkdvdDpcXG4nICsgX2luc3BlY3QoaWRlbnRpZmllcikpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICB2YXIgZGVmaW5pdGlvbiA9IHRoaXMuX3NlcnZpY2VEZWZpbml0aW9uc0J5SWRlbnRpZmllcltpZGVudGlmaWVyXTtcblx0XG5cdCAgICAgIGlmICh1bmRlZmluZWQgPT09IGRlZmluaXRpb24pIHtcblx0ICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3Npbmcgc2VydmljZSBkZWZpbml0aW9uIGZvciBpZGVudGlmaWVyIFwiJyArIGlkZW50aWZpZXIgKyAnXCInKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmV0dXJuIF9yZWY2KGRlZmluaXRpb24pO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQXNzb2NpYXRlcyBzZXJ2aWNlIHtAbGluayBEZWZpbml0aW9ufSB3aXRoIGlkZW50aWZpZXJcblx0ICAgICAqXG5cdCAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWRlbnRpZmllciBzZXJ2aWNlIGlkZW50aWZpZXJcblx0ICAgICAqIEBwYXJhbSB7RGVmaW5pdGlvbn0gZGVmaW5pdGlvbiBzZXJ2aWNlIGRlZmluaXRpb25cblx0ICAgICAqXG5cdCAgICAgKiBAcmV0dXJucyB7Q29udGFpbmVyfSBjdXJyZW50IENvbnRhaW5lciBpbnN0YW5jZVxuXHQgICAgICpcblx0ICAgICAqIEBwdWJsaWNcblx0ICAgICAqL1xuXHRcblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzZXREZWZpbml0aW9uJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZXREZWZpbml0aW9uKGlkZW50aWZpZXIsIGRlZmluaXRpb24pIHtcblx0ICAgICAgZnVuY3Rpb24gX3JlZjcoX2lkNykge1xuXHQgICAgICAgIGlmICghKF9pZDcgaW5zdGFuY2VvZiBDb250YWluZXIpKSB7XG5cdCAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGdW5jdGlvbiByZXR1cm4gdmFsdWUgdmlvbGF0ZXMgY29udHJhY3QuXFxuXFxuRXhwZWN0ZWQ6XFxuQ29udGFpbmVyXFxuXFxuR290OlxcbicgKyBfaW5zcGVjdChfaWQ3KSk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXR1cm4gX2lkNztcblx0ICAgICAgfVxuXHRcblx0ICAgICAgaWYgKCEodHlwZW9mIGlkZW50aWZpZXIgPT09ICdzdHJpbmcnKSkge1xuXHQgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1ZhbHVlIG9mIGFyZ3VtZW50IFwiaWRlbnRpZmllclwiIHZpb2xhdGVzIGNvbnRyYWN0LlxcblxcbkV4cGVjdGVkOlxcbnN0cmluZ1xcblxcbkdvdDpcXG4nICsgX2luc3BlY3QoaWRlbnRpZmllcikpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAoIShkZWZpbml0aW9uIGluc3RhbmNlb2YgX2RlZmluaXRpb24yLmRlZmF1bHQpKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVmFsdWUgb2YgYXJndW1lbnQgXCJkZWZpbml0aW9uXCIgdmlvbGF0ZXMgY29udHJhY3QuXFxuXFxuRXhwZWN0ZWQ6XFxuRGVmaW5pdGlvblxcblxcbkdvdDpcXG4nICsgX2luc3BlY3QoZGVmaW5pdGlvbikpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAodGhpcy5fc2VydmljZURlZmluaXRpb25zQWxyZWFkeVVzZWRUb0luc3RhbnRpYXRlQnlJZGVudGlmaWVyW2lkZW50aWZpZXJdKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTZXJ2aWNlIGRlZmluaXRpb24gZm9yIFwiJyArIGlkZW50aWZpZXIgKyAnXCIgaGFzIGFscmVhZHkgYmVlbiB1c2VkIHRvIGluc3RhbnRpYXRlIGEgc2VydmljZSwgcmVmdXNpbmcgdG8gbW9kaWZ5IGl0Jyk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHRoaXMuX3NlcnZpY2VEZWZpbml0aW9uc0FscmVhZHlVc2VkVG9JbnN0YW50aWF0ZUJ5SWRlbnRpZmllcltpZGVudGlmaWVyXSA9IGZhbHNlO1xuXHQgICAgICB0aGlzLl9zZXJ2aWNlRGVmaW5pdGlvbnNCeUlkZW50aWZpZXJbaWRlbnRpZmllcl0gPSBkZWZpbml0aW9uO1xuXHRcblx0ICAgICAgcmV0dXJuIF9yZWY3KHRoaXMpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogR2V0cyBwYXJhbWV0ZXIgYXNzb2NpYXRlZCB3aXRoIGlkZW50aWZpZXJcblx0ICAgICAqXG5cdCAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWRlbnRpZmllciBwYXJhbWV0ZXIgaWRlbnRpZmllclxuXHQgICAgICpcblx0ICAgICAqIEByZXR1cm5zIHtzY2FsYXJ9IHBhcmFtZXRlciB2YWx1ZVxuXHQgICAgICpcblx0ICAgICAqIEBwdWJsaWNcblx0ICAgICAqL1xuXHRcblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRQYXJhbWV0ZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFBhcmFtZXRlcihpZGVudGlmaWVyKSB7XG5cdCAgICAgIGZ1bmN0aW9uIF9yZWY4KF9pZDgpIHtcblx0ICAgICAgICBpZiAoIXNjYWxhcihfaWQ4KSkge1xuXHQgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRnVuY3Rpb24gcmV0dXJuIHZhbHVlIHZpb2xhdGVzIGNvbnRyYWN0LlxcblxcbkV4cGVjdGVkOlxcbnNjYWxhclxcblxcbkdvdDpcXG4nICsgX2luc3BlY3QoX2lkOCkpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmV0dXJuIF9pZDg7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGlmICghKHR5cGVvZiBpZGVudGlmaWVyID09PSAnc3RyaW5nJykpIHtcblx0ICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdWYWx1ZSBvZiBhcmd1bWVudCBcImlkZW50aWZpZXJcIiB2aW9sYXRlcyBjb250cmFjdC5cXG5cXG5FeHBlY3RlZDpcXG5zdHJpbmdcXG5cXG5Hb3Q6XFxuJyArIF9pbnNwZWN0KGlkZW50aWZpZXIpKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gdGhpcy5fcGFyYW1ldGVyc0J5SWRlbnRpZmllcltpZGVudGlmaWVyXSkge1xuXHQgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5kZWZpbmVkIHBhcmFtZXRlciBcIicgKyBpZGVudGlmaWVyICsgJ1wiJyk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHJldHVybiBfcmVmOCh0aGlzLl9wYXJhbWV0ZXJzQnlJZGVudGlmaWVyW2lkZW50aWZpZXJdKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIEFzc29jaWF0ZXMgcGFyYW1ldGVyIHdpdGggaWRlbnRpZmllclxuXHQgICAgICpcblx0ICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZGVudGlmaWVyXG5cdCAgICAgKiBAcGFyYW0ge3NjYWxhcn0gdmFsdWVcblx0ICAgICAqXG5cdCAgICAgKiBAcmV0dXJucyB7Q29udGFpbmVyfSBjdXJyZW50IENvbnRhaW5lciBpbnN0YW5jZVxuXHQgICAgICpcblx0ICAgICAqIEBwdWJsaWNcblx0ICAgICAqL1xuXHRcblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzZXRQYXJhbWV0ZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNldFBhcmFtZXRlcihpZGVudGlmaWVyLCB2YWx1ZSkge1xuXHQgICAgICBmdW5jdGlvbiBfcmVmOShfaWQ5KSB7XG5cdCAgICAgICAgaWYgKCEoX2lkOSBpbnN0YW5jZW9mIENvbnRhaW5lcikpIHtcblx0ICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Z1bmN0aW9uIHJldHVybiB2YWx1ZSB2aW9sYXRlcyBjb250cmFjdC5cXG5cXG5FeHBlY3RlZDpcXG5Db250YWluZXJcXG5cXG5Hb3Q6XFxuJyArIF9pbnNwZWN0KF9pZDkpKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHJldHVybiBfaWQ5O1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAoISh0eXBlb2YgaWRlbnRpZmllciA9PT0gJ3N0cmluZycpKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVmFsdWUgb2YgYXJndW1lbnQgXCJpZGVudGlmaWVyXCIgdmlvbGF0ZXMgY29udHJhY3QuXFxuXFxuRXhwZWN0ZWQ6XFxuc3RyaW5nXFxuXFxuR290OlxcbicgKyBfaW5zcGVjdChpZGVudGlmaWVyKSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGlmICghc2NhbGFyKHZhbHVlKSkge1xuXHQgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1ZhbHVlIG9mIGFyZ3VtZW50IFwidmFsdWVcIiB2aW9sYXRlcyBjb250cmFjdC5cXG5cXG5FeHBlY3RlZDpcXG5zY2FsYXJcXG5cXG5Hb3Q6XFxuJyArIF9pbnNwZWN0KHZhbHVlKSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHRoaXMuX3BhcmFtZXRlcnNCeUlkZW50aWZpZXJbaWRlbnRpZmllcl0gPSB2YWx1ZTtcblx0XG5cdCAgICAgIHJldHVybiBfcmVmOSh0aGlzKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFJldHVybnMgdHJ1ZSBpZiBjb250YWluZXIgaGFzIHBhcmFtZXRlciwgZmFsc2Ugb3RoZXJ3aXNlXG5cdCAgICAgKlxuXHQgICAgICogQHBhcmFtIHtzdHJpbmd9IGlkZW50aWZpZXJcblx0ICAgICAqXG5cdCAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cblx0ICAgICAqL1xuXHRcblx0ICB9LCB7XG5cdCAgICBrZXk6ICdoYXNQYXJhbWV0ZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGhhc1BhcmFtZXRlcihpZGVudGlmaWVyKSB7XG5cdCAgICAgIGZ1bmN0aW9uIF9yZWYxMChfaWQxMCkge1xuXHQgICAgICAgIGlmICghKHR5cGVvZiBfaWQxMCA9PT0gJ2Jvb2xlYW4nKSkge1xuXHQgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRnVuY3Rpb24gcmV0dXJuIHZhbHVlIHZpb2xhdGVzIGNvbnRyYWN0LlxcblxcbkV4cGVjdGVkOlxcbmJvb2xlYW5cXG5cXG5Hb3Q6XFxuJyArIF9pbnNwZWN0KF9pZDEwKSk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXR1cm4gX2lkMTA7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGlmICghKHR5cGVvZiBpZGVudGlmaWVyID09PSAnc3RyaW5nJykpIHtcblx0ICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdWYWx1ZSBvZiBhcmd1bWVudCBcImlkZW50aWZpZXJcIiB2aW9sYXRlcyBjb250cmFjdC5cXG5cXG5FeHBlY3RlZDpcXG5zdHJpbmdcXG5cXG5Hb3Q6XFxuJyArIF9pbnNwZWN0KGlkZW50aWZpZXIpKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmV0dXJuIF9yZWYxMCh1bmRlZmluZWQgIT09IHRoaXMuX3BhcmFtZXRlcnNCeUlkZW50aWZpZXJbaWRlbnRpZmllcl0pO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogUmVnaXN0ZXJzIFxuXHQgICAgICogXG5cdCAgICAgKiBAcGFyYW0ge0xvY2F0b3JDYWxsYmFja30gbG9jYXRvclxuXHQgICAgICpcblx0ICAgICAqIEByZXR1cm5zIHtDb250YWluZXJ9IGN1cnJlbnQgQ29udGFpbmVyIGluc3RhbmNlXG5cdCAgICAgKlxuXHQgICAgICogQHB1YmxpY1xuXHQgICAgICovXG5cdFxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3JlZ2lzdGVyQ2xhc3NDb25zdHJ1Y3RvckxvY2F0b3InLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlZ2lzdGVyQ2xhc3NDb25zdHJ1Y3RvckxvY2F0b3IobG9jYXRvcikge1xuXHQgICAgICBmdW5jdGlvbiBfcmVmMTEoX2lkMTEpIHtcblx0ICAgICAgICBpZiAoIShfaWQxMSBpbnN0YW5jZW9mIENvbnRhaW5lcikpIHtcblx0ICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Z1bmN0aW9uIHJldHVybiB2YWx1ZSB2aW9sYXRlcyBjb250cmFjdC5cXG5cXG5FeHBlY3RlZDpcXG5Db250YWluZXJcXG5cXG5Hb3Q6XFxuJyArIF9pbnNwZWN0KF9pZDExKSk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXR1cm4gX2lkMTE7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGlmICghTG9jYXRvckNhbGxiYWNrKGxvY2F0b3IpKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVmFsdWUgb2YgYXJndW1lbnQgXCJsb2NhdG9yXCIgdmlvbGF0ZXMgY29udHJhY3QuXFxuXFxuRXhwZWN0ZWQ6XFxuTG9jYXRvckNhbGxiYWNrXFxuXFxuR290OlxcbicgKyBfaW5zcGVjdChsb2NhdG9yKSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHRoaXMuX2NsYXNzQ29uc3RydWN0b3JMb2NhdG9ycy5wdXNoKGxvY2F0b3IpO1xuXHRcblx0ICAgICAgcmV0dXJuIF9yZWYxMSh0aGlzKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIEBwYXJhbSB7TG9jYXRvckNhbGxiYWNrfSBsb2NhdG9yXG5cdCAgICAgKlxuXHQgICAgICogQHJldHVybnMge0NvbnRhaW5lcn0gY3VycmVudCBDb250YWluZXIgaW5zdGFuY2Vcblx0ICAgICAqXG5cdCAgICAgKiBAcHVibGljXG5cdCAgICAgKi9cblx0XG5cdCAgfSwge1xuXHQgICAga2V5OiAncmVnaXN0ZXJJbnN0YW5jZUxvY2F0b3InLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlZ2lzdGVySW5zdGFuY2VMb2NhdG9yKGxvY2F0b3IpIHtcblx0ICAgICAgZnVuY3Rpb24gX3JlZjEyKF9pZDEyKSB7XG5cdCAgICAgICAgaWYgKCEoX2lkMTIgaW5zdGFuY2VvZiBDb250YWluZXIpKSB7XG5cdCAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGdW5jdGlvbiByZXR1cm4gdmFsdWUgdmlvbGF0ZXMgY29udHJhY3QuXFxuXFxuRXhwZWN0ZWQ6XFxuQ29udGFpbmVyXFxuXFxuR290OlxcbicgKyBfaW5zcGVjdChfaWQxMikpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmV0dXJuIF9pZDEyO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAoIUxvY2F0b3JDYWxsYmFjayhsb2NhdG9yKSkge1xuXHQgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1ZhbHVlIG9mIGFyZ3VtZW50IFwibG9jYXRvclwiIHZpb2xhdGVzIGNvbnRyYWN0LlxcblxcbkV4cGVjdGVkOlxcbkxvY2F0b3JDYWxsYmFja1xcblxcbkdvdDpcXG4nICsgX2luc3BlY3QobG9jYXRvcikpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICB0aGlzLl9pbnN0YW5jZUxvY2F0b3JzLnB1c2gobG9jYXRvcik7XG5cdFxuXHQgICAgICByZXR1cm4gX3JlZjEyKHRoaXMpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogUmVzb2x2ZXMgc2VydmljZSBkZWZpbml0aW9uIGFyZ3VtZW50cywgdGhlbiB1c2VzIHRoZW0gdG8gaW5zdGFudGlhdGUgdGhlIHNlcnZpY2UuXG5cdCAgICAgKlxuXHQgICAgICogQHBhcmFtIHtEZWZpbml0aW9ufSBkZWZpbml0aW9uXG5cdCAgICAgKiBAcGFyYW0ge0xvYWRpbmdPYmplY3R9IGxvYWRpbmcgYW4gb2JqZWN0IHRoYXQga2VlcHMgdHJhY2sgb2Ygc2VydmljZSBpbnN0YW50aWF0aW9ucyxcblx0ICAgICAqIHVzZWQgdG8gcHJldmVudCBjaXJjdWxhciBkZXBlbmRlbmN5IHJlbGF0ZWQgaW5maW5pdGUgbG9vcHNcblx0ICAgICAqXG5cdCAgICAgKiBAcHJvbWlzZVxuXHQgICAgICogQHJlc29sdmUge09iamVjdH1cblx0ICAgICAqIEByZWplY3Qge0Vycm9yfSBpbiBjYXNlIGEgZmFjdG9yeSBtZXRob2QgcmV0dXJucyBub3RoaW5nXG5cdCAgICAgKiBAcmVqZWN0IHtFcnJvcn0gaW4gY2FzZSBhIG1ldGhvZCBjYWxsIGNhbGxzIGEgbWV0aG9kIHRoYXQgZG9lcyBub3QgZXhpc3Rcblx0ICAgICAqIEByZWplY3Qge0Vycm9yfSBpbiBjYXNlIHRoZSBzZXJ2aWNlIGRlZmluaXRpb25cblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICovXG5cdFxuXHQgIH0sIHtcblx0ICAgIGtleTogJ19pbnN0YW50aWF0ZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2luc3RhbnRpYXRlKGRlZmluaXRpb24sIGxvYWRpbmcpIHtcblx0ICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgICBmdW5jdGlvbiBfcmVmMTMoX2lkMTMpIHtcblx0ICAgICAgICBpZiAoIShfaWQxMyBpbnN0YW5jZW9mIFByb21pc2UpKSB7XG5cdCAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGdW5jdGlvbiByZXR1cm4gdmFsdWUgdmlvbGF0ZXMgY29udHJhY3QuXFxuXFxuRXhwZWN0ZWQ6XFxuUHJvbWlzZTxPYmplY3Q+XFxuXFxuR290OlxcbicgKyBfaW5zcGVjdChfaWQxMykpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmV0dXJuIF9pZDEzO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAoIShkZWZpbml0aW9uIGluc3RhbmNlb2YgX2RlZmluaXRpb24yLmRlZmF1bHQpKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVmFsdWUgb2YgYXJndW1lbnQgXCJkZWZpbml0aW9uXCIgdmlvbGF0ZXMgY29udHJhY3QuXFxuXFxuRXhwZWN0ZWQ6XFxuRGVmaW5pdGlvblxcblxcbkdvdDpcXG4nICsgX2luc3BlY3QoZGVmaW5pdGlvbikpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAoIUxvYWRpbmdPYmplY3QobG9hZGluZykpIHtcblx0ICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdWYWx1ZSBvZiBhcmd1bWVudCBcImxvYWRpbmdcIiB2aW9sYXRlcyBjb250cmFjdC5cXG5cXG5FeHBlY3RlZDpcXG5Mb2FkaW5nT2JqZWN0XFxuXFxuR290OlxcbicgKyBfaW5zcGVjdChsb2FkaW5nKSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHJldHVybiBfcmVmMTModGhpcy5fcmVzb2x2ZUFyZ3MoZGVmaW5pdGlvbi5hcmdzLCBsb2FkaW5nKS50aGVuKGZ1bmN0aW9uIChhcmdzKSB7XG5cdCAgICAgICAgZnVuY3Rpb24gX3JlZjE0KF9pZDE0KSB7XG5cdCAgICAgICAgICBpZiAoIShfaWQxNCBpbnN0YW5jZW9mIFByb21pc2UpKSB7XG5cdCAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Z1bmN0aW9uIHJldHVybiB2YWx1ZSB2aW9sYXRlcyBjb250cmFjdC5cXG5cXG5FeHBlY3RlZDpcXG5Qcm9taXNlXFxuXFxuR290OlxcbicgKyBfaW5zcGVjdChfaWQxNCkpO1xuXHQgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgIHJldHVybiBfaWQxNDtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShhcmdzKSkge1xuXHQgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVmFsdWUgb2YgYXJndW1lbnQgXCJhcmdzXCIgdmlvbGF0ZXMgY29udHJhY3QuXFxuXFxuRXhwZWN0ZWQ6XFxuQXJyYXlcXG5cXG5Hb3Q6XFxuJyArIF9pbnNwZWN0KGFyZ3MpKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHZhciBpbnN0YW5jZSA9IHZvaWQgMDtcblx0XG5cdCAgICAgICAgaWYgKGRlZmluaXRpb24gaW5zdGFuY2VvZiBfY2xhc3NDb25zdHJ1Y3RvckRlZmluaXRpb24yLmRlZmF1bHQpIHtcblx0ICAgICAgICAgIHZhciBjbGFzc0NvbnN0cnVjdG9yID0gX3RoaXMyLl9sb2NhdGVTZXJ2aWNlQ2xhc3NDb25zdHJ1Y3RvcihkZWZpbml0aW9uLmNsYXNzQ29uc3RydWN0b3JJZGVudGlmaWVyKTtcblx0XG5cdCAgICAgICAgICBpbnN0YW5jZSA9IG5ldyAoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuYXBwbHkoY2xhc3NDb25zdHJ1Y3RvciwgW3VuZGVmaW5lZF0uY29uY2F0KGFyZ3MpKSkoKTtcblx0ICAgICAgICB9IGVsc2UgaWYgKGRlZmluaXRpb24gaW5zdGFuY2VvZiBfZmFjdG9yeURlZmluaXRpb24yLmRlZmF1bHQpIHtcblx0ICAgICAgICAgIGluc3RhbmNlID0gZGVmaW5pdGlvbi5mYWN0b3J5LmFwcGx5KHVuZGVmaW5lZCwgYXJncyk7XG5cdFxuXHQgICAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gaW5zdGFuY2UpIHtcblx0ICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RpbmcgZmFjdG9yeSBtZXRob2QgdG8gcmV0dXJuIGEgc2VydmljZScpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAvL1RoZW9yZXRpY2FsbHksIGNhbid0IGhhcHBlbiB3aXRoIGN1cnJlbnQgRGVmaW5pdGlvbiBpbXBsZW1lbnRhdGlvbi5cblx0ICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5zdXBwb3J0ZWQnKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHZhciBtZXRob2RDYWxsc1Byb21pc2VzID0gW107XG5cdFxuXHQgICAgICAgIGRlZmluaXRpb24ubWV0aG9kQ2FsbHMuZm9yRWFjaChmdW5jdGlvbiAobWV0aG9kQ2FsbCkge1xuXHQgICAgICAgICAgaWYgKCEobWV0aG9kQ2FsbCBpbnN0YW5jZW9mIF9tZXRob2RDYWxsMi5kZWZhdWx0KSkge1xuXHQgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdWYWx1ZSBvZiBhcmd1bWVudCBcIm1ldGhvZENhbGxcIiB2aW9sYXRlcyBjb250cmFjdC5cXG5cXG5FeHBlY3RlZDpcXG5NZXRob2RDYWxsXFxuXFxuR290OlxcbicgKyBfaW5zcGVjdChtZXRob2RDYWxsKSk7XG5cdCAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgdmFyIG1ldGhvZE5hbWUgPSBtZXRob2RDYWxsLm5hbWU7XG5cdCAgICAgICAgICB2YXIgbWV0aG9kID0gaW5zdGFuY2VbbWV0aG9kTmFtZV07XG5cdFxuXHQgICAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gbWV0aG9kKSB7XG5cdCAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWV0aG9kIFwiJyArIG1ldGhvZE5hbWUgKyAnXCIgZG9lcyBub3QgZXhpc3QnKTtcblx0ICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICBtZXRob2RDYWxsc1Byb21pc2VzLnB1c2goX3RoaXMyLl9yZXNvbHZlQXJncyhtZXRob2RDYWxsLmFyZ3MsIGxvYWRpbmcpLnRoZW4oZnVuY3Rpb24gKGFyZ3MpIHtcblx0ICAgICAgICAgICAgZnVuY3Rpb24gX3JlZjE2KF9pZDE2KSB7XG5cdCAgICAgICAgICAgICAgaWYgKCEoX2lkMTYgPT0gbnVsbCB8fCBfaWQxNiBpbnN0YW5jZW9mIFByb21pc2UpKSB7XG5cdCAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGdW5jdGlvbiByZXR1cm4gdmFsdWUgdmlvbGF0ZXMgY29udHJhY3QuXFxuXFxuRXhwZWN0ZWQ6XFxuP1Byb21pc2UgfCBtaXhlZFxcblxcbkdvdDpcXG4nICsgX2luc3BlY3QoX2lkMTYpKTtcblx0ICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgIHJldHVybiBfaWQxNjtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGFyZ3MpKSB7XG5cdCAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVmFsdWUgb2YgYXJndW1lbnQgXCJhcmdzXCIgdmlvbGF0ZXMgY29udHJhY3QuXFxuXFxuRXhwZWN0ZWQ6XFxuQXJyYXlcXG5cXG5Hb3Q6XFxuJyArIF9pbnNwZWN0KGFyZ3MpKTtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIF9yZWYxNihtZXRob2QuYXBwbHkoaW5zdGFuY2UsIGFyZ3MpKTtcblx0ICAgICAgICAgIH0pKTtcblx0ICAgICAgICB9KTtcblx0XG5cdCAgICAgICAgcmV0dXJuIF9yZWYxNChQcm9taXNlLmFsbChtZXRob2RDYWxsc1Byb21pc2VzKS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgIGZ1bmN0aW9uIF9yZWYxNyhfaWQxNykge1xuXHQgICAgICAgICAgICBpZiAoIShfaWQxNyBpbnN0YW5jZW9mIE9iamVjdCkpIHtcblx0ICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGdW5jdGlvbiByZXR1cm4gdmFsdWUgdmlvbGF0ZXMgY29udHJhY3QuXFxuXFxuRXhwZWN0ZWQ6XFxuT2JqZWN0XFxuXFxuR290OlxcbicgKyBfaW5zcGVjdChfaWQxNykpO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gX2lkMTc7XG5cdCAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgcmV0dXJuIF9yZWYxNyhpbnN0YW5jZSk7XG5cdCAgICAgICAgfSkpO1xuXHQgICAgICB9KSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBVc2VkIGludGVybmFsbHkgdG8gbG9jYXRlIGEgc2VydmljZSBjbGFzcyBjb25zdHJ1Y3RvciwgaWYgaXQgaGFzIGJlZW4gbWFkZSBhdmFpbGFibGUgdG8gdGhlIGNvbnRhaW5lciBpbnN0YW5jZS5cblx0ICAgICAqXG5cdCAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWRlbnRpZmllclxuXHQgICAgICpcblx0ICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gYSBzZXJ2aWNlIGNsYXNzIGNvbnN0cnVjdG9yXG5cdCAgICAgKlxuXHQgICAgICogQHRocm93cyB7RXJyb3J9IGlmIHRoZSBjbGFzcyBjb25zdHJ1Y3RvciBjb3VsZCBub3QgYmUgZm91bmRcblx0ICAgICAqXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICovXG5cdFxuXHQgIH0sIHtcblx0ICAgIGtleTogJ19sb2NhdGVTZXJ2aWNlQ2xhc3NDb25zdHJ1Y3RvcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2xvY2F0ZVNlcnZpY2VDbGFzc0NvbnN0cnVjdG9yKGlkZW50aWZpZXIpIHtcblx0ICAgICAgZnVuY3Rpb24gX3JlZjE4KF9pZDE4KSB7XG5cdCAgICAgICAgaWYgKCEodHlwZW9mIF9pZDE4ID09PSAnZnVuY3Rpb24nKSkge1xuXHQgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRnVuY3Rpb24gcmV0dXJuIHZhbHVlIHZpb2xhdGVzIGNvbnRyYWN0LlxcblxcbkV4cGVjdGVkOlxcbkZ1bmN0aW9uXFxuXFxuR290OlxcbicgKyBfaW5zcGVjdChfaWQxOCkpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmV0dXJuIF9pZDE4O1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAoISh0eXBlb2YgaWRlbnRpZmllciA9PT0gJ3N0cmluZycpKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVmFsdWUgb2YgYXJndW1lbnQgXCJpZGVudGlmaWVyXCIgdmlvbGF0ZXMgY29udHJhY3QuXFxuXFxuRXhwZWN0ZWQ6XFxuc3RyaW5nXFxuXFxuR290OlxcbicgKyBfaW5zcGVjdChpZGVudGlmaWVyKSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHZhciBpID0gdm9pZCAwO1xuXHQgICAgICB2YXIgY2xhc3NDb25zdHJ1Y3RvciA9IHZvaWQgMDtcblx0XG5cdCAgICAgIGZvciAoaSBpbiB0aGlzLl9jbGFzc0NvbnN0cnVjdG9yTG9jYXRvcnMpIHtcblx0ICAgICAgICBpZiAodGhpcy5fY2xhc3NDb25zdHJ1Y3RvckxvY2F0b3JzLmhhc093blByb3BlcnR5KGkpKSB7XG5cdCAgICAgICAgICBjbGFzc0NvbnN0cnVjdG9yID0gdGhpcy5fY2xhc3NDb25zdHJ1Y3RvckxvY2F0b3JzW2ldKGlkZW50aWZpZXIpO1xuXHRcblx0ICAgICAgICAgIGlmICh1bmRlZmluZWQgIT09IGNsYXNzQ29uc3RydWN0b3IpIHtcblx0ICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAodW5kZWZpbmVkID09PSBjbGFzc0NvbnN0cnVjdG9yKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb3VsZCBub3QgbG9jYXRlIHNlcnZpY2UgY2xhc3MgY29uc3RydWN0b3IgZm9yIGlkZW50aWZpZXIgXCInICsgaWRlbnRpZmllciArICdcIicpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICByZXR1cm4gX3JlZjE4KGNsYXNzQ29uc3RydWN0b3IpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQHBhcmFtIHtzdHJpbmd9IGlkZW50aWZpZXJcblx0ICAgICAqXG5cdCAgICAgKiBAcmV0dXJucyB7T2JqZWN0fHZvaWR9XG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqL1xuXHRcblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfbG9jYXRlSW5zdGFuY2UnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9sb2NhdGVJbnN0YW5jZShpZGVudGlmaWVyKSB7XG5cdCAgICAgIGZ1bmN0aW9uIF9yZWYxOShfaWQxOSkge1xuXHQgICAgICAgIGlmICghKF9pZDE5IGluc3RhbmNlb2YgT2JqZWN0IHx8IF9pZDE5ID09IG51bGwpKSB7XG5cdCAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGdW5jdGlvbiByZXR1cm4gdmFsdWUgdmlvbGF0ZXMgY29udHJhY3QuXFxuXFxuRXhwZWN0ZWQ6XFxuT2JqZWN0IHwgdm9pZFxcblxcbkdvdDpcXG4nICsgX2luc3BlY3QoX2lkMTkpKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHJldHVybiBfaWQxOTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgaWYgKCEodHlwZW9mIGlkZW50aWZpZXIgPT09ICdzdHJpbmcnKSkge1xuXHQgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1ZhbHVlIG9mIGFyZ3VtZW50IFwiaWRlbnRpZmllclwiIHZpb2xhdGVzIGNvbnRyYWN0LlxcblxcbkV4cGVjdGVkOlxcbnN0cmluZ1xcblxcbkdvdDpcXG4nICsgX2luc3BlY3QoaWRlbnRpZmllcikpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICB2YXIgaSA9IHZvaWQgMDtcblx0ICAgICAgdmFyIGluc3RhbmNlID0gdm9pZCAwO1xuXHRcblx0ICAgICAgZm9yIChpIGluIHRoaXMuX2luc3RhbmNlTG9jYXRvcnMpIHtcblx0ICAgICAgICBpZiAodGhpcy5faW5zdGFuY2VMb2NhdG9ycy5oYXNPd25Qcm9wZXJ0eShpKSkge1xuXHQgICAgICAgICAgaW5zdGFuY2UgPSB0aGlzLl9pbnN0YW5jZUxvY2F0b3JzW2ldKGlkZW50aWZpZXIpO1xuXHRcblx0ICAgICAgICAgIGlmICh1bmRlZmluZWQgIT09IGluc3RhbmNlKSB7XG5cdCAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmV0dXJuIF9yZWYxOShpbnN0YW5jZSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBSZXNvbHZlcyBnaXZlbiBhcmd1bWVudHMuXG5cdCAgICAgKlxuXHQgICAgICogQHBhcmFtIHtJbmplY3RhYmxlQXJndW1lbnRzfSBhcmdzXG5cdCAgICAgKiBAcGFyYW0ge0xvYWRpbmdPYmplY3R9IGxvYWRpbmcgYW4gb2JqZWN0IHRoYXQga2VlcHMgdHJhY2sgb2Ygc2VydmljZSBpbnN0YW50aWF0aW9ucyxcblx0ICAgICAqIHVzZWQgdG8gcHJldmVudCBjaXJjdWxhciBkZXBlbmRlbmN5IHJlbGF0ZWQgaW5maW5pdGUgbG9vcHNcblx0ICAgICAqXG5cdCAgICAgKiBAcHJvbWlzZVxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKi9cblx0XG5cdCAgfSwge1xuXHQgICAga2V5OiAnX3Jlc29sdmVBcmdzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVzb2x2ZUFyZ3MoYXJncywgbG9hZGluZykge1xuXHQgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblx0XG5cdCAgICAgIGZ1bmN0aW9uIF9yZWYyMChfaWQyMCkge1xuXHQgICAgICAgIGlmICghKF9pZDIwIGluc3RhbmNlb2YgUHJvbWlzZSkpIHtcblx0ICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Z1bmN0aW9uIHJldHVybiB2YWx1ZSB2aW9sYXRlcyBjb250cmFjdC5cXG5cXG5FeHBlY3RlZDpcXG5Qcm9taXNlXFxuXFxuR290OlxcbicgKyBfaW5zcGVjdChfaWQyMCkpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmV0dXJuIF9pZDIwO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAoIUluamVjdGFibGVBcmd1bWVudHMoYXJncykpIHtcblx0ICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdWYWx1ZSBvZiBhcmd1bWVudCBcImFyZ3NcIiB2aW9sYXRlcyBjb250cmFjdC5cXG5cXG5FeHBlY3RlZDpcXG5JbmplY3RhYmxlQXJndW1lbnRzXFxuXFxuR290OlxcbicgKyBfaW5zcGVjdChhcmdzKSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGlmICghTG9hZGluZ09iamVjdChsb2FkaW5nKSkge1xuXHQgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1ZhbHVlIG9mIGFyZ3VtZW50IFwibG9hZGluZ1wiIHZpb2xhdGVzIGNvbnRyYWN0LlxcblxcbkV4cGVjdGVkOlxcbkxvYWRpbmdPYmplY3RcXG5cXG5Hb3Q6XFxuJyArIF9pbnNwZWN0KGxvYWRpbmcpKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgdmFyIHByb21pc2VzID0gW107XG5cdFxuXHQgICAgICBhcmdzLmZvckVhY2goZnVuY3Rpb24gKGFyZykge1xuXHQgICAgICAgIGlmIChhcmcgaW5zdGFuY2VvZiBfcmVmZXJlbmNlMi5kZWZhdWx0KSB7XG5cdCAgICAgICAgICB2YXIgaWQgPSBhcmcuaWQ7XG5cdFxuXHQgICAgICAgICAgcHJvbWlzZXMucHVzaChfdGhpczMuX2RvR2V0U2VydmljZShpZCwgQ29udGFpbmVyLl9kZWVwQ29weUxvYWRpbmcobG9hZGluZykpKTtcblx0ICAgICAgICB9IGVsc2UgaWYgKGFyZyBpbnN0YW5jZW9mIF9wYXJhbWV0ZXIyLmRlZmF1bHQpIHtcblx0ICAgICAgICAgIHByb21pc2VzLnB1c2goX3RoaXMzLmdldFBhcmFtZXRlcihhcmcuaWQpKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbnN1cHBvcnRlZCBhcmcgb2YgdHlwZSBcIicgKyAodHlwZW9mIGFyZyA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YoYXJnKSkgKyAnXCInKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgcmV0dXJuIF9yZWYyMChQcm9taXNlLmFsbChwcm9taXNlcykpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQHBhcmFtIHtzdHJpbmd9IGlkZW50aWZpZXJcblx0ICAgICAqXG5cdCAgICAgKiBAcmV0dXJucyB7RXJyb3J9XG5cdCAgICAgKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqL1xuXHRcblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfZG9HZXRTZXJ2aWNlJyxcblx0XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBVc2VkIGludGVybmFsbHkgdG8gcmV0cmlldmUgYSBzZXJ2aWNlIGJ5IGl0cyBpZGVudGlmaWVyLlxuXHQgICAgICpcblx0ICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZGVudGlmaWVyIHRoZSBpZGVudGlmaWVyIG9mIHRoZSBzZXJ2aWNlXG5cdCAgICAgKiBAcGFyYW0ge0xvYWRpbmdPYmplY3R9IGxvYWRpbmcgYW4gb2JqZWN0IHRoYXQga2VlcHMgdHJhY2sgb2Ygc2VydmljZSBpbnN0YW50aWF0aW9ucyxcblx0ICAgICAqIHVzZWQgdG8gcHJldmVudCBjaXJjdWxhciBkZXBlbmRlbmN5IHJlbGF0ZWQgaW5maW5pdGUgbG9vcHNcblx0ICAgICAqXG5cdCAgICAgKiBAcHJvbWlzZVxuXHQgICAgICogQHJlc29sdmUgeyp9IGEgc2VydmljZSB0aGF0IGNvdWxkIGJlIG9mIGFueSB0eXBlXG5cdCAgICAgKiBAcmVqZWN0IHtFcnJvcn0gaW4gY2FzZSB0aGUgc2VydmljZSBpcyB1bmRlZmluZWRcblx0ICAgICAqIEByZWplY3Qge0Vycm9yfSBpbiBjYXNlIG9mIGEgY2lyY3VsYXIgZGVwZW5kZW5jeVxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKi9cblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfZG9HZXRTZXJ2aWNlKGlkZW50aWZpZXIsIGxvYWRpbmcpIHtcblx0ICAgICAgZnVuY3Rpb24gX3JlZjIyKF9pZDIyKSB7XG5cdCAgICAgICAgaWYgKCEoX2lkMjIgaW5zdGFuY2VvZiBQcm9taXNlKSkge1xuXHQgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRnVuY3Rpb24gcmV0dXJuIHZhbHVlIHZpb2xhdGVzIGNvbnRyYWN0LlxcblxcbkV4cGVjdGVkOlxcblByb21pc2VcXG5cXG5Hb3Q6XFxuJyArIF9pbnNwZWN0KF9pZDIyKSk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXR1cm4gX2lkMjI7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGlmICghKHR5cGVvZiBpZGVudGlmaWVyID09PSAnc3RyaW5nJykpIHtcblx0ICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdWYWx1ZSBvZiBhcmd1bWVudCBcImlkZW50aWZpZXJcIiB2aW9sYXRlcyBjb250cmFjdC5cXG5cXG5FeHBlY3RlZDpcXG5zdHJpbmdcXG5cXG5Hb3Q6XFxuJyArIF9pbnNwZWN0KGlkZW50aWZpZXIpKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgaWYgKCFMb2FkaW5nT2JqZWN0KGxvYWRpbmcpKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVmFsdWUgb2YgYXJndW1lbnQgXCJsb2FkaW5nXCIgdmlvbGF0ZXMgY29udHJhY3QuXFxuXFxuRXhwZWN0ZWQ6XFxuTG9hZGluZ09iamVjdFxcblxcbkdvdDpcXG4nICsgX2luc3BlY3QobG9hZGluZykpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAodW5kZWZpbmVkICE9PSBsb2FkaW5nLm9ialtpZGVudGlmaWVyXSkge1xuXHQgICAgICAgIHZhciBwYXRoID0gW10uY29uY2F0KGxvYWRpbmcuYXJyKS5jb25jYXQoW2lkZW50aWZpZXJdKS5yZXZlcnNlKCkuam9pbignIDwtICcpO1xuXHRcblx0ICAgICAgICByZXR1cm4gX3JlZjIyKFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignQ2lyY3VsYXIgZGVwZW5kZW5jeSBmb3VuZDogJyArIHBhdGggKyAnJykpKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgaWYgKCF0aGlzLmhhc0luc3RhbmNlKGlkZW50aWZpZXIpKSB7XG5cdCAgICAgICAgaWYgKCF0aGlzLmhhc0RlZmluaXRpb24oaWRlbnRpZmllcikpIHtcblx0ICAgICAgICAgIHZhciByZXN1bHQgPSB0aGlzLl9sb2NhdGVJbnN0YW5jZShpZGVudGlmaWVyKTtcblx0XG5cdCAgICAgICAgICBpZiAodW5kZWZpbmVkICE9PSByZXN1bHQpIHtcblx0ICAgICAgICAgICAgLyoqXG5cdCAgICAgICAgICAgICAqIEluIGNhc2UgbG9jYXRlIGluc3RhbmNlIHJldHVybnMgYSBwcm9taXNlLCByZXNvbHZlIHByb21pc2Vcblx0ICAgICAgICAgICAgICovXG5cdCAgICAgICAgICAgIHJldHVybiBfcmVmMjIoUHJvbWlzZS5yZXNvbHZlKHJlc3VsdCkudGhlbihmdW5jdGlvbiAoaW5zdGFuY2UpIHtcblx0ICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICAgICAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gaW5zdGFuY2UpIHtcblx0ICAgICAgICAgICAgICAgICAgcmVqZWN0KENvbnRhaW5lci5fY3JlYXRlTWlzc2luZ1NlcnZpY2VEZWZpbml0aW9uQW5kSW5zdGFuY2VGb3JJZGVudGlmaWVyRXJyb3IoaWRlbnRpZmllcikpO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgcmVzb2x2ZShpbnN0YW5jZSk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH0pKTtcblx0ICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICByZXR1cm4gX3JlZjIyKFByb21pc2UucmVqZWN0KENvbnRhaW5lci5fY3JlYXRlTWlzc2luZ1NlcnZpY2VEZWZpbml0aW9uQW5kSW5zdGFuY2VGb3JJZGVudGlmaWVyRXJyb3IoaWRlbnRpZmllcikpKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGxvYWRpbmcub2JqW2lkZW50aWZpZXJdID0gdHJ1ZTtcblx0ICAgICAgICBsb2FkaW5nLmFyci5wdXNoKGlkZW50aWZpZXIpO1xuXHRcblx0ICAgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuX2luc3RhbnRpYXRlKHRoaXMuZ2V0RGVmaW5pdGlvbihpZGVudGlmaWVyKSwgbG9hZGluZyk7XG5cdFxuXHQgICAgICAgIHRoaXMuX3NlcnZpY2VEZWZpbml0aW9uc0FscmVhZHlVc2VkVG9JbnN0YW50aWF0ZUJ5SWRlbnRpZmllcltpZGVudGlmaWVyXSA9IHRydWU7XG5cdFxuXHQgICAgICAgIHRoaXMuX3NlcnZpY2VzQnlJZGVudGlmaWVyW2lkZW50aWZpZXJdID0gcHJvbWlzZTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmV0dXJuIF9yZWYyMihQcm9taXNlLnJlc29sdmUodGhpcy5fc2VydmljZXNCeUlkZW50aWZpZXJbaWRlbnRpZmllcl0pKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIE1ha2VzIGEgZGVlcCBjb3B5IG9mIGxvYWRpbmcgb2JqZWN0IHNvIGFzIG5vdCB0byBtb2RpZnkgaXQgYnkgcmVmZXJlbmNlLlxuXHQgICAgICpcblx0ICAgICAqIEBwYXJhbSB7T2JqZWN0fSBsb2FkaW5nXG5cdCAgICAgKlxuXHQgICAgICogQHJldHVybnMge09iamVjdH0gbG9hZGluZyBhIGRlZXAgY29weSBvZiB0aGUgb3JpZ2luYWwgbG9hZGluZyBwYXJhbWV0ZXJcblx0ICAgICAqIEByZXR1cm5zIHtPYmplY3Q8c3RyaW5nLCBib29sZWFuPn0gbG9hZGluZy5vYmpcblx0ICAgICAqIEByZXR1cm5zIHtBcnJheTxzdHJpbmc+fSBsb2FkaW5nLmFyclxuXHQgICAgICpcblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKi9cblx0XG5cdCAgfV0sIFt7XG5cdCAgICBrZXk6ICdfY3JlYXRlTWlzc2luZ1NlcnZpY2VEZWZpbml0aW9uQW5kSW5zdGFuY2VGb3JJZGVudGlmaWVyRXJyb3InLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9jcmVhdGVNaXNzaW5nU2VydmljZURlZmluaXRpb25BbmRJbnN0YW5jZUZvcklkZW50aWZpZXJFcnJvcihpZGVudGlmaWVyKSB7XG5cdCAgICAgIGlmICghKHR5cGVvZiBpZGVudGlmaWVyID09PSAnc3RyaW5nJykpIHtcblx0ICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdWYWx1ZSBvZiBhcmd1bWVudCBcImlkZW50aWZpZXJcIiB2aW9sYXRlcyBjb250cmFjdC5cXG5cXG5FeHBlY3RlZDpcXG5zdHJpbmdcXG5cXG5Hb3Q6XFxuJyArIF9pbnNwZWN0KGlkZW50aWZpZXIpKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmV0dXJuIG5ldyBFcnJvcignTWlzc2luZyBzZXJ2aWNlIGRlZmluaXRpb24gYW5kIGluc3RhbmNlIGZvciBpZGVudGlmaWVyIFwiJyArIGlkZW50aWZpZXIgKyAnXCInKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdfZGVlcENvcHlMb2FkaW5nJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfZGVlcENvcHlMb2FkaW5nKGxvYWRpbmcpIHtcblx0ICAgICAgaWYgKCEobG9hZGluZyBpbnN0YW5jZW9mIE9iamVjdCkpIHtcblx0ICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdWYWx1ZSBvZiBhcmd1bWVudCBcImxvYWRpbmdcIiB2aW9sYXRlcyBjb250cmFjdC5cXG5cXG5FeHBlY3RlZDpcXG5PYmplY3RcXG5cXG5Hb3Q6XFxuJyArIF9pbnNwZWN0KGxvYWRpbmcpKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgdmFyIG5ld0xvYWRpbmcgPSB7XG5cdCAgICAgICAgb2JqOiB7fSxcblx0ICAgICAgICBhcnI6IFtdLmNvbmNhdChsb2FkaW5nLmFycilcblx0ICAgICAgfTtcblx0XG5cdCAgICAgIGZvciAodmFyIGkgaW4gbG9hZGluZy5vYmopIHtcblx0ICAgICAgICBpZiAobG9hZGluZy5vYmouaGFzT3duUHJvcGVydHkoaSkpIHtcblx0ICAgICAgICAgIG5ld0xvYWRpbmcub2JqW2ldID0gbG9hZGluZy5vYmpbaV07XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdFxuXHQgICAgICByZXR1cm4gbmV3TG9hZGluZztcblx0ICAgIH1cblx0ICB9XSk7XG5cdFxuXHQgIHJldHVybiBDb250YWluZXI7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IENvbnRhaW5lcjtcblx0XG5cdGZ1bmN0aW9uIF9pbnNwZWN0KGlucHV0LCBkZXB0aCkge1xuXHQgIHZhciBtYXhEZXB0aCA9IDQ7XG5cdCAgdmFyIG1heEtleXMgPSAxNTtcblxuXHQgIGlmIChkZXB0aCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICBkZXB0aCA9IDA7XG5cdCAgfVxuXG5cdCAgZGVwdGggKz0gMTtcblxuXHQgIGlmIChpbnB1dCA9PT0gbnVsbCkge1xuXHQgICAgcmV0dXJuICdudWxsJztcblx0ICB9IGVsc2UgaWYgKGlucHV0ID09PSB1bmRlZmluZWQpIHtcblx0ICAgIHJldHVybiAndm9pZCc7XG5cdCAgfSBlbHNlIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBpbnB1dCA9PT0gJ251bWJlcicgfHwgdHlwZW9mIGlucHV0ID09PSAnYm9vbGVhbicpIHtcblx0ICAgIHJldHVybiB0eXBlb2YgaW5wdXQgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKGlucHV0KTtcblx0ICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoaW5wdXQpKSB7XG5cdCAgICBpZiAoaW5wdXQubGVuZ3RoID4gMCkge1xuXHQgICAgICB2YXIgX3JldCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBpZiAoZGVwdGggPiBtYXhEZXB0aCkgcmV0dXJuIHtcblx0ICAgICAgICAgICAgdjogJ1suLi5dJ1xuXHQgICAgICAgICAgfTtcblxuXHQgICAgICAgIHZhciBmaXJzdCA9IF9pbnNwZWN0KGlucHV0WzBdLCBkZXB0aCk7XG5cblx0ICAgICAgICBpZiAoaW5wdXQuZXZlcnkoZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgICAgICAgIHJldHVybiBfaW5zcGVjdChpdGVtLCBkZXB0aCkgPT09IGZpcnN0O1xuXHQgICAgICAgIH0pKSB7XG5cdCAgICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgICB2OiBmaXJzdC50cmltKCkgKyAnW10nXG5cdCAgICAgICAgICB9O1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgICB2OiAnWycgKyBpbnB1dC5zbGljZSgwLCBtYXhLZXlzKS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgICAgICAgICAgICByZXR1cm4gX2luc3BlY3QoaXRlbSwgZGVwdGgpO1xuXHQgICAgICAgICAgICB9KS5qb2luKCcsICcpICsgKGlucHV0Lmxlbmd0aCA+PSBtYXhLZXlzID8gJywgLi4uJyA6ICcnKSArICddJ1xuXHQgICAgICAgICAgfTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0oKTtcblxuXHQgICAgICBpZiAoKHR5cGVvZiBfcmV0ID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihfcmV0KSkgPT09IFwib2JqZWN0XCIpIHJldHVybiBfcmV0LnY7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gJ0FycmF5Jztcblx0ICAgIH1cblx0ICB9IGVsc2Uge1xuXHQgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhpbnB1dCk7XG5cblx0ICAgIGlmICgha2V5cy5sZW5ndGgpIHtcblx0ICAgICAgaWYgKGlucHV0LmNvbnN0cnVjdG9yICYmIGlucHV0LmNvbnN0cnVjdG9yLm5hbWUgJiYgaW5wdXQuY29uc3RydWN0b3IubmFtZSAhPT0gJ09iamVjdCcpIHtcblx0ICAgICAgICByZXR1cm4gaW5wdXQuY29uc3RydWN0b3IubmFtZTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gJ09iamVjdCc7XG5cdCAgICAgIH1cblx0ICAgIH1cblxuXHQgICAgaWYgKGRlcHRoID4gbWF4RGVwdGgpIHJldHVybiAney4uLn0nO1xuXHQgICAgdmFyIGluZGVudCA9ICcgICcucmVwZWF0KGRlcHRoIC0gMSk7XG5cdCAgICB2YXIgZW50cmllcyA9IGtleXMuc2xpY2UoMCwgbWF4S2V5cykubWFwKGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgICAgcmV0dXJuICgvXihbQS1aXyRdW0EtWjAtOV8kXSopJC9pLnRlc3Qoa2V5KSA/IGtleSA6IEpTT04uc3RyaW5naWZ5KGtleSkpICsgJzogJyArIF9pbnNwZWN0KGlucHV0W2tleV0sIGRlcHRoKSArICc7Jztcblx0ICAgIH0pLmpvaW4oJ1xcbiAgJyArIGluZGVudCk7XG5cblx0ICAgIGlmIChrZXlzLmxlbmd0aCA+PSBtYXhLZXlzKSB7XG5cdCAgICAgIGVudHJpZXMgKz0gJ1xcbiAgJyArIGluZGVudCArICcuLi4nO1xuXHQgICAgfVxuXG5cdCAgICBpZiAoaW5wdXQuY29uc3RydWN0b3IgJiYgaW5wdXQuY29uc3RydWN0b3IubmFtZSAmJiBpbnB1dC5jb25zdHJ1Y3Rvci5uYW1lICE9PSAnT2JqZWN0Jykge1xuXHQgICAgICByZXR1cm4gaW5wdXQuY29uc3RydWN0b3IubmFtZSArICcge1xcbiAgJyArIGluZGVudCArIGVudHJpZXMgKyAnXFxuJyArIGluZGVudCArICd9Jztcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiAne1xcbiAgJyArIGluZGVudCArIGVudHJpZXMgKyAnXFxuJyArIGluZGVudCArICd9Jztcblx0ICAgIH1cblx0ICB9XG5cdH1cblxuLyoqKi8gfSxcbi8qIDIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblx0XG5cdHZhciBfbWV0aG9kQ2FsbCA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX21ldGhvZENhbGwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWV0aG9kQ2FsbCk7XG5cdFxuXHR2YXIgX2luamVjdGFibGVBcmd1bWVudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHR2YXIgSW5qZWN0YWJsZUFyZ3VtZW50cyA9IF9pbmplY3RhYmxlQXJndW1lbnRzLkluamVjdGFibGVBcmd1bWVudHM7XG5cdFxuXHQvKipcblx0ICogQGF1dGhvciBCZW5qYW1pbiBNaWNoYWxza2kgPGJlbmphbWluLm1pY2hhbHNraUBnbWFpbC5jb20+XG5cdCAqXG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRcblx0dmFyIERlZmluaXRpb24gPSBmdW5jdGlvbiAoKSB7XG5cdFxuXHQgIC8qKlxuXHQgICAqIENvbnN0cnVjdG9yXG5cdCAgICpcblx0ICAgKiBAcGFyYW0gez9JbmplY3RhYmxlQXJndW1lbnRzfSBbYXJncz1bXV1cblx0ICAgKi9cblx0ICBmdW5jdGlvbiBEZWZpbml0aW9uKCkge1xuXHQgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IFtdO1xuXHRcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEZWZpbml0aW9uKTtcblx0XG5cdCAgICBpZiAoIShhcmdzID09IG51bGwgfHwgSW5qZWN0YWJsZUFyZ3VtZW50cyhhcmdzKSkpIHtcblx0ICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVmFsdWUgb2YgYXJndW1lbnQgXCJhcmdzXCIgdmlvbGF0ZXMgY29udHJhY3QuXFxuXFxuRXhwZWN0ZWQ6XFxuP0luamVjdGFibGVBcmd1bWVudHNcXG5cXG5Hb3Q6XFxuJyArIF9pbnNwZWN0KGFyZ3MpKTtcblx0ICAgIH1cblx0XG5cdCAgICB0aGlzLl9tZXRob2RDYWxscyA9IFtdO1xuXHQgICAgdGhpcy5fYXJncyA9IGFyZ3M7XG5cdCAgfVxuXHRcblx0ICAvKipcblx0ICAgKiBTZXRzIG1ldGhvZENhbGxzXG5cdCAgICpcblx0ICAgKiBAcGFyYW0ge0FycmF5PE1ldGhvZENhbGw+fSBtZXRob2RDYWxsc1xuXHQgICAqL1xuXHRcblx0XG5cdCAgX2NyZWF0ZUNsYXNzKERlZmluaXRpb24sIFt7XG5cdCAgICBrZXk6ICdtZXRob2RDYWxscycsXG5cdCAgICBzZXQ6IGZ1bmN0aW9uIHNldChtZXRob2RDYWxscykge1xuXHQgICAgICBpZiAoIShBcnJheS5pc0FycmF5KG1ldGhvZENhbGxzKSAmJiBtZXRob2RDYWxscy5ldmVyeShmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgICAgIHJldHVybiBpdGVtIGluc3RhbmNlb2YgX21ldGhvZENhbGwyLmRlZmF1bHQ7XG5cdCAgICAgIH0pKSkge1xuXHQgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1ZhbHVlIG9mIGFyZ3VtZW50IFwibWV0aG9kQ2FsbHNcIiB2aW9sYXRlcyBjb250cmFjdC5cXG5cXG5FeHBlY3RlZDpcXG5BcnJheTxNZXRob2RDYWxsPlxcblxcbkdvdDpcXG4nICsgX2luc3BlY3QobWV0aG9kQ2FsbHMpKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgdGhpcy5fbWV0aG9kQ2FsbHMgPSBtZXRob2RDYWxscztcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIEdldHMgbWV0aG9kQ2FsbHNcblx0ICAgICAqXG5cdCAgICAgKiBAcmV0dXJucyB7QXJyYXk8TWV0aG9kQ2FsbD59XG5cdCAgICAgKi9cblx0ICAgICxcblx0ICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICBmdW5jdGlvbiBfcmVmMihfaWQyKSB7XG5cdCAgICAgICAgaWYgKCEoQXJyYXkuaXNBcnJheShfaWQyKSAmJiBfaWQyLmV2ZXJ5KGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICAgICAgICByZXR1cm4gaXRlbSBpbnN0YW5jZW9mIF9tZXRob2RDYWxsMi5kZWZhdWx0O1xuXHQgICAgICAgIH0pKSkge1xuXHQgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRnVuY3Rpb24gcmV0dXJuIHZhbHVlIHZpb2xhdGVzIGNvbnRyYWN0LlxcblxcbkV4cGVjdGVkOlxcbkFycmF5PE1ldGhvZENhbGw+XFxuXFxuR290OlxcbicgKyBfaW5zcGVjdChfaWQyKSk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXR1cm4gX2lkMjtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmV0dXJuIF9yZWYyKHRoaXMuX21ldGhvZENhbGxzKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIEdldHMgYXJnc1xuXHQgICAgICpcblx0ICAgICAqIEByZXR1cm5zIHtJbmplY3RhYmxlQXJndW1lbnRzfVxuXHQgICAgICovXG5cdFxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2FyZ3MnLFxuXHQgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICAgIGZ1bmN0aW9uIF9yZWYzKF9pZDMpIHtcblx0ICAgICAgICBpZiAoIUluamVjdGFibGVBcmd1bWVudHMoX2lkMykpIHtcblx0ICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Z1bmN0aW9uIHJldHVybiB2YWx1ZSB2aW9sYXRlcyBjb250cmFjdC5cXG5cXG5FeHBlY3RlZDpcXG5JbmplY3RhYmxlQXJndW1lbnRzXFxuXFxuR290OlxcbicgKyBfaW5zcGVjdChfaWQzKSk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXR1cm4gX2lkMztcblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmV0dXJuIF9yZWYzKHRoaXMuX2FyZ3MpO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0XG5cdCAgcmV0dXJuIERlZmluaXRpb247XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IERlZmluaXRpb247XG5cdFxuXHRmdW5jdGlvbiBfaW5zcGVjdChpbnB1dCwgZGVwdGgpIHtcblx0ICB2YXIgbWF4RGVwdGggPSA0O1xuXHQgIHZhciBtYXhLZXlzID0gMTU7XG5cblx0ICBpZiAoZGVwdGggPT09IHVuZGVmaW5lZCkge1xuXHQgICAgZGVwdGggPSAwO1xuXHQgIH1cblxuXHQgIGRlcHRoICs9IDE7XG5cblx0ICBpZiAoaW5wdXQgPT09IG51bGwpIHtcblx0ICAgIHJldHVybiAnbnVsbCc7XG5cdCAgfSBlbHNlIGlmIChpbnB1dCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICByZXR1cm4gJ3ZvaWQnO1xuXHQgIH0gZWxzZSBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgaW5wdXQgPT09ICdudW1iZXInIHx8IHR5cGVvZiBpbnB1dCA9PT0gJ2Jvb2xlYW4nKSB7XG5cdCAgICByZXR1cm4gdHlwZW9mIGlucHV0ID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihpbnB1dCk7XG5cdCAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGlucHV0KSkge1xuXHQgICAgaWYgKGlucHV0Lmxlbmd0aCA+IDApIHtcblx0ICAgICAgdmFyIF9yZXQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgaWYgKGRlcHRoID4gbWF4RGVwdGgpIHJldHVybiB7XG5cdCAgICAgICAgICAgIHY6ICdbLi4uXSdcblx0ICAgICAgICAgIH07XG5cblx0ICAgICAgICB2YXIgZmlyc3QgPSBfaW5zcGVjdChpbnB1dFswXSwgZGVwdGgpO1xuXG5cdCAgICAgICAgaWYgKGlucHV0LmV2ZXJ5KGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICAgICAgICByZXR1cm4gX2luc3BlY3QoaXRlbSwgZGVwdGgpID09PSBmaXJzdDtcblx0ICAgICAgICB9KSkge1xuXHQgICAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgICAgdjogZmlyc3QudHJpbSgpICsgJ1tdJ1xuXHQgICAgICAgICAgfTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgICAgdjogJ1snICsgaW5wdXQuc2xpY2UoMCwgbWF4S2V5cykubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICAgICAgICAgICAgcmV0dXJuIF9pbnNwZWN0KGl0ZW0sIGRlcHRoKTtcblx0ICAgICAgICAgICAgfSkuam9pbignLCAnKSArIChpbnB1dC5sZW5ndGggPj0gbWF4S2V5cyA/ICcsIC4uLicgOiAnJykgKyAnXSdcblx0ICAgICAgICAgIH07XG5cdCAgICAgICAgfVxuXHQgICAgICB9KCk7XG5cblx0ICAgICAgaWYgKCh0eXBlb2YgX3JldCA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YoX3JldCkpID09PSBcIm9iamVjdFwiKSByZXR1cm4gX3JldC52O1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuICdBcnJheSc7XG5cdCAgICB9XG5cdCAgfSBlbHNlIHtcblx0ICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoaW5wdXQpO1xuXG5cdCAgICBpZiAoIWtleXMubGVuZ3RoKSB7XG5cdCAgICAgIGlmIChpbnB1dC5jb25zdHJ1Y3RvciAmJiBpbnB1dC5jb25zdHJ1Y3Rvci5uYW1lICYmIGlucHV0LmNvbnN0cnVjdG9yLm5hbWUgIT09ICdPYmplY3QnKSB7XG5cdCAgICAgICAgcmV0dXJuIGlucHV0LmNvbnN0cnVjdG9yLm5hbWU7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuICdPYmplY3QnO1xuXHQgICAgICB9XG5cdCAgICB9XG5cblx0ICAgIGlmIChkZXB0aCA+IG1heERlcHRoKSByZXR1cm4gJ3suLi59Jztcblx0ICAgIHZhciBpbmRlbnQgPSAnICAnLnJlcGVhdChkZXB0aCAtIDEpO1xuXHQgICAgdmFyIGVudHJpZXMgPSBrZXlzLnNsaWNlKDAsIG1heEtleXMpLm1hcChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICAgIHJldHVybiAoL14oW0EtWl8kXVtBLVowLTlfJF0qKSQvaS50ZXN0KGtleSkgPyBrZXkgOiBKU09OLnN0cmluZ2lmeShrZXkpKSArICc6ICcgKyBfaW5zcGVjdChpbnB1dFtrZXldLCBkZXB0aCkgKyAnOyc7XG5cdCAgICB9KS5qb2luKCdcXG4gICcgKyBpbmRlbnQpO1xuXG5cdCAgICBpZiAoa2V5cy5sZW5ndGggPj0gbWF4S2V5cykge1xuXHQgICAgICBlbnRyaWVzICs9ICdcXG4gICcgKyBpbmRlbnQgKyAnLi4uJztcblx0ICAgIH1cblxuXHQgICAgaWYgKGlucHV0LmNvbnN0cnVjdG9yICYmIGlucHV0LmNvbnN0cnVjdG9yLm5hbWUgJiYgaW5wdXQuY29uc3RydWN0b3IubmFtZSAhPT0gJ09iamVjdCcpIHtcblx0ICAgICAgcmV0dXJuIGlucHV0LmNvbnN0cnVjdG9yLm5hbWUgKyAnIHtcXG4gICcgKyBpbmRlbnQgKyBlbnRyaWVzICsgJ1xcbicgKyBpbmRlbnQgKyAnfSc7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gJ3tcXG4gICcgKyBpbmRlbnQgKyBlbnRyaWVzICsgJ1xcbicgKyBpbmRlbnQgKyAnfSc7XG5cdCAgICB9XG5cdCAgfVxuXHR9XG5cbi8qKiovIH0sXG4vKiAzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cdFxuXHR2YXIgX2luamVjdGFibGVBcmd1bWVudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdHZhciBJbmplY3RhYmxlQXJndW1lbnRzID0gX2luamVjdGFibGVBcmd1bWVudHMuSW5qZWN0YWJsZUFyZ3VtZW50cztcblx0XG5cdC8qKlxuXHQgKiBAYXV0aG9yIEJlbmphbWluIE1pY2hhbHNraSA8YmVuamFtaW4ubWljaGFsc2tpQGdtYWlsLmNvbT5cblx0ICpcblx0ICogQHB1YmxpY1xuXHQgKi9cblx0XG5cdHZhciBNZXRob2RDYWxsID0gZnVuY3Rpb24gKCkge1xuXHRcblx0ICAvKipcblx0ICAgKiBDb25zdHJ1Y3RvclxuXHQgICAqXG5cdCAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgbWV0aG9kIG5hbWVcblx0ICAgKiBAcGFyYW0gez9JbmplY3RhYmxlQXJndW1lbnRzfSBbYXJncz1bXV1cblx0ICAgKlxuXHQgICAqIEBwdWJsaWNcblx0ICAgKi9cblx0ICBmdW5jdGlvbiBNZXRob2RDYWxsKG5hbWUpIHtcblx0ICAgIHZhciBhcmdzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBbXTtcblx0XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWV0aG9kQ2FsbCk7XG5cdFxuXHQgICAgaWYgKCEodHlwZW9mIG5hbWUgPT09ICdzdHJpbmcnKSkge1xuXHQgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdWYWx1ZSBvZiBhcmd1bWVudCBcIm5hbWVcIiB2aW9sYXRlcyBjb250cmFjdC5cXG5cXG5FeHBlY3RlZDpcXG5zdHJpbmdcXG5cXG5Hb3Q6XFxuJyArIF9pbnNwZWN0KG5hbWUpKTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoIShhcmdzID09IG51bGwgfHwgSW5qZWN0YWJsZUFyZ3VtZW50cyhhcmdzKSkpIHtcblx0ICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVmFsdWUgb2YgYXJndW1lbnQgXCJhcmdzXCIgdmlvbGF0ZXMgY29udHJhY3QuXFxuXFxuRXhwZWN0ZWQ6XFxuP0luamVjdGFibGVBcmd1bWVudHNcXG5cXG5Hb3Q6XFxuJyArIF9pbnNwZWN0KGFyZ3MpKTtcblx0ICAgIH1cblx0XG5cdCAgICB0aGlzLl9uYW1lID0gbmFtZTtcblx0ICAgIHRoaXMuX2FyZ3MgPSBhcmdzO1xuXHQgIH1cblx0XG5cdCAgLyoqXG5cdCAgICogR2V0cyBuYW1lXG5cdCAgICpcblx0ICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuXHQgICAqXG5cdCAgICogQHB1YmxpY1xuXHQgICAqL1xuXHRcblx0XG5cdCAgX2NyZWF0ZUNsYXNzKE1ldGhvZENhbGwsIFt7XG5cdCAgICBrZXk6ICduYW1lJyxcblx0ICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICBmdW5jdGlvbiBfcmVmKF9pZCkge1xuXHQgICAgICAgIGlmICghKHR5cGVvZiBfaWQgPT09ICdzdHJpbmcnKSkge1xuXHQgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRnVuY3Rpb24gcmV0dXJuIHZhbHVlIHZpb2xhdGVzIGNvbnRyYWN0LlxcblxcbkV4cGVjdGVkOlxcbnN0cmluZ1xcblxcbkdvdDpcXG4nICsgX2luc3BlY3QoX2lkKSk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXR1cm4gX2lkO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICByZXR1cm4gX3JlZih0aGlzLl9uYW1lKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIEdldHMgYXJnc1xuXHQgICAgICpcblx0ICAgICAqIEByZXR1cm5zIHtJbmplY3RhYmxlQXJndW1lbnRzfVxuXHQgICAgICpcblx0ICAgICAqIEBwdWJsaWNcblx0ICAgICAqL1xuXHRcblx0ICB9LCB7XG5cdCAgICBrZXk6ICdhcmdzJyxcblx0ICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICBmdW5jdGlvbiBfcmVmMihfaWQyKSB7XG5cdCAgICAgICAgaWYgKCFJbmplY3RhYmxlQXJndW1lbnRzKF9pZDIpKSB7XG5cdCAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGdW5jdGlvbiByZXR1cm4gdmFsdWUgdmlvbGF0ZXMgY29udHJhY3QuXFxuXFxuRXhwZWN0ZWQ6XFxuSW5qZWN0YWJsZUFyZ3VtZW50c1xcblxcbkdvdDpcXG4nICsgX2luc3BlY3QoX2lkMikpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmV0dXJuIF9pZDI7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHJldHVybiBfcmVmMih0aGlzLl9hcmdzKTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdFxuXHQgIHJldHVybiBNZXRob2RDYWxsO1xuXHR9KCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBNZXRob2RDYWxsO1xuXHRcblx0ZnVuY3Rpb24gX2luc3BlY3QoaW5wdXQsIGRlcHRoKSB7XG5cdCAgdmFyIG1heERlcHRoID0gNDtcblx0ICB2YXIgbWF4S2V5cyA9IDE1O1xuXG5cdCAgaWYgKGRlcHRoID09PSB1bmRlZmluZWQpIHtcblx0ICAgIGRlcHRoID0gMDtcblx0ICB9XG5cblx0ICBkZXB0aCArPSAxO1xuXG5cdCAgaWYgKGlucHV0ID09PSBudWxsKSB7XG5cdCAgICByZXR1cm4gJ251bGwnO1xuXHQgIH0gZWxzZSBpZiAoaW5wdXQgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgcmV0dXJuICd2b2lkJztcblx0ICB9IGVsc2UgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIGlucHV0ID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgaW5wdXQgPT09ICdib29sZWFuJykge1xuXHQgICAgcmV0dXJuIHR5cGVvZiBpbnB1dCA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YoaW5wdXQpO1xuXHQgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShpbnB1dCkpIHtcblx0ICAgIGlmIChpbnB1dC5sZW5ndGggPiAwKSB7XG5cdCAgICAgIHZhciBfcmV0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIGlmIChkZXB0aCA+IG1heERlcHRoKSByZXR1cm4ge1xuXHQgICAgICAgICAgICB2OiAnWy4uLl0nXG5cdCAgICAgICAgICB9O1xuXG5cdCAgICAgICAgdmFyIGZpcnN0ID0gX2luc3BlY3QoaW5wdXRbMF0sIGRlcHRoKTtcblxuXHQgICAgICAgIGlmIChpbnB1dC5ldmVyeShmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgICAgICAgcmV0dXJuIF9pbnNwZWN0KGl0ZW0sIGRlcHRoKSA9PT0gZmlyc3Q7XG5cdCAgICAgICAgfSkpIHtcblx0ICAgICAgICAgIHJldHVybiB7XG5cdCAgICAgICAgICAgIHY6IGZpcnN0LnRyaW0oKSArICdbXSdcblx0ICAgICAgICAgIH07XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHJldHVybiB7XG5cdCAgICAgICAgICAgIHY6ICdbJyArIGlucHV0LnNsaWNlKDAsIG1heEtleXMpLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgICAgICAgICAgIHJldHVybiBfaW5zcGVjdChpdGVtLCBkZXB0aCk7XG5cdCAgICAgICAgICAgIH0pLmpvaW4oJywgJykgKyAoaW5wdXQubGVuZ3RoID49IG1heEtleXMgPyAnLCAuLi4nIDogJycpICsgJ10nXG5cdCAgICAgICAgICB9O1xuXHQgICAgICAgIH1cblx0ICAgICAgfSgpO1xuXG5cdCAgICAgIGlmICgodHlwZW9mIF9yZXQgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKF9yZXQpKSA9PT0gXCJvYmplY3RcIikgcmV0dXJuIF9yZXQudjtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiAnQXJyYXknO1xuXHQgICAgfVxuXHQgIH0gZWxzZSB7XG5cdCAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGlucHV0KTtcblxuXHQgICAgaWYgKCFrZXlzLmxlbmd0aCkge1xuXHQgICAgICBpZiAoaW5wdXQuY29uc3RydWN0b3IgJiYgaW5wdXQuY29uc3RydWN0b3IubmFtZSAmJiBpbnB1dC5jb25zdHJ1Y3Rvci5uYW1lICE9PSAnT2JqZWN0Jykge1xuXHQgICAgICAgIHJldHVybiBpbnB1dC5jb25zdHJ1Y3Rvci5uYW1lO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiAnT2JqZWN0Jztcblx0ICAgICAgfVxuXHQgICAgfVxuXG5cdCAgICBpZiAoZGVwdGggPiBtYXhEZXB0aCkgcmV0dXJuICd7Li4ufSc7XG5cdCAgICB2YXIgaW5kZW50ID0gJyAgJy5yZXBlYXQoZGVwdGggLSAxKTtcblx0ICAgIHZhciBlbnRyaWVzID0ga2V5cy5zbGljZSgwLCBtYXhLZXlzKS5tYXAoZnVuY3Rpb24gKGtleSkge1xuXHQgICAgICByZXR1cm4gKC9eKFtBLVpfJF1bQS1aMC05XyRdKikkL2kudGVzdChrZXkpID8ga2V5IDogSlNPTi5zdHJpbmdpZnkoa2V5KSkgKyAnOiAnICsgX2luc3BlY3QoaW5wdXRba2V5XSwgZGVwdGgpICsgJzsnO1xuXHQgICAgfSkuam9pbignXFxuICAnICsgaW5kZW50KTtcblxuXHQgICAgaWYgKGtleXMubGVuZ3RoID49IG1heEtleXMpIHtcblx0ICAgICAgZW50cmllcyArPSAnXFxuICAnICsgaW5kZW50ICsgJy4uLic7XG5cdCAgICB9XG5cblx0ICAgIGlmIChpbnB1dC5jb25zdHJ1Y3RvciAmJiBpbnB1dC5jb25zdHJ1Y3Rvci5uYW1lICYmIGlucHV0LmNvbnN0cnVjdG9yLm5hbWUgIT09ICdPYmplY3QnKSB7XG5cdCAgICAgIHJldHVybiBpbnB1dC5jb25zdHJ1Y3Rvci5uYW1lICsgJyB7XFxuICAnICsgaW5kZW50ICsgZW50cmllcyArICdcXG4nICsgaW5kZW50ICsgJ30nO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuICd7XFxuICAnICsgaW5kZW50ICsgZW50cmllcyArICdcXG4nICsgaW5kZW50ICsgJ30nO1xuXHQgICAgfVxuXHQgIH1cblx0fVxuXG4vKioqLyB9LFxuLyogNCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuSW5qZWN0YWJsZUFyZ3VtZW50cyA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfcmVmZXJlbmNlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0XG5cdHZhciBfcmVmZXJlbmNlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlZmVyZW5jZSk7XG5cdFxuXHR2YXIgX3BhcmFtZXRlciA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHR2YXIgX3BhcmFtZXRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wYXJhbWV0ZXIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBJbmplY3RhYmxlQXJndW1lbnRzID0gZXhwb3J0cy5JbmplY3RhYmxlQXJndW1lbnRzID0gZnVuY3Rpb24gKCkge1xuXHQgIGZ1bmN0aW9uIEluamVjdGFibGVBcmd1bWVudHMoaW5wdXQpIHtcblx0ICAgIHJldHVybiBBcnJheS5pc0FycmF5KGlucHV0KSAmJiBpbnB1dC5ldmVyeShmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgICByZXR1cm4gaXRlbSBpbnN0YW5jZW9mIF9yZWZlcmVuY2UyLmRlZmF1bHQgfHwgaXRlbSBpbnN0YW5jZW9mIF9wYXJhbWV0ZXIyLmRlZmF1bHQ7XG5cdCAgICB9KTtcblx0ICB9XG5cdFxuXHQgIDtcblx0ICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSW5qZWN0YWJsZUFyZ3VtZW50cywgU3ltYm9sLmhhc0luc3RhbmNlLCB7XG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUoaW5wdXQpIHtcblx0ICAgICAgcmV0dXJuIEluamVjdGFibGVBcmd1bWVudHMoaW5wdXQpO1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgIHJldHVybiBJbmplY3RhYmxlQXJndW1lbnRzO1xuXHR9KCk7XG5cbi8qKiovIH0sXG4vKiA1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHQvKipcblx0ICogQGF1dGhvciBCZW5qYW1pbiBNaWNoYWxza2kgPGJlbmphbWluLm1pY2hhbHNraUBnbWFpbC5jb20+XG5cdCAqXG5cdCAqIEBwdWJsaWNcblx0ICovXG5cdHZhciBSZWZlcmVuY2UgPSBmdW5jdGlvbiAoKSB7XG5cdFxuXHQgIC8qKlxuXHQgICAqIENvbnN0cnVjdG9yXG5cdCAgICogXG5cdCAgICogQHBhcmFtIHtzdHJpbmd9IGlkXG5cdCAgICpcblx0ICAgKiBAcHVibGljXG5cdCAgICovXG5cdCAgZnVuY3Rpb24gUmVmZXJlbmNlKGlkKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmVmZXJlbmNlKTtcblx0XG5cdCAgICBpZiAoISh0eXBlb2YgaWQgPT09ICdzdHJpbmcnKSkge1xuXHQgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiVmFsdWUgb2YgYXJndW1lbnQgXFxcImlkXFxcIiB2aW9sYXRlcyBjb250cmFjdC5cXG5cXG5FeHBlY3RlZDpcXG5zdHJpbmdcXG5cXG5Hb3Q6XFxuXCIgKyBfaW5zcGVjdChpZCkpO1xuXHQgICAgfVxuXHRcblx0ICAgIHRoaXMuX2lkID0gaWQ7XG5cdCAgfVxuXHRcblx0ICAvKipcblx0ICAgKiBHZXRzIGlkXG5cdCAgICpcblx0ICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuXHQgICAqXG5cdCAgICogQHB1YmxpY1xuXHQgICAqL1xuXHRcblx0XG5cdCAgX2NyZWF0ZUNsYXNzKFJlZmVyZW5jZSwgW3tcblx0ICAgIGtleTogXCJpZFwiLFxuXHQgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICAgIGZ1bmN0aW9uIF9yZWYoX2lkKSB7XG5cdCAgICAgICAgaWYgKCEodHlwZW9mIF9pZCA9PT0gJ3N0cmluZycpKSB7XG5cdCAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRnVuY3Rpb24gcmV0dXJuIHZhbHVlIHZpb2xhdGVzIGNvbnRyYWN0LlxcblxcbkV4cGVjdGVkOlxcbnN0cmluZ1xcblxcbkdvdDpcXG5cIiArIF9pbnNwZWN0KF9pZCkpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmV0dXJuIF9pZDtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmV0dXJuIF9yZWYodGhpcy5faWQpO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0XG5cdCAgcmV0dXJuIFJlZmVyZW5jZTtcblx0fSgpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gUmVmZXJlbmNlO1xuXHRcblx0ZnVuY3Rpb24gX2luc3BlY3QoaW5wdXQsIGRlcHRoKSB7XG5cdCAgdmFyIG1heERlcHRoID0gNDtcblx0ICB2YXIgbWF4S2V5cyA9IDE1O1xuXG5cdCAgaWYgKGRlcHRoID09PSB1bmRlZmluZWQpIHtcblx0ICAgIGRlcHRoID0gMDtcblx0ICB9XG5cblx0ICBkZXB0aCArPSAxO1xuXG5cdCAgaWYgKGlucHV0ID09PSBudWxsKSB7XG5cdCAgICByZXR1cm4gJ251bGwnO1xuXHQgIH0gZWxzZSBpZiAoaW5wdXQgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgcmV0dXJuICd2b2lkJztcblx0ICB9IGVsc2UgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIGlucHV0ID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgaW5wdXQgPT09ICdib29sZWFuJykge1xuXHQgICAgcmV0dXJuIHR5cGVvZiBpbnB1dCA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKGlucHV0KTtcblx0ICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoaW5wdXQpKSB7XG5cdCAgICBpZiAoaW5wdXQubGVuZ3RoID4gMCkge1xuXHQgICAgICB2YXIgX3JldCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBpZiAoZGVwdGggPiBtYXhEZXB0aCkgcmV0dXJuIHtcblx0ICAgICAgICAgICAgdjogJ1suLi5dJ1xuXHQgICAgICAgICAgfTtcblxuXHQgICAgICAgIHZhciBmaXJzdCA9IF9pbnNwZWN0KGlucHV0WzBdLCBkZXB0aCk7XG5cblx0ICAgICAgICBpZiAoaW5wdXQuZXZlcnkoZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgICAgICAgIHJldHVybiBfaW5zcGVjdChpdGVtLCBkZXB0aCkgPT09IGZpcnN0O1xuXHQgICAgICAgIH0pKSB7XG5cdCAgICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgICB2OiBmaXJzdC50cmltKCkgKyAnW10nXG5cdCAgICAgICAgICB9O1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgICB2OiAnWycgKyBpbnB1dC5zbGljZSgwLCBtYXhLZXlzKS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgICAgICAgICAgICByZXR1cm4gX2luc3BlY3QoaXRlbSwgZGVwdGgpO1xuXHQgICAgICAgICAgICB9KS5qb2luKCcsICcpICsgKGlucHV0Lmxlbmd0aCA+PSBtYXhLZXlzID8gJywgLi4uJyA6ICcnKSArICddJ1xuXHQgICAgICAgICAgfTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0oKTtcblxuXHQgICAgICBpZiAoKHR5cGVvZiBfcmV0ID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YoX3JldCkpID09PSBcIm9iamVjdFwiKSByZXR1cm4gX3JldC52O1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuICdBcnJheSc7XG5cdCAgICB9XG5cdCAgfSBlbHNlIHtcblx0ICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoaW5wdXQpO1xuXG5cdCAgICBpZiAoIWtleXMubGVuZ3RoKSB7XG5cdCAgICAgIGlmIChpbnB1dC5jb25zdHJ1Y3RvciAmJiBpbnB1dC5jb25zdHJ1Y3Rvci5uYW1lICYmIGlucHV0LmNvbnN0cnVjdG9yLm5hbWUgIT09ICdPYmplY3QnKSB7XG5cdCAgICAgICAgcmV0dXJuIGlucHV0LmNvbnN0cnVjdG9yLm5hbWU7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuICdPYmplY3QnO1xuXHQgICAgICB9XG5cdCAgICB9XG5cblx0ICAgIGlmIChkZXB0aCA+IG1heERlcHRoKSByZXR1cm4gJ3suLi59Jztcblx0ICAgIHZhciBpbmRlbnQgPSAnICAnLnJlcGVhdChkZXB0aCAtIDEpO1xuXHQgICAgdmFyIGVudHJpZXMgPSBrZXlzLnNsaWNlKDAsIG1heEtleXMpLm1hcChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICAgIHJldHVybiAoL14oW0EtWl8kXVtBLVowLTlfJF0qKSQvaS50ZXN0KGtleSkgPyBrZXkgOiBKU09OLnN0cmluZ2lmeShrZXkpKSArICc6ICcgKyBfaW5zcGVjdChpbnB1dFtrZXldLCBkZXB0aCkgKyAnOyc7XG5cdCAgICB9KS5qb2luKCdcXG4gICcgKyBpbmRlbnQpO1xuXG5cdCAgICBpZiAoa2V5cy5sZW5ndGggPj0gbWF4S2V5cykge1xuXHQgICAgICBlbnRyaWVzICs9ICdcXG4gICcgKyBpbmRlbnQgKyAnLi4uJztcblx0ICAgIH1cblxuXHQgICAgaWYgKGlucHV0LmNvbnN0cnVjdG9yICYmIGlucHV0LmNvbnN0cnVjdG9yLm5hbWUgJiYgaW5wdXQuY29uc3RydWN0b3IubmFtZSAhPT0gJ09iamVjdCcpIHtcblx0ICAgICAgcmV0dXJuIGlucHV0LmNvbnN0cnVjdG9yLm5hbWUgKyAnIHtcXG4gICcgKyBpbmRlbnQgKyBlbnRyaWVzICsgJ1xcbicgKyBpbmRlbnQgKyAnfSc7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gJ3tcXG4gICcgKyBpbmRlbnQgKyBlbnRyaWVzICsgJ1xcbicgKyBpbmRlbnQgKyAnfSc7XG5cdCAgICB9XG5cdCAgfVxuXHR9XG5cbi8qKiovIH0sXG4vKiA2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHQvKipcblx0ICogQGF1dGhvciBCZW5qYW1pbiBNaWNoYWxza2kgPGJlbmphbWluLm1pY2hhbHNraUBnbWFpbC5jb20+XG5cdCAqXG5cdCAqIEBwdWJsaWNcblx0ICovXG5cdHZhciBQYXJhbWV0ZXIgPSBmdW5jdGlvbiAoKSB7XG5cdFxuXHQgIC8qKlxuXHQgICAqIENvbnN0cnVjdG9yXG5cdCAgICpcblx0ICAgKiBAcGFyYW0ge3N0cmluZ30gaWRcblx0ICAgKlxuXHQgICAqIEBwdWJsaWNcblx0ICAgKi9cblx0ICBmdW5jdGlvbiBQYXJhbWV0ZXIoaWQpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQYXJhbWV0ZXIpO1xuXHRcblx0ICAgIGlmICghKHR5cGVvZiBpZCA9PT0gJ3N0cmluZycpKSB7XG5cdCAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJWYWx1ZSBvZiBhcmd1bWVudCBcXFwiaWRcXFwiIHZpb2xhdGVzIGNvbnRyYWN0LlxcblxcbkV4cGVjdGVkOlxcbnN0cmluZ1xcblxcbkdvdDpcXG5cIiArIF9pbnNwZWN0KGlkKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgdGhpcy5faWQgPSBpZDtcblx0ICB9XG5cdFxuXHQgIC8qKlxuXHQgICAqIEdldHMgaWRcblx0ICAgKlxuXHQgICAqIEByZXR1cm5zIHtzdHJpbmd9XG5cdCAgICpcblx0ICAgKiBAcHVibGljXG5cdCAgICovXG5cdFxuXHRcblx0ICBfY3JlYXRlQ2xhc3MoUGFyYW1ldGVyLCBbe1xuXHQgICAga2V5OiBcImlkXCIsXG5cdCAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgZnVuY3Rpb24gX3JlZihfaWQpIHtcblx0ICAgICAgICBpZiAoISh0eXBlb2YgX2lkID09PSAnc3RyaW5nJykpIHtcblx0ICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGdW5jdGlvbiByZXR1cm4gdmFsdWUgdmlvbGF0ZXMgY29udHJhY3QuXFxuXFxuRXhwZWN0ZWQ6XFxuc3RyaW5nXFxuXFxuR290OlxcblwiICsgX2luc3BlY3QoX2lkKSk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXR1cm4gX2lkO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICByZXR1cm4gX3JlZih0aGlzLl9pZCk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHRcblx0ICByZXR1cm4gUGFyYW1ldGVyO1xuXHR9KCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBQYXJhbWV0ZXI7XG5cdFxuXHRmdW5jdGlvbiBfaW5zcGVjdChpbnB1dCwgZGVwdGgpIHtcblx0ICB2YXIgbWF4RGVwdGggPSA0O1xuXHQgIHZhciBtYXhLZXlzID0gMTU7XG5cblx0ICBpZiAoZGVwdGggPT09IHVuZGVmaW5lZCkge1xuXHQgICAgZGVwdGggPSAwO1xuXHQgIH1cblxuXHQgIGRlcHRoICs9IDE7XG5cblx0ICBpZiAoaW5wdXQgPT09IG51bGwpIHtcblx0ICAgIHJldHVybiAnbnVsbCc7XG5cdCAgfSBlbHNlIGlmIChpbnB1dCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICByZXR1cm4gJ3ZvaWQnO1xuXHQgIH0gZWxzZSBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgaW5wdXQgPT09ICdudW1iZXInIHx8IHR5cGVvZiBpbnB1dCA9PT0gJ2Jvb2xlYW4nKSB7XG5cdCAgICByZXR1cm4gdHlwZW9mIGlucHV0ID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YoaW5wdXQpO1xuXHQgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShpbnB1dCkpIHtcblx0ICAgIGlmIChpbnB1dC5sZW5ndGggPiAwKSB7XG5cdCAgICAgIHZhciBfcmV0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIGlmIChkZXB0aCA+IG1heERlcHRoKSByZXR1cm4ge1xuXHQgICAgICAgICAgICB2OiAnWy4uLl0nXG5cdCAgICAgICAgICB9O1xuXG5cdCAgICAgICAgdmFyIGZpcnN0ID0gX2luc3BlY3QoaW5wdXRbMF0sIGRlcHRoKTtcblxuXHQgICAgICAgIGlmIChpbnB1dC5ldmVyeShmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgICAgICAgcmV0dXJuIF9pbnNwZWN0KGl0ZW0sIGRlcHRoKSA9PT0gZmlyc3Q7XG5cdCAgICAgICAgfSkpIHtcblx0ICAgICAgICAgIHJldHVybiB7XG5cdCAgICAgICAgICAgIHY6IGZpcnN0LnRyaW0oKSArICdbXSdcblx0ICAgICAgICAgIH07XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHJldHVybiB7XG5cdCAgICAgICAgICAgIHY6ICdbJyArIGlucHV0LnNsaWNlKDAsIG1heEtleXMpLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgICAgICAgICAgIHJldHVybiBfaW5zcGVjdChpdGVtLCBkZXB0aCk7XG5cdCAgICAgICAgICAgIH0pLmpvaW4oJywgJykgKyAoaW5wdXQubGVuZ3RoID49IG1heEtleXMgPyAnLCAuLi4nIDogJycpICsgJ10nXG5cdCAgICAgICAgICB9O1xuXHQgICAgICAgIH1cblx0ICAgICAgfSgpO1xuXG5cdCAgICAgIGlmICgodHlwZW9mIF9yZXQgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihfcmV0KSkgPT09IFwib2JqZWN0XCIpIHJldHVybiBfcmV0LnY7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gJ0FycmF5Jztcblx0ICAgIH1cblx0ICB9IGVsc2Uge1xuXHQgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhpbnB1dCk7XG5cblx0ICAgIGlmICgha2V5cy5sZW5ndGgpIHtcblx0ICAgICAgaWYgKGlucHV0LmNvbnN0cnVjdG9yICYmIGlucHV0LmNvbnN0cnVjdG9yLm5hbWUgJiYgaW5wdXQuY29uc3RydWN0b3IubmFtZSAhPT0gJ09iamVjdCcpIHtcblx0ICAgICAgICByZXR1cm4gaW5wdXQuY29uc3RydWN0b3IubmFtZTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gJ09iamVjdCc7XG5cdCAgICAgIH1cblx0ICAgIH1cblxuXHQgICAgaWYgKGRlcHRoID4gbWF4RGVwdGgpIHJldHVybiAney4uLn0nO1xuXHQgICAgdmFyIGluZGVudCA9ICcgICcucmVwZWF0KGRlcHRoIC0gMSk7XG5cdCAgICB2YXIgZW50cmllcyA9IGtleXMuc2xpY2UoMCwgbWF4S2V5cykubWFwKGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgICAgcmV0dXJuICgvXihbQS1aXyRdW0EtWjAtOV8kXSopJC9pLnRlc3Qoa2V5KSA/IGtleSA6IEpTT04uc3RyaW5naWZ5KGtleSkpICsgJzogJyArIF9pbnNwZWN0KGlucHV0W2tleV0sIGRlcHRoKSArICc7Jztcblx0ICAgIH0pLmpvaW4oJ1xcbiAgJyArIGluZGVudCk7XG5cblx0ICAgIGlmIChrZXlzLmxlbmd0aCA+PSBtYXhLZXlzKSB7XG5cdCAgICAgIGVudHJpZXMgKz0gJ1xcbiAgJyArIGluZGVudCArICcuLi4nO1xuXHQgICAgfVxuXG5cdCAgICBpZiAoaW5wdXQuY29uc3RydWN0b3IgJiYgaW5wdXQuY29uc3RydWN0b3IubmFtZSAmJiBpbnB1dC5jb25zdHJ1Y3Rvci5uYW1lICE9PSAnT2JqZWN0Jykge1xuXHQgICAgICByZXR1cm4gaW5wdXQuY29uc3RydWN0b3IubmFtZSArICcge1xcbiAgJyArIGluZGVudCArIGVudHJpZXMgKyAnXFxuJyArIGluZGVudCArICd9Jztcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiAne1xcbiAgJyArIGluZGVudCArIGVudHJpZXMgKyAnXFxuJyArIGluZGVudCArICd9Jztcblx0ICAgIH1cblx0ICB9XG5cdH1cblxuLyoqKi8gfSxcbi8qIDcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblx0XG5cdHZhciBfZGVmaW5pdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX2RlZmluaXRpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5pdGlvbik7XG5cdFxuXHR2YXIgX2luamVjdGFibGVBcmd1bWVudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXHRcblx0dmFyIEluamVjdGFibGVBcmd1bWVudHMgPSBfaW5qZWN0YWJsZUFyZ3VtZW50cy5JbmplY3RhYmxlQXJndW1lbnRzO1xuXHRcblx0LyoqXG5cdCAqIEBhdXRob3IgQmVuamFtaW4gTWljaGFsc2tpIDxiZW5qYW1pbi5taWNoYWxza2lAZ21haWwuY29tPlxuXHQgKlxuXHQgKiBAcHVibGljXG5cdCAqL1xuXHRcblx0dmFyIENsYXNzQ29uc3RydWN0b3JEZWZpbml0aW9uID0gZnVuY3Rpb24gKF9EZWZpbml0aW9uKSB7XG5cdCAgX2luaGVyaXRzKENsYXNzQ29uc3RydWN0b3JEZWZpbml0aW9uLCBfRGVmaW5pdGlvbik7XG5cdFxuXHQgIC8qKlxuXHQgICAqIENvbnN0cnVjdG9yXG5cdCAgICpcblx0ICAgKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NDb25zdHJ1Y3RvcklkZW50aWZpZXJcblx0ICAgKiBAcGFyYW0gez9JbmplY3RhYmxlQXJndW1lbnRzfSBbYXJncz1bXV1cblx0ICAgKi9cblx0ICBmdW5jdGlvbiBDbGFzc0NvbnN0cnVjdG9yRGVmaW5pdGlvbihjbGFzc0NvbnN0cnVjdG9ySWRlbnRpZmllcikge1xuXHQgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IFtdO1xuXHRcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDbGFzc0NvbnN0cnVjdG9yRGVmaW5pdGlvbik7XG5cdFxuXHQgICAgaWYgKCEodHlwZW9mIGNsYXNzQ29uc3RydWN0b3JJZGVudGlmaWVyID09PSAnc3RyaW5nJykpIHtcblx0ICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVmFsdWUgb2YgYXJndW1lbnQgXCJjbGFzc0NvbnN0cnVjdG9ySWRlbnRpZmllclwiIHZpb2xhdGVzIGNvbnRyYWN0LlxcblxcbkV4cGVjdGVkOlxcbnN0cmluZ1xcblxcbkdvdDpcXG4nICsgX2luc3BlY3QoY2xhc3NDb25zdHJ1Y3RvcklkZW50aWZpZXIpKTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoIShhcmdzID09IG51bGwgfHwgSW5qZWN0YWJsZUFyZ3VtZW50cyhhcmdzKSkpIHtcblx0ICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVmFsdWUgb2YgYXJndW1lbnQgXCJhcmdzXCIgdmlvbGF0ZXMgY29udHJhY3QuXFxuXFxuRXhwZWN0ZWQ6XFxuP0luamVjdGFibGVBcmd1bWVudHNcXG5cXG5Hb3Q6XFxuJyArIF9pbnNwZWN0KGFyZ3MpKTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoQ2xhc3NDb25zdHJ1Y3RvckRlZmluaXRpb24uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihDbGFzc0NvbnN0cnVjdG9yRGVmaW5pdGlvbikpLmNhbGwodGhpcywgYXJncykpO1xuXHRcblx0ICAgIF90aGlzLl9jbGFzc0NvbnN0cnVjdG9ySWRlbnRpZmllciA9IGNsYXNzQ29uc3RydWN0b3JJZGVudGlmaWVyO1xuXHQgICAgcmV0dXJuIF90aGlzO1xuXHQgIH1cblx0XG5cdCAgLyoqXG5cdCAgICogR2V0cyBjbGFzc0NvbnN0cnVjdG9ySWRlbnRpZmllclxuXHQgICAqXG5cdCAgICogQHJldHVybnMge3N0cmluZ31cblx0ICAgKi9cblx0XG5cdFxuXHQgIF9jcmVhdGVDbGFzcyhDbGFzc0NvbnN0cnVjdG9yRGVmaW5pdGlvbiwgW3tcblx0ICAgIGtleTogJ2NsYXNzQ29uc3RydWN0b3JJZGVudGlmaWVyJyxcblx0ICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICBmdW5jdGlvbiBfcmVmKF9pZCkge1xuXHQgICAgICAgIGlmICghKHR5cGVvZiBfaWQgPT09ICdzdHJpbmcnKSkge1xuXHQgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRnVuY3Rpb24gcmV0dXJuIHZhbHVlIHZpb2xhdGVzIGNvbnRyYWN0LlxcblxcbkV4cGVjdGVkOlxcbnN0cmluZ1xcblxcbkdvdDpcXG4nICsgX2luc3BlY3QoX2lkKSk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXR1cm4gX2lkO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICByZXR1cm4gX3JlZih0aGlzLl9jbGFzc0NvbnN0cnVjdG9ySWRlbnRpZmllcik7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHRcblx0ICByZXR1cm4gQ2xhc3NDb25zdHJ1Y3RvckRlZmluaXRpb247XG5cdH0oX2RlZmluaXRpb24yLmRlZmF1bHQpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gQ2xhc3NDb25zdHJ1Y3RvckRlZmluaXRpb247XG5cdFxuXHRmdW5jdGlvbiBfaW5zcGVjdChpbnB1dCwgZGVwdGgpIHtcblx0ICB2YXIgbWF4RGVwdGggPSA0O1xuXHQgIHZhciBtYXhLZXlzID0gMTU7XG5cblx0ICBpZiAoZGVwdGggPT09IHVuZGVmaW5lZCkge1xuXHQgICAgZGVwdGggPSAwO1xuXHQgIH1cblxuXHQgIGRlcHRoICs9IDE7XG5cblx0ICBpZiAoaW5wdXQgPT09IG51bGwpIHtcblx0ICAgIHJldHVybiAnbnVsbCc7XG5cdCAgfSBlbHNlIGlmIChpbnB1dCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICByZXR1cm4gJ3ZvaWQnO1xuXHQgIH0gZWxzZSBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgaW5wdXQgPT09ICdudW1iZXInIHx8IHR5cGVvZiBpbnB1dCA9PT0gJ2Jvb2xlYW4nKSB7XG5cdCAgICByZXR1cm4gdHlwZW9mIGlucHV0ID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihpbnB1dCk7XG5cdCAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGlucHV0KSkge1xuXHQgICAgaWYgKGlucHV0Lmxlbmd0aCA+IDApIHtcblx0ICAgICAgdmFyIF9yZXQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgaWYgKGRlcHRoID4gbWF4RGVwdGgpIHJldHVybiB7XG5cdCAgICAgICAgICAgIHY6ICdbLi4uXSdcblx0ICAgICAgICAgIH07XG5cblx0ICAgICAgICB2YXIgZmlyc3QgPSBfaW5zcGVjdChpbnB1dFswXSwgZGVwdGgpO1xuXG5cdCAgICAgICAgaWYgKGlucHV0LmV2ZXJ5KGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICAgICAgICByZXR1cm4gX2luc3BlY3QoaXRlbSwgZGVwdGgpID09PSBmaXJzdDtcblx0ICAgICAgICB9KSkge1xuXHQgICAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgICAgdjogZmlyc3QudHJpbSgpICsgJ1tdJ1xuXHQgICAgICAgICAgfTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgICAgdjogJ1snICsgaW5wdXQuc2xpY2UoMCwgbWF4S2V5cykubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICAgICAgICAgICAgcmV0dXJuIF9pbnNwZWN0KGl0ZW0sIGRlcHRoKTtcblx0ICAgICAgICAgICAgfSkuam9pbignLCAnKSArIChpbnB1dC5sZW5ndGggPj0gbWF4S2V5cyA/ICcsIC4uLicgOiAnJykgKyAnXSdcblx0ICAgICAgICAgIH07XG5cdCAgICAgICAgfVxuXHQgICAgICB9KCk7XG5cblx0ICAgICAgaWYgKCh0eXBlb2YgX3JldCA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YoX3JldCkpID09PSBcIm9iamVjdFwiKSByZXR1cm4gX3JldC52O1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuICdBcnJheSc7XG5cdCAgICB9XG5cdCAgfSBlbHNlIHtcblx0ICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoaW5wdXQpO1xuXG5cdCAgICBpZiAoIWtleXMubGVuZ3RoKSB7XG5cdCAgICAgIGlmIChpbnB1dC5jb25zdHJ1Y3RvciAmJiBpbnB1dC5jb25zdHJ1Y3Rvci5uYW1lICYmIGlucHV0LmNvbnN0cnVjdG9yLm5hbWUgIT09ICdPYmplY3QnKSB7XG5cdCAgICAgICAgcmV0dXJuIGlucHV0LmNvbnN0cnVjdG9yLm5hbWU7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuICdPYmplY3QnO1xuXHQgICAgICB9XG5cdCAgICB9XG5cblx0ICAgIGlmIChkZXB0aCA+IG1heERlcHRoKSByZXR1cm4gJ3suLi59Jztcblx0ICAgIHZhciBpbmRlbnQgPSAnICAnLnJlcGVhdChkZXB0aCAtIDEpO1xuXHQgICAgdmFyIGVudHJpZXMgPSBrZXlzLnNsaWNlKDAsIG1heEtleXMpLm1hcChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICAgIHJldHVybiAoL14oW0EtWl8kXVtBLVowLTlfJF0qKSQvaS50ZXN0KGtleSkgPyBrZXkgOiBKU09OLnN0cmluZ2lmeShrZXkpKSArICc6ICcgKyBfaW5zcGVjdChpbnB1dFtrZXldLCBkZXB0aCkgKyAnOyc7XG5cdCAgICB9KS5qb2luKCdcXG4gICcgKyBpbmRlbnQpO1xuXG5cdCAgICBpZiAoa2V5cy5sZW5ndGggPj0gbWF4S2V5cykge1xuXHQgICAgICBlbnRyaWVzICs9ICdcXG4gICcgKyBpbmRlbnQgKyAnLi4uJztcblx0ICAgIH1cblxuXHQgICAgaWYgKGlucHV0LmNvbnN0cnVjdG9yICYmIGlucHV0LmNvbnN0cnVjdG9yLm5hbWUgJiYgaW5wdXQuY29uc3RydWN0b3IubmFtZSAhPT0gJ09iamVjdCcpIHtcblx0ICAgICAgcmV0dXJuIGlucHV0LmNvbnN0cnVjdG9yLm5hbWUgKyAnIHtcXG4gICcgKyBpbmRlbnQgKyBlbnRyaWVzICsgJ1xcbicgKyBpbmRlbnQgKyAnfSc7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gJ3tcXG4gICcgKyBpbmRlbnQgKyBlbnRyaWVzICsgJ1xcbicgKyBpbmRlbnQgKyAnfSc7XG5cdCAgICB9XG5cdCAgfVxuXHR9XG5cbi8qKiovIH0sXG4vKiA4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cdFxuXHR2YXIgX2RlZmluaXRpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9kZWZpbml0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluaXRpb24pO1xuXHRcblx0dmFyIF9pbmplY3RhYmxlQXJndW1lbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblx0XG5cdHZhciBJbmplY3RhYmxlQXJndW1lbnRzID0gX2luamVjdGFibGVBcmd1bWVudHMuSW5qZWN0YWJsZUFyZ3VtZW50cztcblx0XG5cdC8qKlxuXHQgKiBAYXV0aG9yIEJlbmphbWluIE1pY2hhbHNraSA8YmVuamFtaW4ubWljaGFsc2tpQGdtYWlsLmNvbT5cblx0ICpcblx0ICogQHB1YmxpY1xuXHQgKi9cblx0XG5cdHZhciBGYWN0b3J5RGVmaW5pdGlvbiA9IGZ1bmN0aW9uIChfRGVmaW5pdGlvbikge1xuXHQgIF9pbmhlcml0cyhGYWN0b3J5RGVmaW5pdGlvbiwgX0RlZmluaXRpb24pO1xuXHRcblx0ICAvKipcblx0ICAgKiBDb25zdHJ1Y3RvclxuXHQgICAqXG5cdCAgICogQHBhcmFtIHtGdW5jdGlvbn0gZmFjdG9yeVxuXHQgICAqIEBwYXJhbSB7P0luamVjdGFibGVBcmd1bWVudHN9IFthcmdzPVtdXVxuXHQgICAqL1xuXHQgIGZ1bmN0aW9uIEZhY3RvcnlEZWZpbml0aW9uKGZhY3RvcnkpIHtcblx0ICAgIHZhciBhcmdzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBbXTtcblx0XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRmFjdG9yeURlZmluaXRpb24pO1xuXHRcblx0ICAgIGlmICghKHR5cGVvZiBmYWN0b3J5ID09PSAnZnVuY3Rpb24nKSkge1xuXHQgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdWYWx1ZSBvZiBhcmd1bWVudCBcImZhY3RvcnlcIiB2aW9sYXRlcyBjb250cmFjdC5cXG5cXG5FeHBlY3RlZDpcXG5GdW5jdGlvblxcblxcbkdvdDpcXG4nICsgX2luc3BlY3QoZmFjdG9yeSkpO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmICghKGFyZ3MgPT0gbnVsbCB8fCBJbmplY3RhYmxlQXJndW1lbnRzKGFyZ3MpKSkge1xuXHQgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdWYWx1ZSBvZiBhcmd1bWVudCBcImFyZ3NcIiB2aW9sYXRlcyBjb250cmFjdC5cXG5cXG5FeHBlY3RlZDpcXG4/SW5qZWN0YWJsZUFyZ3VtZW50c1xcblxcbkdvdDpcXG4nICsgX2luc3BlY3QoYXJncykpO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChGYWN0b3J5RGVmaW5pdGlvbi5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEZhY3RvcnlEZWZpbml0aW9uKSkuY2FsbCh0aGlzLCBhcmdzKSk7XG5cdFxuXHQgICAgX3RoaXMuX2ZhY3RvcnkgPSBmYWN0b3J5O1xuXHQgICAgcmV0dXJuIF90aGlzO1xuXHQgIH1cblx0XG5cdCAgLyoqXG5cdCAgICogR2V0cyBmYWN0b3J5XG5cdCAgICpcblx0ICAgKiBAcmV0dXJucyB7RnVuY3Rpb259XG5cdCAgICovXG5cdFxuXHRcblx0ICBfY3JlYXRlQ2xhc3MoRmFjdG9yeURlZmluaXRpb24sIFt7XG5cdCAgICBrZXk6ICdmYWN0b3J5Jyxcblx0ICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgICBmdW5jdGlvbiBfcmVmKF9pZCkge1xuXHQgICAgICAgIGlmICghKHR5cGVvZiBfaWQgPT09ICdmdW5jdGlvbicpKSB7XG5cdCAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGdW5jdGlvbiByZXR1cm4gdmFsdWUgdmlvbGF0ZXMgY29udHJhY3QuXFxuXFxuRXhwZWN0ZWQ6XFxuRnVuY3Rpb25cXG5cXG5Hb3Q6XFxuJyArIF9pbnNwZWN0KF9pZCkpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmV0dXJuIF9pZDtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmV0dXJuIF9yZWYodGhpcy5fZmFjdG9yeSk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHRcblx0ICByZXR1cm4gRmFjdG9yeURlZmluaXRpb247XG5cdH0oX2RlZmluaXRpb24yLmRlZmF1bHQpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gRmFjdG9yeURlZmluaXRpb247XG5cdFxuXHRmdW5jdGlvbiBfaW5zcGVjdChpbnB1dCwgZGVwdGgpIHtcblx0ICB2YXIgbWF4RGVwdGggPSA0O1xuXHQgIHZhciBtYXhLZXlzID0gMTU7XG5cblx0ICBpZiAoZGVwdGggPT09IHVuZGVmaW5lZCkge1xuXHQgICAgZGVwdGggPSAwO1xuXHQgIH1cblxuXHQgIGRlcHRoICs9IDE7XG5cblx0ICBpZiAoaW5wdXQgPT09IG51bGwpIHtcblx0ICAgIHJldHVybiAnbnVsbCc7XG5cdCAgfSBlbHNlIGlmIChpbnB1dCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICByZXR1cm4gJ3ZvaWQnO1xuXHQgIH0gZWxzZSBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgaW5wdXQgPT09ICdudW1iZXInIHx8IHR5cGVvZiBpbnB1dCA9PT0gJ2Jvb2xlYW4nKSB7XG5cdCAgICByZXR1cm4gdHlwZW9mIGlucHV0ID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihpbnB1dCk7XG5cdCAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGlucHV0KSkge1xuXHQgICAgaWYgKGlucHV0Lmxlbmd0aCA+IDApIHtcblx0ICAgICAgdmFyIF9yZXQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgaWYgKGRlcHRoID4gbWF4RGVwdGgpIHJldHVybiB7XG5cdCAgICAgICAgICAgIHY6ICdbLi4uXSdcblx0ICAgICAgICAgIH07XG5cblx0ICAgICAgICB2YXIgZmlyc3QgPSBfaW5zcGVjdChpbnB1dFswXSwgZGVwdGgpO1xuXG5cdCAgICAgICAgaWYgKGlucHV0LmV2ZXJ5KGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICAgICAgICByZXR1cm4gX2luc3BlY3QoaXRlbSwgZGVwdGgpID09PSBmaXJzdDtcblx0ICAgICAgICB9KSkge1xuXHQgICAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgICAgdjogZmlyc3QudHJpbSgpICsgJ1tdJ1xuXHQgICAgICAgICAgfTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgICAgdjogJ1snICsgaW5wdXQuc2xpY2UoMCwgbWF4S2V5cykubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICAgICAgICAgICAgcmV0dXJuIF9pbnNwZWN0KGl0ZW0sIGRlcHRoKTtcblx0ICAgICAgICAgICAgfSkuam9pbignLCAnKSArIChpbnB1dC5sZW5ndGggPj0gbWF4S2V5cyA/ICcsIC4uLicgOiAnJykgKyAnXSdcblx0ICAgICAgICAgIH07XG5cdCAgICAgICAgfVxuXHQgICAgICB9KCk7XG5cblx0ICAgICAgaWYgKCh0eXBlb2YgX3JldCA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YoX3JldCkpID09PSBcIm9iamVjdFwiKSByZXR1cm4gX3JldC52O1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuICdBcnJheSc7XG5cdCAgICB9XG5cdCAgfSBlbHNlIHtcblx0ICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoaW5wdXQpO1xuXG5cdCAgICBpZiAoIWtleXMubGVuZ3RoKSB7XG5cdCAgICAgIGlmIChpbnB1dC5jb25zdHJ1Y3RvciAmJiBpbnB1dC5jb25zdHJ1Y3Rvci5uYW1lICYmIGlucHV0LmNvbnN0cnVjdG9yLm5hbWUgIT09ICdPYmplY3QnKSB7XG5cdCAgICAgICAgcmV0dXJuIGlucHV0LmNvbnN0cnVjdG9yLm5hbWU7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuICdPYmplY3QnO1xuXHQgICAgICB9XG5cdCAgICB9XG5cblx0ICAgIGlmIChkZXB0aCA+IG1heERlcHRoKSByZXR1cm4gJ3suLi59Jztcblx0ICAgIHZhciBpbmRlbnQgPSAnICAnLnJlcGVhdChkZXB0aCAtIDEpO1xuXHQgICAgdmFyIGVudHJpZXMgPSBrZXlzLnNsaWNlKDAsIG1heEtleXMpLm1hcChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICAgIHJldHVybiAoL14oW0EtWl8kXVtBLVowLTlfJF0qKSQvaS50ZXN0KGtleSkgPyBrZXkgOiBKU09OLnN0cmluZ2lmeShrZXkpKSArICc6ICcgKyBfaW5zcGVjdChpbnB1dFtrZXldLCBkZXB0aCkgKyAnOyc7XG5cdCAgICB9KS5qb2luKCdcXG4gICcgKyBpbmRlbnQpO1xuXG5cdCAgICBpZiAoa2V5cy5sZW5ndGggPj0gbWF4S2V5cykge1xuXHQgICAgICBlbnRyaWVzICs9ICdcXG4gICcgKyBpbmRlbnQgKyAnLi4uJztcblx0ICAgIH1cblxuXHQgICAgaWYgKGlucHV0LmNvbnN0cnVjdG9yICYmIGlucHV0LmNvbnN0cnVjdG9yLm5hbWUgJiYgaW5wdXQuY29uc3RydWN0b3IubmFtZSAhPT0gJ09iamVjdCcpIHtcblx0ICAgICAgcmV0dXJuIGlucHV0LmNvbnN0cnVjdG9yLm5hbWUgKyAnIHtcXG4gICcgKyBpbmRlbnQgKyBlbnRyaWVzICsgJ1xcbicgKyBpbmRlbnQgKyAnfSc7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gJ3tcXG4gICcgKyBpbmRlbnQgKyBlbnRyaWVzICsgJ1xcbicgKyBpbmRlbnQgKyAnfSc7XG5cdCAgICB9XG5cdCAgfVxuXHR9XG5cbi8qKiovIH1cbi8qKioqKiovIF0pXG59KTtcbjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gZGktZGV2LmpzIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG5cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGV4cG9ydHM6IHt9LFxuIFx0XHRcdGlkOiBtb2R1bGVJZCxcbiBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay9ib290c3RyYXAgNTRmNWI2YWQ3MGMzMTUwNGE3ZGYiLCJpbXBvcnQgQ29udGFpbmVyIGZyb20gJy4vc3JjL2NvbnRhaW5lcidcbmltcG9ydCBDbGFzc0NvbnN0cnVjdG9yRGVmaW5pdGlvbiBmcm9tICcuL3NyYy9jbGFzcy1jb25zdHJ1Y3Rvci1kZWZpbml0aW9uJ1xuaW1wb3J0IEZhY3RvcnlEZWZpbml0aW9uIGZyb20gJy4vc3JjL2ZhY3RvcnktZGVmaW5pdGlvbidcbmltcG9ydCBSZWZlcmVuY2UgZnJvbSAnLi9zcmMvcmVmZXJlbmNlJ1xuaW1wb3J0IFBhcmFtZXRlciBmcm9tICcuL3NyYy9wYXJhbWV0ZXInXG5pbXBvcnQgTWV0aG9kQ2FsbCBmcm9tICcuL3NyYy9tZXRob2QtY2FsbCdcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIENvbnRhaW5lcixcbiAgQ2xhc3NDb25zdHJ1Y3RvckRlZmluaXRpb24sXG4gIEZhY3RvcnlEZWZpbml0aW9uLFxuICBSZWZlcmVuY2UsXG4gIFBhcmFtZXRlcixcbiAgTWV0aG9kQ2FsbFxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vaW5kZXguanMiLCJpbXBvcnQgRGVmaW5pdGlvbiBmcm9tICcuL2RlZmluaXRpb24nXG5pbXBvcnQgQ2xhc3NDb25zdHJ1Y3RvckRlZmluaXRpb24gZnJvbSAnLi9jbGFzcy1jb25zdHJ1Y3Rvci1kZWZpbml0aW9uJ1xuaW1wb3J0IEZhY3RvcnlEZWZpbml0aW9uIGZyb20gJy4vZmFjdG9yeS1kZWZpbml0aW9uJ1xuaW1wb3J0IFJlZmVyZW5jZSBmcm9tICcuL3JlZmVyZW5jZSdcbmltcG9ydCBQYXJhbWV0ZXIgZnJvbSAnLi9wYXJhbWV0ZXInXG5pbXBvcnQgTWV0aG9kQ2FsbCBmcm9tICcuL21ldGhvZC1jYWxsJ1xuXG5pbXBvcnQgdHlwZSB7SW5qZWN0YWJsZUFyZ3VtZW50c30gZnJvbSAnLi90eXBlcy9pbmplY3RhYmxlLWFyZ3VtZW50cydcbnR5cGUgc2NhbGFyID0gKHN0cmluZ3xudW1iZXJ8Ym9vbGVhbnxudWxsKVxudHlwZSBMb2FkaW5nT2JqZWN0ID0ge1xuICBvYmo6IE9iamVjdDxzdHJpbmcsIGJvb2xlYW4+LFxuICBhcnI6IEFycmF5PHN0cmluZz5cbn1cbnR5cGUgTG9jYXRvckNhbGxiYWNrID0gKGlkZW50aWZpZXI6IHN0cmluZykgPT4gKD9GdW5jdGlvbilcblxuLyoqXG4gKiBAYXV0aG9yIEJlbmphbWluIE1pY2hhbHNraSA8YmVuamFtaW4ubWljaGFsc2tpQGdtYWlsLmNvbT5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmNsYXNzIENvbnRhaW5lciB7XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdG9yXG4gICAqL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9zZXJ2aWNlc0J5SWRlbnRpZmllciA9IHt9XG4gICAgdGhpcy5fc2VydmljZURlZmluaXRpb25zQnlJZGVudGlmaWVyID0ge31cbiAgICB0aGlzLl9wYXJhbWV0ZXJzQnlJZGVudGlmaWVyID0ge31cbiAgICB0aGlzLl9zZXJ2aWNlRGVmaW5pdGlvbnNBbHJlYWR5VXNlZFRvSW5zdGFudGlhdGVCeUlkZW50aWZpZXIgPSB7fVxuICAgIHRoaXMuX2NsYXNzQ29uc3RydWN0b3JMb2NhdG9ycyA9IFtdXG4gICAgdGhpcy5faW5zdGFuY2VMb2NhdG9ycyA9IFtdXG4gIH1cblxuICAvKipcbiAgICogR2V0cyBzZXJ2aWNlIGFzc29jaWF0ZWQgd2l0aCBpZGVudGlmaWVyXG4gICAqXG4gICAqIEBwYXJhbSB7Li4uc3RyaW5nfSBpZGVudGlmaWVyc1xuICAgKlxuICAgKiBAcHJvbWlzZVxuICAgKiBAcmVzb2x2ZSB7T2JqZWN0fEZ1bmN0aW9ufSBzZXJ2aWNlIGlkZW50aWZpZWQgYnkgaWRlbnRpZmllclxuICAgKiBAcmVqZWN0IHtFcnJvcn0gaW4gY2FzZSB0aGUgc2VydmljZSBpcyB1bmRlZmluZWRcbiAgICogQHJlamVjdCB7RXJyb3J9IGluIGNhc2Ugb2YgYSBjaXJjdWxhciBkZXBlbmRlbmN5XG4gICAqXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIGdldCguLi5pZGVudGlmaWVyczogQXJyYXk8c3RyaW5nPik6IFByb21pc2U8T2JqZWN0fEZ1bmN0aW9uPiB7XG4gICAgY29uc3QgcHJvbWlzZXMgPSBbXVxuXG4gICAgaWRlbnRpZmllcnMuZm9yRWFjaCgoaWRlbnRpZmllcikgPT4ge1xuICAgICAgcHJvbWlzZXMucHVzaChcbiAgICAgICAgdGhpcy5fZG9HZXRTZXJ2aWNlKGlkZW50aWZpZXIsIHsgb2JqOiB7fSwgYXJyOiBbXSB9KVxuICAgICAgKVxuICAgIH0pXG5cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpXG4gIH1cblxuICAvKipcbiAgICogQXNzb2NpYXRlcyBzZXJ2aWNlIHdpdGggaWRlbnRpZmllclxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWRlbnRpZmllclxuICAgKiBAcGFyYW0ge09iamVjdHxGdW5jdGlvbn0gaW5zdGFuY2Ugc2VydmljZSBpbnN0YW5jZVxuICAgKlxuICAgKiBAcmV0dXJucyB7Q29udGFpbmVyfSBjdXJyZW50IENvbnRhaW5lciBpbnN0YW5jZVxuICAgKlxuICAgKiBAcHVibGljXG4gICAqL1xuICBzZXQoaWRlbnRpZmllcjogc3RyaW5nLCBpbnN0YW5jZTogKE9iamVjdHxGdW5jdGlvbikpOiBDb250YWluZXIge1xuICAgIHRoaXMuX3NlcnZpY2VzQnlJZGVudGlmaWVyW2lkZW50aWZpZXJdID0gaW5zdGFuY2VcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIGNvbnRhaW5lciBoYXMgc2VydmljZSwgdGhhdCBpcyBlaXRoZXIgaWY6XG4gICAqICogaXQgaGFzIGEge0BsaW5rIERlZmluaXRpb259XG4gICAqICogaXQgaGFzIGJlZW4gaW5zdGFudGlhdGVkXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZGVudGlmaWVyXG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgaGFzKGlkZW50aWZpZXI6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmhhc0RlZmluaXRpb24oaWRlbnRpZmllcikgfHwgdGhpcy5oYXNJbnN0YW5jZShpZGVudGlmaWVyKVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgc2VydmljZSBoYXMgYSBkZWZpbml0aW9uXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZGVudGlmaWVyXG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKlxuICAgKiBAcHVibGljXG4gICAqL1xuICBoYXNEZWZpbml0aW9uKGlkZW50aWZpZXI6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB1bmRlZmluZWQgIT09IHRoaXMuX3NlcnZpY2VEZWZpbml0aW9uc0J5SWRlbnRpZmllcltpZGVudGlmaWVyXVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgc2VydmljZSBoYXMgYW4gaW5zdGFuY2UsIGVpdGhlciBiZWNhdXNlOlxuICAgKiAqIGl0IGhhcyBiZWVuIGluc3RhbnRpYXRlZCB2aWEgaXRzIHtAbGluayBEZWZpbml0aW9ufVxuICAgKiAqIGl0IGhhcyBiZWVuIHNldCBkaXJlY3RseSB2aWEge0BsaW5rIHNldH0gbWV0aG9kXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZGVudGlmaWVyXG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKlxuICAgKiBAcHVibGljXG4gICAqL1xuICBoYXNJbnN0YW5jZShpZGVudGlmaWVyOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkICE9PSB0aGlzLl9zZXJ2aWNlc0J5SWRlbnRpZmllcltpZGVudGlmaWVyXVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgc2VydmljZSB7QGxpbmsgRGVmaW5pdGlvbn0gYXNzb2NpYXRlZCB3aXRoIGlkZW50aWZpZXJcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkZW50aWZpZXJcbiAgICpcbiAgICogQHJldHVybnMge0RlZmluaXRpb259XG4gICAqXG4gICAqIEB0aHJvd3Mge0Vycm9yfSBpZiB0aGVyZSBpcyBubyBzZXJ2aWNlIGRlZmluaXRpb24gZm9yIGdpdmVuIGlkZW50aWZpZXJcbiAgICpcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgZ2V0RGVmaW5pdGlvbihpZGVudGlmaWVyOiBzdHJpbmcpOiBEZWZpbml0aW9uIHtcbiAgICBjb25zdCBkZWZpbml0aW9uID0gdGhpcy5fc2VydmljZURlZmluaXRpb25zQnlJZGVudGlmaWVyW2lkZW50aWZpZXJdXG5cbiAgICBpZiAodW5kZWZpbmVkID09PSBkZWZpbml0aW9uKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3Npbmcgc2VydmljZSBkZWZpbml0aW9uIGZvciBpZGVudGlmaWVyIFwiJyArIGlkZW50aWZpZXIgKyAnXCInKVxuICAgIH1cblxuICAgIHJldHVybiBkZWZpbml0aW9uXG4gIH1cblxuICAvKipcbiAgICogQXNzb2NpYXRlcyBzZXJ2aWNlIHtAbGluayBEZWZpbml0aW9ufSB3aXRoIGlkZW50aWZpZXJcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkZW50aWZpZXIgc2VydmljZSBpZGVudGlmaWVyXG4gICAqIEBwYXJhbSB7RGVmaW5pdGlvbn0gZGVmaW5pdGlvbiBzZXJ2aWNlIGRlZmluaXRpb25cbiAgICpcbiAgICogQHJldHVybnMge0NvbnRhaW5lcn0gY3VycmVudCBDb250YWluZXIgaW5zdGFuY2VcbiAgICpcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgc2V0RGVmaW5pdGlvbihpZGVudGlmaWVyOiBzdHJpbmcsIGRlZmluaXRpb246IERlZmluaXRpb24pOiBDb250YWluZXIge1xuICAgIGlmICh0aGlzLl9zZXJ2aWNlRGVmaW5pdGlvbnNBbHJlYWR5VXNlZFRvSW5zdGFudGlhdGVCeUlkZW50aWZpZXJbaWRlbnRpZmllcl0pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1NlcnZpY2UgZGVmaW5pdGlvbiBmb3IgXCInXG4gICAgICAgICAgKyBpZGVudGlmaWVyXG4gICAgICAgICAgKyAnXCIgaGFzIGFscmVhZHkgYmVlbiB1c2VkIHRvIGluc3RhbnRpYXRlIGEgc2VydmljZSwgcmVmdXNpbmcgdG8gbW9kaWZ5IGl0J1xuICAgICAgKVxuICAgIH1cblxuICAgIHRoaXMuX3NlcnZpY2VEZWZpbml0aW9uc0FscmVhZHlVc2VkVG9JbnN0YW50aWF0ZUJ5SWRlbnRpZmllcltpZGVudGlmaWVyXSA9IGZhbHNlXG4gICAgdGhpcy5fc2VydmljZURlZmluaXRpb25zQnlJZGVudGlmaWVyW2lkZW50aWZpZXJdID0gZGVmaW5pdGlvblxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHBhcmFtZXRlciBhc3NvY2lhdGVkIHdpdGggaWRlbnRpZmllclxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWRlbnRpZmllciBwYXJhbWV0ZXIgaWRlbnRpZmllclxuICAgKlxuICAgKiBAcmV0dXJucyB7c2NhbGFyfSBwYXJhbWV0ZXIgdmFsdWVcbiAgICpcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgZ2V0UGFyYW1ldGVyKGlkZW50aWZpZXI6IHN0cmluZyk6IHNjYWxhciB7XG4gICAgaWYgKHVuZGVmaW5lZCA9PT0gdGhpcy5fcGFyYW1ldGVyc0J5SWRlbnRpZmllcltpZGVudGlmaWVyXSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmRlZmluZWQgcGFyYW1ldGVyIFwiJyArIGlkZW50aWZpZXIgKyAnXCInKVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9wYXJhbWV0ZXJzQnlJZGVudGlmaWVyW2lkZW50aWZpZXJdXG4gIH1cblxuICAvKipcbiAgICogQXNzb2NpYXRlcyBwYXJhbWV0ZXIgd2l0aCBpZGVudGlmaWVyXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZGVudGlmaWVyXG4gICAqIEBwYXJhbSB7c2NhbGFyfSB2YWx1ZVxuICAgKlxuICAgKiBAcmV0dXJucyB7Q29udGFpbmVyfSBjdXJyZW50IENvbnRhaW5lciBpbnN0YW5jZVxuICAgKlxuICAgKiBAcHVibGljXG4gICAqL1xuICBzZXRQYXJhbWV0ZXIoaWRlbnRpZmllcjogc3RyaW5nLCB2YWx1ZTogc2NhbGFyKTogQ29udGFpbmVyIHtcbiAgICB0aGlzLl9wYXJhbWV0ZXJzQnlJZGVudGlmaWVyW2lkZW50aWZpZXJdID0gdmFsdWVcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIGNvbnRhaW5lciBoYXMgcGFyYW1ldGVyLCBmYWxzZSBvdGhlcndpc2VcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkZW50aWZpZXJcbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBoYXNQYXJhbWV0ZXIoaWRlbnRpZmllcjogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZCAhPT0gdGhpcy5fcGFyYW1ldGVyc0J5SWRlbnRpZmllcltpZGVudGlmaWVyXVxuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVycyBcbiAgICogXG4gICAqIEBwYXJhbSB7TG9jYXRvckNhbGxiYWNrfSBsb2NhdG9yXG4gICAqXG4gICAqIEByZXR1cm5zIHtDb250YWluZXJ9IGN1cnJlbnQgQ29udGFpbmVyIGluc3RhbmNlXG4gICAqXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIHJlZ2lzdGVyQ2xhc3NDb25zdHJ1Y3RvckxvY2F0b3IobG9jYXRvcjogTG9jYXRvckNhbGxiYWNrKTogQ29udGFpbmVyIHtcbiAgICB0aGlzLl9jbGFzc0NvbnN0cnVjdG9yTG9jYXRvcnMucHVzaChsb2NhdG9yKVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0xvY2F0b3JDYWxsYmFja30gbG9jYXRvclxuICAgKlxuICAgKiBAcmV0dXJucyB7Q29udGFpbmVyfSBjdXJyZW50IENvbnRhaW5lciBpbnN0YW5jZVxuICAgKlxuICAgKiBAcHVibGljXG4gICAqL1xuICByZWdpc3Rlckluc3RhbmNlTG9jYXRvcihsb2NhdG9yOiBMb2NhdG9yQ2FsbGJhY2spOiBDb250YWluZXIge1xuICAgIHRoaXMuX2luc3RhbmNlTG9jYXRvcnMucHVzaChsb2NhdG9yKVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNvbHZlcyBzZXJ2aWNlIGRlZmluaXRpb24gYXJndW1lbnRzLCB0aGVuIHVzZXMgdGhlbSB0byBpbnN0YW50aWF0ZSB0aGUgc2VydmljZS5cbiAgICpcbiAgICogQHBhcmFtIHtEZWZpbml0aW9ufSBkZWZpbml0aW9uXG4gICAqIEBwYXJhbSB7TG9hZGluZ09iamVjdH0gbG9hZGluZyBhbiBvYmplY3QgdGhhdCBrZWVwcyB0cmFjayBvZiBzZXJ2aWNlIGluc3RhbnRpYXRpb25zLFxuICAgKiB1c2VkIHRvIHByZXZlbnQgY2lyY3VsYXIgZGVwZW5kZW5jeSByZWxhdGVkIGluZmluaXRlIGxvb3BzXG4gICAqXG4gICAqIEBwcm9taXNlXG4gICAqIEByZXNvbHZlIHtPYmplY3R9XG4gICAqIEByZWplY3Qge0Vycm9yfSBpbiBjYXNlIGEgZmFjdG9yeSBtZXRob2QgcmV0dXJucyBub3RoaW5nXG4gICAqIEByZWplY3Qge0Vycm9yfSBpbiBjYXNlIGEgbWV0aG9kIGNhbGwgY2FsbHMgYSBtZXRob2QgdGhhdCBkb2VzIG5vdCBleGlzdFxuICAgKiBAcmVqZWN0IHtFcnJvcn0gaW4gY2FzZSB0aGUgc2VydmljZSBkZWZpbml0aW9uXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaW5zdGFudGlhdGUoZGVmaW5pdGlvbjogRGVmaW5pdGlvbiwgbG9hZGluZzogTG9hZGluZ09iamVjdCk6IFByb21pc2U8T2JqZWN0PiB7XG4gICAgcmV0dXJuIHRoaXNcbiAgICAgIC5fcmVzb2x2ZUFyZ3MoZGVmaW5pdGlvbi5hcmdzLCBsb2FkaW5nKVxuICAgICAgLnRoZW4oKGFyZ3M6IEFycmF5KTogUHJvbWlzZSA9PiB7XG4gICAgICAgIGxldCBpbnN0YW5jZVxuXG4gICAgICAgIGlmIChkZWZpbml0aW9uIGluc3RhbmNlb2YgQ2xhc3NDb25zdHJ1Y3RvckRlZmluaXRpb24pIHtcbiAgICAgICAgICBjb25zdCBjbGFzc0NvbnN0cnVjdG9yID0gdGhpcy5fbG9jYXRlU2VydmljZUNsYXNzQ29uc3RydWN0b3IoZGVmaW5pdGlvbi5jbGFzc0NvbnN0cnVjdG9ySWRlbnRpZmllcilcblxuICAgICAgICAgIGluc3RhbmNlID0gbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseShjbGFzc0NvbnN0cnVjdG9yLCBbIHVuZGVmaW5lZCBdLmNvbmNhdChhcmdzKSkpXG4gICAgICAgIH0gZWxzZSBpZiAoZGVmaW5pdGlvbiBpbnN0YW5jZW9mIEZhY3RvcnlEZWZpbml0aW9uKSB7XG4gICAgICAgICAgaW5zdGFuY2UgPSBkZWZpbml0aW9uLmZhY3RvcnkuYXBwbHkodW5kZWZpbmVkLCBhcmdzKVxuXG4gICAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gaW5zdGFuY2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0aW5nIGZhY3RvcnkgbWV0aG9kIHRvIHJldHVybiBhIHNlcnZpY2UnKVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvL1RoZW9yZXRpY2FsbHksIGNhbid0IGhhcHBlbiB3aXRoIGN1cnJlbnQgRGVmaW5pdGlvbiBpbXBsZW1lbnRhdGlvbi5cbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vuc3VwcG9ydGVkJylcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG1ldGhvZENhbGxzUHJvbWlzZXMgPSBbXVxuXG4gICAgICAgIGRlZmluaXRpb24ubWV0aG9kQ2FsbHMuZm9yRWFjaCgobWV0aG9kQ2FsbDogTWV0aG9kQ2FsbCk6IHZvaWQgPT4ge1xuICAgICAgICAgIGNvbnN0IG1ldGhvZE5hbWUgPSBtZXRob2RDYWxsLm5hbWVcbiAgICAgICAgICBjb25zdCBtZXRob2QgPSBpbnN0YW5jZVttZXRob2ROYW1lXVxuXG4gICAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gbWV0aG9kKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01ldGhvZCBcIicgKyBtZXRob2ROYW1lICsgJ1wiIGRvZXMgbm90IGV4aXN0JylcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBtZXRob2RDYWxsc1Byb21pc2VzLnB1c2goXG4gICAgICAgICAgICB0aGlzXG4gICAgICAgICAgICAgIC5fcmVzb2x2ZUFyZ3MobWV0aG9kQ2FsbC5hcmdzLCBsb2FkaW5nKVxuICAgICAgICAgICAgICAudGhlbigoYXJnczogQXJyYXkpOiA/KFByb21pc2V8bWl4ZWQpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWV0aG9kLmFwcGx5KGluc3RhbmNlLCBhcmdzKVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgIClcbiAgICAgICAgfSlcblxuICAgICAgICByZXR1cm4gUHJvbWlzZVxuICAgICAgICAgIC5hbGwobWV0aG9kQ2FsbHNQcm9taXNlcylcbiAgICAgICAgICAudGhlbigoKTogT2JqZWN0ID0+IHtcbiAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZVxuICAgICAgICAgIH0pXG4gICAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgaW50ZXJuYWxseSB0byBsb2NhdGUgYSBzZXJ2aWNlIGNsYXNzIGNvbnN0cnVjdG9yLCBpZiBpdCBoYXMgYmVlbiBtYWRlIGF2YWlsYWJsZSB0byB0aGUgY29udGFpbmVyIGluc3RhbmNlLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWRlbnRpZmllclxuICAgKlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IGEgc2VydmljZSBjbGFzcyBjb25zdHJ1Y3RvclxuICAgKlxuICAgKiBAdGhyb3dzIHtFcnJvcn0gaWYgdGhlIGNsYXNzIGNvbnN0cnVjdG9yIGNvdWxkIG5vdCBiZSBmb3VuZFxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2xvY2F0ZVNlcnZpY2VDbGFzc0NvbnN0cnVjdG9yKGlkZW50aWZpZXI6IHN0cmluZyk6IEZ1bmN0aW9uIHtcbiAgICBsZXQgaVxuICAgIGxldCBjbGFzc0NvbnN0cnVjdG9yXG5cbiAgICBmb3IgKGkgaW4gdGhpcy5fY2xhc3NDb25zdHJ1Y3RvckxvY2F0b3JzKSB7XG4gICAgICBpZiAodGhpcy5fY2xhc3NDb25zdHJ1Y3RvckxvY2F0b3JzLmhhc093blByb3BlcnR5KGkpKSB7XG4gICAgICAgIGNsYXNzQ29uc3RydWN0b3IgPSB0aGlzLl9jbGFzc0NvbnN0cnVjdG9yTG9jYXRvcnNbaV0oaWRlbnRpZmllcilcblxuICAgICAgICBpZiAodW5kZWZpbmVkICE9PSBjbGFzc0NvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodW5kZWZpbmVkID09PSBjbGFzc0NvbnN0cnVjdG9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkIG5vdCBsb2NhdGUgc2VydmljZSBjbGFzcyBjb25zdHJ1Y3RvciBmb3IgaWRlbnRpZmllciBcIicgKyBpZGVudGlmaWVyICsgJ1wiJylcbiAgICB9XG5cbiAgICByZXR1cm4gY2xhc3NDb25zdHJ1Y3RvclxuICB9XG5cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkZW50aWZpZXJcbiAgICpcbiAgICogQHJldHVybnMge09iamVjdHx2b2lkfVxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2xvY2F0ZUluc3RhbmNlKGlkZW50aWZpZXI6IHN0cmluZyk6IE9iamVjdHx2b2lkIHtcbiAgICBsZXQgaVxuICAgIGxldCBpbnN0YW5jZVxuXG4gICAgZm9yIChpIGluIHRoaXMuX2luc3RhbmNlTG9jYXRvcnMpIHtcbiAgICAgIGlmICh0aGlzLl9pbnN0YW5jZUxvY2F0b3JzLmhhc093blByb3BlcnR5KGkpKSB7XG4gICAgICAgIGluc3RhbmNlID0gdGhpcy5faW5zdGFuY2VMb2NhdG9yc1tpXShpZGVudGlmaWVyKVxuXG4gICAgICAgIGlmICh1bmRlZmluZWQgIT09IGluc3RhbmNlKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gaW5zdGFuY2VcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNvbHZlcyBnaXZlbiBhcmd1bWVudHMuXG4gICAqXG4gICAqIEBwYXJhbSB7SW5qZWN0YWJsZUFyZ3VtZW50c30gYXJnc1xuICAgKiBAcGFyYW0ge0xvYWRpbmdPYmplY3R9IGxvYWRpbmcgYW4gb2JqZWN0IHRoYXQga2VlcHMgdHJhY2sgb2Ygc2VydmljZSBpbnN0YW50aWF0aW9ucyxcbiAgICogdXNlZCB0byBwcmV2ZW50IGNpcmN1bGFyIGRlcGVuZGVuY3kgcmVsYXRlZCBpbmZpbml0ZSBsb29wc1xuICAgKlxuICAgKiBAcHJvbWlzZVxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3Jlc29sdmVBcmdzKGFyZ3M6IEluamVjdGFibGVBcmd1bWVudHMsIGxvYWRpbmc6IExvYWRpbmdPYmplY3QpOiBQcm9taXNlIHtcbiAgICBjb25zdCBwcm9taXNlcyA9IFtdXG5cbiAgICBhcmdzLmZvckVhY2goKGFyZykgPT4ge1xuICAgICAgaWYgKGFyZyBpbnN0YW5jZW9mIFJlZmVyZW5jZSkge1xuICAgICAgICBjb25zdCBpZCA9IGFyZy5pZFxuXG4gICAgICAgIHByb21pc2VzLnB1c2goXG4gICAgICAgICAgdGhpcy5fZG9HZXRTZXJ2aWNlKGlkLCBDb250YWluZXIuX2RlZXBDb3B5TG9hZGluZyhsb2FkaW5nKSlcbiAgICAgICAgKVxuICAgICAgfSBlbHNlIGlmIChhcmcgaW5zdGFuY2VvZiBQYXJhbWV0ZXIpIHtcbiAgICAgICAgcHJvbWlzZXMucHVzaChcbiAgICAgICAgICB0aGlzLmdldFBhcmFtZXRlcihhcmcuaWQpXG4gICAgICAgIClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVW5zdXBwb3J0ZWQgYXJnIG9mIHR5cGUgXCInICsgKHR5cGVvZiBhcmcpICsgJ1wiJyk7XG4gICAgICB9XG4gICAgfSlcblxuICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcylcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZGVudGlmaWVyXG4gICAqXG4gICAqIEByZXR1cm5zIHtFcnJvcn1cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHN0YXRpYyBfY3JlYXRlTWlzc2luZ1NlcnZpY2VEZWZpbml0aW9uQW5kSW5zdGFuY2VGb3JJZGVudGlmaWVyRXJyb3IoaWRlbnRpZmllcjogc3RyaW5nKTogRXJyb3Ige1xuICAgIHJldHVybiBuZXcgRXJyb3IoJ01pc3Npbmcgc2VydmljZSBkZWZpbml0aW9uIGFuZCBpbnN0YW5jZSBmb3IgaWRlbnRpZmllciBcIicgKyBpZGVudGlmaWVyICsgJ1wiJylcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIGludGVybmFsbHkgdG8gcmV0cmlldmUgYSBzZXJ2aWNlIGJ5IGl0cyBpZGVudGlmaWVyLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWRlbnRpZmllciB0aGUgaWRlbnRpZmllciBvZiB0aGUgc2VydmljZVxuICAgKiBAcGFyYW0ge0xvYWRpbmdPYmplY3R9IGxvYWRpbmcgYW4gb2JqZWN0IHRoYXQga2VlcHMgdHJhY2sgb2Ygc2VydmljZSBpbnN0YW50aWF0aW9ucyxcbiAgICogdXNlZCB0byBwcmV2ZW50IGNpcmN1bGFyIGRlcGVuZGVuY3kgcmVsYXRlZCBpbmZpbml0ZSBsb29wc1xuICAgKlxuICAgKiBAcHJvbWlzZVxuICAgKiBAcmVzb2x2ZSB7Kn0gYSBzZXJ2aWNlIHRoYXQgY291bGQgYmUgb2YgYW55IHR5cGVcbiAgICogQHJlamVjdCB7RXJyb3J9IGluIGNhc2UgdGhlIHNlcnZpY2UgaXMgdW5kZWZpbmVkXG4gICAqIEByZWplY3Qge0Vycm9yfSBpbiBjYXNlIG9mIGEgY2lyY3VsYXIgZGVwZW5kZW5jeVxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2RvR2V0U2VydmljZShpZGVudGlmaWVyOiBzdHJpbmcsIGxvYWRpbmc6IExvYWRpbmdPYmplY3QpOiBQcm9taXNlIHtcbiAgICBpZiAodW5kZWZpbmVkICE9PSBsb2FkaW5nLm9ialtpZGVudGlmaWVyXSkge1xuICAgICAgY29uc3QgcGF0aCA9IFtdXG4gICAgICAgIC5jb25jYXQobG9hZGluZy5hcnIpXG4gICAgICAgIC5jb25jYXQoWyBpZGVudGlmaWVyIF0pXG4gICAgICAgIC5yZXZlcnNlKClcbiAgICAgICAgLmpvaW4oJyA8LSAnKVxuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG4gICAgICAgIG5ldyBFcnJvcignQ2lyY3VsYXIgZGVwZW5kZW5jeSBmb3VuZDogJyArIHBhdGggKyAnJylcbiAgICAgIClcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuaGFzSW5zdGFuY2UoaWRlbnRpZmllcikpIHtcbiAgICAgIGlmICghdGhpcy5oYXNEZWZpbml0aW9uKGlkZW50aWZpZXIpKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX2xvY2F0ZUluc3RhbmNlKGlkZW50aWZpZXIpXG5cbiAgICAgICAgaWYgKHVuZGVmaW5lZCAhPT0gcmVzdWx0KSB7XG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogSW4gY2FzZSBsb2NhdGUgaW5zdGFuY2UgcmV0dXJucyBhIHByb21pc2UsIHJlc29sdmUgcHJvbWlzZVxuICAgICAgICAgICAqL1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzdWx0KS50aGVuKChpbnN0YW5jZSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gaW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICByZWplY3QoQ29udGFpbmVyLl9jcmVhdGVNaXNzaW5nU2VydmljZURlZmluaXRpb25BbmRJbnN0YW5jZUZvcklkZW50aWZpZXJFcnJvcihpZGVudGlmaWVyKSlcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKGluc3RhbmNlKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoQ29udGFpbmVyLl9jcmVhdGVNaXNzaW5nU2VydmljZURlZmluaXRpb25BbmRJbnN0YW5jZUZvcklkZW50aWZpZXJFcnJvcihpZGVudGlmaWVyKSlcbiAgICAgIH1cblxuICAgICAgbG9hZGluZy5vYmpbaWRlbnRpZmllcl0gPSB0cnVlXG4gICAgICBsb2FkaW5nLmFyci5wdXNoKGlkZW50aWZpZXIpXG5cbiAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLl9pbnN0YW50aWF0ZSh0aGlzLmdldERlZmluaXRpb24oaWRlbnRpZmllciksIGxvYWRpbmcpXG5cbiAgICAgIHRoaXMuX3NlcnZpY2VEZWZpbml0aW9uc0FscmVhZHlVc2VkVG9JbnN0YW50aWF0ZUJ5SWRlbnRpZmllcltpZGVudGlmaWVyXSA9IHRydWVcblxuICAgICAgdGhpcy5fc2VydmljZXNCeUlkZW50aWZpZXJbaWRlbnRpZmllcl0gPSBwcm9taXNlXG4gICAgfVxuXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9zZXJ2aWNlc0J5SWRlbnRpZmllcltpZGVudGlmaWVyXSlcbiAgfVxuXG4gIC8qKlxuICAgKiBNYWtlcyBhIGRlZXAgY29weSBvZiBsb2FkaW5nIG9iamVjdCBzbyBhcyBub3QgdG8gbW9kaWZ5IGl0IGJ5IHJlZmVyZW5jZS5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IGxvYWRpbmdcbiAgICpcbiAgICogQHJldHVybnMge09iamVjdH0gbG9hZGluZyBhIGRlZXAgY29weSBvZiB0aGUgb3JpZ2luYWwgbG9hZGluZyBwYXJhbWV0ZXJcbiAgICogQHJldHVybnMge09iamVjdDxzdHJpbmcsIGJvb2xlYW4+fSBsb2FkaW5nLm9ialxuICAgKiBAcmV0dXJucyB7QXJyYXk8c3RyaW5nPn0gbG9hZGluZy5hcnJcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHN0YXRpYyBfZGVlcENvcHlMb2FkaW5nKGxvYWRpbmc6IE9iamVjdCk6IE9iamVjdCB7XG4gICAgY29uc3QgbmV3TG9hZGluZyA9IHtcbiAgICAgIG9iajoge30sXG4gICAgICBhcnI6IFtdLmNvbmNhdChsb2FkaW5nLmFycilcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpIGluIGxvYWRpbmcub2JqKSB7XG4gICAgICBpZiAobG9hZGluZy5vYmouaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgICAgbmV3TG9hZGluZy5vYmpbaV0gPSBsb2FkaW5nLm9ialtpXVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBuZXdMb2FkaW5nXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29udGFpbmVyXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbnRhaW5lci5qcyIsImltcG9ydCBNZXRob2RDYWxsIGZyb20gJy4vbWV0aG9kLWNhbGwnXG5cbmltcG9ydCB0eXBlIHtJbmplY3RhYmxlQXJndW1lbnRzfSBmcm9tICcuL3R5cGVzL2luamVjdGFibGUtYXJndW1lbnRzJ1xuXG4vKipcbiAqIEBhdXRob3IgQmVuamFtaW4gTWljaGFsc2tpIDxiZW5qYW1pbi5taWNoYWxza2lAZ21haWwuY29tPlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmNsYXNzIERlZmluaXRpb24ge1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RvclxuICAgKlxuICAgKiBAcGFyYW0gez9JbmplY3RhYmxlQXJndW1lbnRzfSBbYXJncz1bXV1cbiAgICovXG4gIGNvbnN0cnVjdG9yKGFyZ3M6ID9JbmplY3RhYmxlQXJndW1lbnRzID0gW10pIHtcbiAgICB0aGlzLl9tZXRob2RDYWxscyA9IFtdXG4gICAgdGhpcy5fYXJncyA9IGFyZ3NcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIG1ldGhvZENhbGxzXG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXk8TWV0aG9kQ2FsbD59IG1ldGhvZENhbGxzXG4gICAqL1xuICBzZXQgbWV0aG9kQ2FsbHMobWV0aG9kQ2FsbHM6IEFycmF5PE1ldGhvZENhbGw+KTogdm9pZCB7XG4gICAgdGhpcy5fbWV0aG9kQ2FsbHMgPSBtZXRob2RDYWxsc1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgbWV0aG9kQ2FsbHNcbiAgICpcbiAgICogQHJldHVybnMge0FycmF5PE1ldGhvZENhbGw+fVxuICAgKi9cbiAgZ2V0IG1ldGhvZENhbGxzKCk6IEFycmF5PE1ldGhvZENhbGw+IHtcbiAgICByZXR1cm4gdGhpcy5fbWV0aG9kQ2FsbHNcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIGFyZ3NcbiAgICpcbiAgICogQHJldHVybnMge0luamVjdGFibGVBcmd1bWVudHN9XG4gICAqL1xuICBnZXQgYXJncygpOiBJbmplY3RhYmxlQXJndW1lbnRzIHtcbiAgICByZXR1cm4gdGhpcy5fYXJnc1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IERlZmluaXRpb25cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZGVmaW5pdGlvbi5qcyIsImltcG9ydCB0eXBlIHtJbmplY3RhYmxlQXJndW1lbnRzfSBmcm9tICcuL3R5cGVzL2luamVjdGFibGUtYXJndW1lbnRzJ1xuXG4vKipcbiAqIEBhdXRob3IgQmVuamFtaW4gTWljaGFsc2tpIDxiZW5qYW1pbi5taWNoYWxza2lAZ21haWwuY29tPlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuY2xhc3MgTWV0aG9kQ2FsbCB7XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdG9yXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIG1ldGhvZCBuYW1lXG4gICAqIEBwYXJhbSB7P0luamVjdGFibGVBcmd1bWVudHN9IFthcmdzPVtdXVxuICAgKlxuICAgKiBAcHVibGljXG4gICAqL1xuICBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIGFyZ3M6ID9JbmplY3RhYmxlQXJndW1lbnRzID0gW10pIHtcbiAgICB0aGlzLl9uYW1lID0gbmFtZVxuICAgIHRoaXMuX2FyZ3MgPSBhcmdzXG4gIH1cblxuICAvKipcbiAgICogR2V0cyBuYW1lXG4gICAqXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIGdldCBuYW1lKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuX25hbWVcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIGFyZ3NcbiAgICpcbiAgICogQHJldHVybnMge0luamVjdGFibGVBcmd1bWVudHN9XG4gICAqXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIGdldCBhcmdzKCk6IEluamVjdGFibGVBcmd1bWVudHMge1xuICAgIHJldHVybiB0aGlzLl9hcmdzXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTWV0aG9kQ2FsbFxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9tZXRob2QtY2FsbC5qcyIsImltcG9ydCBSZWZlcmVuY2UgZnJvbSAnLi4vcmVmZXJlbmNlJ1xuaW1wb3J0IFBhcmFtZXRlciBmcm9tICcuLi9wYXJhbWV0ZXInXG5cbmV4cG9ydCB0eXBlIEluamVjdGFibGVBcmd1bWVudHMgPSBBcnJheTxSZWZlcmVuY2V8UGFyYW1ldGVyPlxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3R5cGVzL2luamVjdGFibGUtYXJndW1lbnRzLmpzIiwiLyoqXG4gKiBAYXV0aG9yIEJlbmphbWluIE1pY2hhbHNraSA8YmVuamFtaW4ubWljaGFsc2tpQGdtYWlsLmNvbT5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmNsYXNzIFJlZmVyZW5jZSB7XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdG9yXG4gICAqIFxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWRcbiAgICpcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgY29uc3RydWN0b3IoaWQ6IHN0cmluZykge1xuICAgIHRoaXMuX2lkID0gaWRcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIGlkXG4gICAqXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIGdldCBpZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLl9pZFxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJlZmVyZW5jZVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9yZWZlcmVuY2UuanMiLCIvKipcbiAqIEBhdXRob3IgQmVuamFtaW4gTWljaGFsc2tpIDxiZW5qYW1pbi5taWNoYWxza2lAZ21haWwuY29tPlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuY2xhc3MgUGFyYW1ldGVyIHtcblxuICAvKipcbiAgICogQ29uc3RydWN0b3JcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gICAqXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIGNvbnN0cnVjdG9yKGlkOiBzdHJpbmcpIHtcbiAgICB0aGlzLl9pZCA9IGlkXG4gIH1cblxuICAvKipcbiAgICogR2V0cyBpZFxuICAgKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKlxuICAgKiBAcHVibGljXG4gICAqL1xuICBnZXQgaWQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5faWRcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQYXJhbWV0ZXJcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvcGFyYW1ldGVyLmpzIiwiaW1wb3J0IERlZmluaXRpb24gZnJvbSAnLi9kZWZpbml0aW9uJ1xuXG5pbXBvcnQgdHlwZSB7SW5qZWN0YWJsZUFyZ3VtZW50c30gZnJvbSAnLi90eXBlcy9pbmplY3RhYmxlLWFyZ3VtZW50cydcblxuLyoqXG4gKiBAYXV0aG9yIEJlbmphbWluIE1pY2hhbHNraSA8YmVuamFtaW4ubWljaGFsc2tpQGdtYWlsLmNvbT5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmNsYXNzIENsYXNzQ29uc3RydWN0b3JEZWZpbml0aW9uIGV4dGVuZHMgRGVmaW5pdGlvbiB7XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdG9yXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc0NvbnN0cnVjdG9ySWRlbnRpZmllclxuICAgKiBAcGFyYW0gez9JbmplY3RhYmxlQXJndW1lbnRzfSBbYXJncz1bXV1cbiAgICovXG4gIGNvbnN0cnVjdG9yKGNsYXNzQ29uc3RydWN0b3JJZGVudGlmaWVyOiBzdHJpbmcsIGFyZ3M6ID9JbmplY3RhYmxlQXJndW1lbnRzID0gW10pIHtcbiAgICBzdXBlcihhcmdzKVxuXG4gICAgdGhpcy5fY2xhc3NDb25zdHJ1Y3RvcklkZW50aWZpZXIgPSBjbGFzc0NvbnN0cnVjdG9ySWRlbnRpZmllclxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgY2xhc3NDb25zdHJ1Y3RvcklkZW50aWZpZXJcbiAgICpcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICovXG4gIGdldCBjbGFzc0NvbnN0cnVjdG9ySWRlbnRpZmllcigpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLl9jbGFzc0NvbnN0cnVjdG9ySWRlbnRpZmllclxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENsYXNzQ29uc3RydWN0b3JEZWZpbml0aW9uXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NsYXNzLWNvbnN0cnVjdG9yLWRlZmluaXRpb24uanMiLCJpbXBvcnQgRGVmaW5pdGlvbiBmcm9tICcuL2RlZmluaXRpb24nXG5cbmltcG9ydCB0eXBlIHtJbmplY3RhYmxlQXJndW1lbnRzfSBmcm9tICcuL3R5cGVzL2luamVjdGFibGUtYXJndW1lbnRzJ1xuXG4vKipcbiAqIEBhdXRob3IgQmVuamFtaW4gTWljaGFsc2tpIDxiZW5qYW1pbi5taWNoYWxza2lAZ21haWwuY29tPlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuY2xhc3MgRmFjdG9yeURlZmluaXRpb24gZXh0ZW5kcyBEZWZpbml0aW9uIHtcbiAgXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RvclxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmYWN0b3J5XG4gICAqIEBwYXJhbSB7P0luamVjdGFibGVBcmd1bWVudHN9IFthcmdzPVtdXVxuICAgKi9cbiAgY29uc3RydWN0b3IoZmFjdG9yeTogRnVuY3Rpb24sIGFyZ3M6ID9JbmplY3RhYmxlQXJndW1lbnRzID0gW10pIHtcbiAgICBzdXBlcihhcmdzKVxuXG4gICAgdGhpcy5fZmFjdG9yeSA9IGZhY3RvcnlcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIGZhY3RvcnlcbiAgICpcbiAgICogQHJldHVybnMge0Z1bmN0aW9ufVxuICAgKi9cbiAgZ2V0IGZhY3RvcnkoKTogRnVuY3Rpb24ge1xuICAgIHJldHVybiB0aGlzLl9mYWN0b3J5XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRmFjdG9yeURlZmluaXRpb25cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZmFjdG9yeS1kZWZpbml0aW9uLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==